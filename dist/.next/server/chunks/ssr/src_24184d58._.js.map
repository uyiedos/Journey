{"version":3,"sources":["../../../../src/data/achievements.ts","../../../../src/contexts/UserDataContext.tsx","../../../../src/services/achievementService.ts"],"sourcesContent":["import { Achievement } from '@/types';\r\n\r\nexport const achievements: Achievement[] = [\r\n  // Daily Login Achievements\r\n  {\r\n    id: 'daily-login-1',\r\n    name: 'First Day',\r\n    description: 'Log in for the first time',\r\n    icon: 'sun',\r\n    points: 5,\r\n    category: 'daily',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'daily-login-7',\r\n    name: 'Week Warrior',\r\n    description: 'Log in for 7 consecutive days',\r\n    icon: 'calendar',\r\n    points: 50,\r\n    category: 'daily',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'daily-login-30',\r\n    name: 'Monthly Master',\r\n    description: 'Log in for 30 consecutive days',\r\n    icon: 'calendar',\r\n    points: 200,\r\n    category: 'daily',\r\n    unlockedAt: new Date(),\r\n  },\r\n\r\n  // Reading Achievements\r\n  {\r\n    id: 'first-verse',\r\n    name: 'First Steps',\r\n    description: 'Read your first Bible verse',\r\n    icon: 'book-open',\r\n    points: 10,\r\n    category: 'reading',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'chapter-complete',\r\n    name: 'Chapter Reader',\r\n    description: 'Complete reading an entire chapter',\r\n    icon: 'book-open',\r\n    points: 25,\r\n    category: 'reading',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'book-complete',\r\n    name: 'Book Scholar',\r\n    description: 'Complete reading an entire book',\r\n    icon: 'book-open',\r\n    points: 100,\r\n    category: 'reading',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'testament-complete',\r\n    name: 'Testament Master',\r\n    description: 'Complete reading an entire testament',\r\n    icon: 'book-open',\r\n    points: 500,\r\n    category: 'reading',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'bible-complete',\r\n    name: 'Bible Scholar',\r\n    description: 'Complete reading the entire Bible',\r\n    icon: 'trophy',\r\n    points: 1000,\r\n    category: 'reading',\r\n    unlockedAt: new Date(),\r\n  },\r\n\r\n  // Streak Achievements\r\n  {\r\n    id: 'streak-3',\r\n    name: '3 Day Streak',\r\n    description: 'Maintain a 3-day reading streak',\r\n    icon: 'flame',\r\n    points: 30,\r\n    category: 'streak',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'streak-7',\r\n    name: 'Week Warrior',\r\n    description: 'Maintain a 7-day reading streak',\r\n    icon: 'flame',\r\n    points: 75,\r\n    category: 'streak',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'streak-30',\r\n    name: 'Monthly Master',\r\n    description: 'Maintain a 30-day reading streak',\r\n    icon: 'flame',\r\n    points: 300,\r\n    category: 'streak',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'streak-100',\r\n    name: 'Century Saint',\r\n    description: 'Maintain a 100-day reading streak',\r\n    icon: 'flame',\r\n    points: 1000,\r\n    category: 'streak',\r\n    unlockedAt: new Date(),\r\n  },\r\n\r\n  // Community Achievements\r\n  {\r\n    id: 'first-friend',\r\n    name: 'Friend Maker',\r\n    description: 'Add your first friend',\r\n    icon: 'users',\r\n    points: 15,\r\n    category: 'community',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'social-butterfly',\r\n    name: 'Social Butterfly',\r\n    description: 'Add 10 friends',\r\n    icon: 'users',\r\n    points: 50,\r\n    category: 'community',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'first-post',\r\n    name: 'Voice Heard',\r\n    description: 'Make your first community post',\r\n    icon: 'message-circle',\r\n    points: 20,\r\n    category: 'community',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'community-leader',\r\n    name: 'Community Leader',\r\n    description: 'Make 10 community posts',\r\n    icon: 'message-circle',\r\n    points: 100,\r\n    category: 'community',\r\n    unlockedAt: new Date(),\r\n  },\r\n\r\n  // Devotional Achievements\r\n  {\r\n    id: 'first-devotional',\r\n    name: 'First Devotional',\r\n    description: 'Create your first devotional',\r\n    icon: 'heart',\r\n    points: 20,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'devotional-writer',\r\n    name: 'Devotional Writer',\r\n    description: 'Create 5 devotionals',\r\n    icon: 'heart',\r\n    points: 100,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'devotional-author',\r\n    name: 'Devotional Author',\r\n    description: 'Create 20 devotionals',\r\n    icon: 'heart',\r\n    points: 300,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n\r\n  // Prayer Achievements\r\n  {\r\n    id: 'first-prayer',\r\n    name: 'First Prayer',\r\n    description: 'Share your first prayer',\r\n    icon: 'hands',\r\n    points: 15,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'prayer-warrior',\r\n    name: 'Prayer Warrior',\r\n    description: 'Share 10 prayers',\r\n    icon: 'hands',\r\n    points: 75,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'prayer-intercessor',\r\n    name: 'Prayer Intercessor',\r\n    description: 'Share 50 prayers',\r\n    icon: 'hands',\r\n    points: 200,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n\r\n  // Reading Plan Achievements\r\n  {\r\n    id: 'first-plan',\r\n    name: 'Plan Starter',\r\n    description: 'Start your first reading plan',\r\n    icon: 'calendar',\r\n    points: 10,\r\n    category: 'reading',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'plan-completer',\r\n    name: 'Plan Completer',\r\n    description: 'Complete your first reading plan',\r\n    icon: 'calendar',\r\n    points: 50,\r\n    category: 'reading',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'plan-enthusiast',\r\n    name: 'Plan Enthusiast',\r\n    description: 'Start 5 reading plans',\r\n    icon: 'calendar',\r\n    points: 100,\r\n    category: 'reading',\r\n    unlockedAt: new Date(),\r\n  },\r\n\r\n  // Point Achievements\r\n  {\r\n    id: 'point-collector',\r\n    name: 'Point Collector',\r\n    description: 'Earn 100 points',\r\n    icon: 'star',\r\n    points: 50,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'point-master',\r\n    name: 'Point Master',\r\n    description: 'Earn 1000 points',\r\n    icon: 'star',\r\n    points: 100,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'point-legend',\r\n    name: 'Point Legend',\r\n    description: 'Earn 10000 points',\r\n    icon: 'star',\r\n    points: 500,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n\r\n  // Special Achievements\r\n  {\r\n    id: 'early-bird',\r\n    name: 'Early Bird',\r\n    description: 'Read Bible verses before 6 AM for 7 days',\r\n    icon: 'sun',\r\n    points: 150,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'night-owl',\r\n    name: 'Night Owl',\r\n    description: 'Read Bible verses after 10 PM for 7 days',\r\n    icon: 'moon',\r\n    points: 150,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n  {\r\n    id: 'explorer',\r\n    name: 'Bible Explorer',\r\n    description: 'Read from every book of the Bible',\r\n    icon: 'compass',\r\n    points: 750,\r\n    category: 'special',\r\n    unlockedAt: new Date(),\r\n  },\r\n];\r\n\r\nexport const getAchievementsByCategory = (category: string): Achievement[] => {\r\n  return achievements.filter(achievement => achievement.category === category);\r\n};\r\n\r\nexport const getAchievementById = (id: string): Achievement | undefined => {\r\n  return achievements.find(achievement => achievement.id === id);\r\n};\r\n","'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { User as SupabaseUser } from '@supabase/supabase-js';\r\nimport { useAuth } from '@/contexts/SupabaseAuthContext';\r\nimport { supabaseService, UserProfile, UserStats } from '@/services/supabaseService';\r\nimport { achievementService } from '@/services/achievementService';\r\nimport { User, Gamification, UserSettings } from '@/types';\r\n\r\ninterface UserDataContextType {\r\n  user: User | null;\r\n  stats: Gamification | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n  updateUser: (user: Partial<User>) => void;\r\n  updateStats: (stats: Partial<Gamification>) => void;\r\n  updateSettings: (settings: Partial<UserSettings>) => void;\r\n  addPoints: (points: number) => void;\r\n  incrementStreak: () => void;\r\n  refreshData: () => Promise<void>;\r\n}\r\n\r\nconst UserDataContext = createContext<UserDataContextType | undefined>(undefined);\r\n\r\nexport function useUserData() {\r\n  const context = useContext(UserDataContext);\r\n  if (context === undefined) {\r\n    // Return fallback data during build time\r\n    return {\r\n      user: {\r\n        id: 'fallback',\r\n        username: 'Guest',\r\n        email: 'guest@example.com',\r\n        fullName: 'Guest User',\r\n        avatar: '',\r\n        level: 1,\r\n        points: 0,\r\n        streak: 0,\r\n        badges: [],\r\n        achievements: [],\r\n        joinedAt: new Date(),\r\n        lastActive: new Date(),\r\n        friends: [],\r\n        settings: {\r\n          theme: 'system',\r\n          notifications: {\r\n            email: true,\r\n            push: true,\r\n            dailyDevotional: true,\r\n            friendRequests: true,\r\n            messages: true,\r\n            achievementAlerts: true,\r\n            communityPosts: false,\r\n            readingReminders: true,\r\n            weeklyProgress: true,\r\n          },\r\n          privacy: {\r\n            profileVisibility: 'public',\r\n            showOnlineStatus: true,\r\n            showReadingProgress: true,\r\n            allowFriendRequests: true,\r\n            showAchievements: true,\r\n          },\r\n          reading: {\r\n            fontSize: 'medium',\r\n            translation: 'kjv',\r\n            dailyReminderTime: '08:00',\r\n            autoPlayAudio: false,\r\n            highlightVerses: true,\r\n            showNotes: true,\r\n          },\r\n          community: {\r\n            showInFeed: true,\r\n            allowMentions: true,\r\n            emailNotifications: true,\r\n            pushNotifications: true,\r\n            filterContent: true,\r\n            hideBlockedUsers: true,\r\n          },\r\n        },\r\n      },\r\n      stats: {\r\n        level: 1,\r\n        points: 0,\r\n        streak: 0,\r\n        badges: [],\r\n        leaderboard: [],\r\n      },\r\n      loading: false,\r\n      error: null,\r\n      updateUser: async () => {},\r\n      updateStats: async () => {},\r\n      updateSettings: async () => {},\r\n      addPoints: async () => {},\r\n      incrementStreak: async () => {},\r\n      refreshData: async () => {},\r\n    };\r\n  }\r\n  return context;\r\n}\r\n\r\nexport function UserDataProvider({ children }: { children: React.ReactNode }) {\r\n  const { user: authUser } = useAuth();\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [stats, setStats] = useState<Gamification | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const initializeUserData = async () => {\r\n      if (!authUser) {\r\n        setUser(null);\r\n        setStats(null);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        // Get or create user profile from Supabase\r\n        let userProfile = await supabaseService.getUserProfile(authUser.id);\r\n        \r\n        if (!userProfile) {\r\n          // Create profile if it doesn't exist\r\n          userProfile = await supabaseService.createUserProfile(authUser);\r\n          if (!userProfile) {\r\n            throw new Error('Failed to create user profile');\r\n          }\r\n        }\r\n\r\n        // Get user stats from Supabase\r\n        const userStats = await supabaseService.getUserStats(authUser.id);\r\n        if (!userStats) {\r\n          throw new Error('Failed to load user stats');\r\n        }\r\n\r\n        // Get user achievements from Supabase\r\n        const userAchievements = await supabaseService.getUserAchievements(authUser.id);\r\n\r\n        // Convert Supabase data to our User type\r\n        const userData: User = {\r\n          id: userProfile.id,\r\n          username: userProfile.username || userProfile.email?.split('@')[0] || 'user',\r\n          email: userProfile.email,\r\n          fullName: userProfile.full_name || '',\r\n          avatar: userProfile.avatar_url || '',\r\n          joinedAt: new Date(userProfile.created_at),\r\n          points: userProfile.points,\r\n          level: userProfile.level,\r\n          streak: userProfile.streak,\r\n          longestStreak: userProfile.longest_streak || 0,\r\n          friends: [],\r\n          achievements: userAchievements.map(ua => ua.achievement).filter(Boolean),\r\n          settings: {\r\n            theme: 'system',\r\n            notifications: {\r\n              email: true,\r\n              push: true,\r\n              dailyDevotional: true,\r\n              friendRequests: true,\r\n              messages: true,\r\n              achievementAlerts: true,\r\n              communityPosts: false,\r\n              readingReminders: true,\r\n              weeklyProgress: true,\r\n            },\r\n            privacy: {\r\n              profileVisibility: 'public',\r\n              showOnlineStatus: true,\r\n              showReadingProgress: true,\r\n              allowFriendRequests: true,\r\n              showAchievements: true,\r\n            },\r\n            reading: {\r\n              fontSize: 'medium',\r\n              translation: 'kjv',\r\n              dailyReminderTime: '08:00',\r\n              autoPlayAudio: false,\r\n              highlightVerses: true,\r\n              showNotes: true,\r\n            },\r\n            community: {\r\n              showInFeed: true,\r\n              allowMentions: true,\r\n              emailNotifications: true,\r\n              pushNotifications: true,\r\n              filterContent: true,\r\n              hideBlockedUsers: true,\r\n            },\r\n          },\r\n        };\r\n\r\n        // Convert stats to Gamification type\r\n        const gamificationData: Gamification = {\r\n          level: userProfile.level,\r\n          points: userProfile.points,\r\n          streak: userProfile.streak,\r\n          badges: [],\r\n          leaderboard: [], // Will be populated from a separate query\r\n        };\r\n\r\n        setUser(userData);\r\n        setStats(gamificationData);\r\n\r\n        // Check for new achievements based on current activity\r\n        try {\r\n          const { newAchievements, pointsAwarded } = await achievementService.checkAndAwardAchievements(authUser.id);\r\n          \r\n          if (newAchievements.length > 0) {\r\n            console.log('New achievements unlocked:', newAchievements);\r\n            console.log('Points awarded:', pointsAwarded);\r\n            \r\n            // Refresh user data to get updated achievements\r\n            const updatedUserAchievements = await supabaseService.getUserAchievements(authUser.id);\r\n            setUser(prev => prev ? {\r\n              ...prev,\r\n              achievements: updatedUserAchievements.map(ua => ua.achievement).filter(Boolean),\r\n            } : null);\r\n          }\r\n        } catch (achievementError) {\r\n          console.error('Error checking achievements:', achievementError);\r\n          // Don't fail the whole user data load if achievements fail\r\n        }\r\n\r\n        // Subscribe to real-time updates\r\n        const profileChannel = supabaseService.subscribeToUser(authUser.id, (profile) => {\r\n          setUser(prev => prev ? { ...prev, ...profile } : null);\r\n        });\r\n\r\n        const statsChannel = supabaseService.subscribeToUserStats(authUser.id, (newStats) => {\r\n          // Update user stats in background, but don't change the Gamification stats\r\n          // since they have a different structure\r\n          console.log('User stats updated:', newStats);\r\n        });\r\n\r\n      } catch (err) {\r\n        console.error('Error initializing user data:', err);\r\n        setError(err instanceof Error ? err.message : 'Failed to load user data');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    initializeUserData();\r\n\r\n    return () => {\r\n      supabaseService.unsubscribeAll();\r\n    };\r\n  }, [authUser]);\r\n\r\n  const updateUser = async (userData: Partial<User>) => {\r\n    if (!authUser || !user) return;\r\n\r\n    try {\r\n      const profileUpdates: Partial<UserProfile> = {\r\n        username: userData.username,\r\n        full_name: userData.fullName,\r\n        avatar_url: userData.avatar,\r\n      };\r\n\r\n      const updatedProfile = await supabaseService.updateUserProfile(authUser.id, profileUpdates);\r\n      if (updatedProfile) {\r\n        setUser(prev => prev ? { ...prev, ...userData } : null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating user:', err);\r\n      setError(err instanceof Error ? err.message : 'Failed to update user');\r\n    }\r\n  };\r\n\r\n  const updateStats = (statsData: Partial<Gamification>) => {\r\n    if (stats) {\r\n      setStats({ ...stats, ...statsData });\r\n    }\r\n  };\r\n\r\n  const updateSettings = (settingsData: Partial<UserSettings>) => {\r\n    if (user) {\r\n      setUser({\r\n        ...user,\r\n        settings: { ...user.settings, ...settingsData },\r\n      });\r\n    }\r\n  };\r\n\r\n  const addPoints = async (points: number) => {\r\n    if (!authUser) return;\r\n\r\n    try {\r\n      const updatedProfile = await supabaseService.addPoints(authUser.id, points);\r\n      if (updatedProfile) {\r\n        setUser(prev => prev ? {\r\n          ...prev,\r\n          points: updatedProfile.points,\r\n          level: updatedProfile.level,\r\n        } : null);\r\n        setStats(prev => prev ? {\r\n          ...prev,\r\n          points: updatedProfile.points,\r\n          level: updatedProfile.level,\r\n        } : null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error adding points:', err);\r\n      setError(err instanceof Error ? err.message : 'Failed to add points');\r\n    }\r\n  };\r\n\r\n  const incrementStreak = async () => {\r\n    if (!authUser || !user) return;\r\n\r\n    try {\r\n      const newStreak = user.streak + 1;\r\n      const updatedProfile = await supabaseService.updateStreak(authUser.id, newStreak);\r\n      if (updatedProfile) {\r\n        setUser(prev => prev ? { ...prev, streak: newStreak } : null);\r\n        setStats(prev => prev ? { ...prev, streak: newStreak } : null);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating streak:', err);\r\n      setError(err instanceof Error ? err.message : 'Failed to update streak');\r\n    }\r\n  };\r\n\r\n  const refreshData = async () => {\r\n    if (authUser) {\r\n      try {\r\n        setLoading(true);\r\n        const userProfile = await supabaseService.getUserProfile(authUser.id);\r\n        \r\n        if (userProfile) {\r\n          setUser(prev => prev ? {\r\n            ...prev,\r\n            points: userProfile.points,\r\n            level: userProfile.level,\r\n            streak: userProfile.streak,\r\n            fullName: userProfile.full_name,\r\n            avatar: userProfile.avatar_url || '',\r\n          } : null);\r\n          \r\n          setStats(prev => prev ? {\r\n            ...prev,\r\n            points: userProfile.points,\r\n            level: userProfile.level,\r\n            streak: userProfile.streak,\r\n          } : null);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error refreshing data:', err);\r\n        setError(err instanceof Error ? err.message : 'Failed to refresh data');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    user,\r\n    stats,\r\n    loading,\r\n    error,\r\n    updateUser,\r\n    updateStats,\r\n    updateSettings,\r\n    addPoints,\r\n    incrementStreak,\r\n    refreshData,\r\n  };\r\n\r\n  return <UserDataContext.Provider value={value}>{children}</UserDataContext.Provider>;\r\n}\r\n","import { supabaseService } from './supabaseService';\r\nimport { achievements, getAchievementById } from '@/data/achievements';\r\nimport { Achievement } from '@/types';\r\n\r\nexport interface UserAchievement {\r\n  id: string;\r\n  user_id: string;\r\n  achievement_id: string;\r\n  unlocked_at: string;\r\n  points_awarded: number;\r\n}\r\n\r\nexport interface DailyLoginRecord {\r\n  id: string;\r\n  user_id: string;\r\n  login_date: string;\r\n  points_awarded: number;\r\n  created_at: string;\r\n}\r\n\r\nclass AchievementService {\r\n  // Daily Login Tracking\r\n  static async trackDailyLogin(userId: string): Promise<{\r\n    pointsAwarded: number;\r\n    newAchievements: Achievement[];\r\n    streakUpdated: boolean;\r\n  }> {\r\n    const now = new Date();\r\n    \r\n    try {\r\n      // Check if user has claimed in the last 24 hours\r\n      const existingLogin = await this.getRecentLoginRecord(userId);\r\n      \r\n      if (existingLogin) {\r\n        return {\r\n          pointsAwarded: 0,\r\n          newAchievements: [],\r\n          streakUpdated: false,\r\n        };\r\n      }\r\n\r\n      // Record today's login and award points\r\n      const pointsAwarded = await this.awardDailyLoginPoints(userId);\r\n      \r\n      // Update streak\r\n      const streakUpdated = await this.updateLoginStreak(userId);\r\n      \r\n      // Check for new achievements\r\n      const newAchievements = await this.checkDailyLoginAchievements(userId);\r\n\r\n      return {\r\n        pointsAwarded,\r\n        newAchievements,\r\n        streakUpdated,\r\n      };\r\n    } catch (error) {\r\n      console.error('Error tracking daily login:', error);\r\n      return {\r\n        pointsAwarded: 0,\r\n        newAchievements: [],\r\n        streakUpdated: false,\r\n      };\r\n    }\r\n  }\r\n\r\n  private static async getRecentLoginRecord(userId: string): Promise<DailyLoginRecord | null> {\r\n    try {\r\n      const now = new Date();\r\n      const { data, error } = await supabaseService.getClient()\r\n        .from('daily_login_rewards')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .gte('created_at', new Date(now.getTime() - 24 * 60 * 60 * 1000).toISOString())\r\n        .order('created_at', { ascending: false })\r\n        .limit(1)\r\n        .maybeSingle();\r\n\r\n      if (error) {\r\n        console.error('Error checking recent login:', error);\r\n        return null;\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error('Error getting recent login record:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private static async awardDailyLoginPoints(userId: string): Promise<number> {\r\n    const basePoints = 5;\r\n    const userProfile = await supabaseService.getUserProfile(userId);\r\n    \r\n    if (!userProfile) return 0;\r\n\r\n    // Bonus points for streak milestones\r\n    let bonusPoints = 0;\r\n    if (userProfile.streak === 7) bonusPoints = 10;\r\n    if (userProfile.streak === 30) bonusPoints = 25;\r\n    if (userProfile.streak === 100) bonusPoints = 100;\r\n\r\n    const totalPoints = basePoints + bonusPoints;\r\n    \r\n    // Add points to user profile\r\n    await supabaseService.addPoints(userId, totalPoints);\r\n    \r\n    // Record daily login\r\n    await this.recordDailyLogin(userId, totalPoints);\r\n    \r\n    return totalPoints;\r\n  }\r\n\r\n  private static async recordDailyLogin(userId: string, points: number): Promise<void> {\r\n    try {\r\n      await supabaseService.getClient()\r\n        .from('daily_login_rewards')\r\n        .insert({\r\n          user_id: userId,\r\n          points_awarded: points,\r\n        });\r\n    } catch (error) {\r\n      console.error('Error recording daily login:', error);\r\n    }\r\n  }\r\n\r\n  private static async updateLoginStreak(userId: string): Promise<boolean> {\r\n    try {\r\n      const userProfile = await supabaseService.getUserProfile(userId);\r\n      if (!userProfile) return false;\r\n\r\n      const now = new Date();\r\n      const lastActive = new Date(userProfile.updated_at);\r\n      \r\n      // Calculate hours difference\r\n      const hoursDiff = (now.getTime() - lastActive.getTime()) / (1000 * 60 * 60);\r\n      \r\n      let newStreak = userProfile.streak;\r\n      \r\n      if (hoursDiff < 24) {\r\n        // Already claimed within 24 hours, no change\r\n        return false;\r\n      } else if (hoursDiff <= 48) {\r\n        // Continue streak (within 48 hours)\r\n        newStreak += 1;\r\n      } else {\r\n        // Reset streak (more than 48 hours)\r\n        newStreak = 1;\r\n      }\r\n      \r\n      await supabaseService.updateStreak(userId, newStreak);\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error updating login streak:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private static async checkDailyLoginAchievements(userId: string): Promise<Achievement[]> {\r\n    const userProfile = await supabaseService.getUserProfile(userId);\r\n    if (!userProfile) return [];\r\n\r\n    const newAchievements: Achievement[] = [];\r\n    const userAchievements = await this.getUserAchievements(userId);\r\n    const unlockedIds = new Set(userAchievements.map(ua => ua.achievement_id));\r\n\r\n    // Check daily login achievements\r\n    const dailyAchievements = achievements.filter(a => a.category === 'daily');\r\n    \r\n    for (const achievement of dailyAchievements) {\r\n      if (unlockedIds.has(achievement.id)) continue;\r\n      \r\n      let shouldUnlock = false;\r\n      \r\n      switch (achievement.id) {\r\n        case 'daily-login-1':\r\n          shouldUnlock = userProfile.streak >= 1;\r\n          break;\r\n        case 'daily-login-7':\r\n          shouldUnlock = userProfile.streak >= 7;\r\n          break;\r\n        case 'daily-login-30':\r\n          shouldUnlock = userProfile.streak >= 30;\r\n          break;\r\n      }\r\n      \r\n      if (shouldUnlock) {\r\n        await this.unlockAchievement(userId, achievement.id);\r\n        newAchievements.push(achievement);\r\n      }\r\n    }\r\n\r\n    return newAchievements;\r\n  }\r\n\r\n  // Achievement Management\r\n  static async unlockAchievement(userId: string, achievementId: string): Promise<boolean> {\r\n    try {\r\n      const achievement = getAchievementById(achievementId);\r\n      if (!achievement) return false;\r\n\r\n      // Check if already unlocked\r\n      const existing = await this.getUserAchievement(userId, achievementId);\r\n      if (existing) return false;\r\n\r\n      // Record achievement unlock\r\n      await supabaseService.getClient()\r\n        .from('user_achievements')\r\n        .insert({\r\n          user_id: userId,\r\n          achievement_id: achievementId,\r\n          unlocked_at: new Date().toISOString(),\r\n          points_awarded: achievement.points,\r\n        });\r\n\r\n      // Award achievement points\r\n      await supabaseService.addPoints(userId, achievement.points);\r\n\r\n      return true;\r\n    } catch (error) {\r\n      console.error('Error unlocking achievement:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  static async getUserAchievements(userId: string): Promise<UserAchievement[]> {\r\n    try {\r\n      const { data, error } = await supabaseService.getClient()\r\n        .from('user_achievements')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .order('unlocked_at', { ascending: false });\r\n\r\n      if (error) {\r\n        console.error('Error fetching user achievements:', error);\r\n        return [];\r\n      }\r\n\r\n      return data || [];\r\n    } catch (error) {\r\n      console.error('Error getting user achievements:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  static async getUserAchievement(userId: string, achievementId: string): Promise<UserAchievement | null> {\r\n    try {\r\n      const { data, error } = await supabaseService.getClient()\r\n        .from('user_achievements')\r\n        .select('*')\r\n        .eq('user_id', userId)\r\n        .eq('achievement_id', achievementId)\r\n        .single();\r\n\r\n      if (error) {\r\n        console.error('Error fetching user achievement:', error);\r\n        return null;\r\n      }\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error('Error getting user achievement:', error);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // Enhanced Activity Tracking\r\n  static async trackActivityAndCheckAchievements(\r\n    userId: string, \r\n    activityType: string, \r\n    metadata?: Record<string, any>\r\n  ): Promise<{\r\n    pointsAwarded: number;\r\n    newAchievements: Achievement[];\r\n  }> {\r\n    const newAchievements: Achievement[] = [];\r\n    let pointsAwarded = 0;\r\n\r\n    try {\r\n      // Track the specific activity and award points\r\n      switch (activityType) {\r\n        case 'verse_read':\r\n          pointsAwarded = 1;\r\n          await this.checkReadingAchievements(userId);\r\n          break;\r\n        case 'chapter_completed':\r\n          pointsAwarded = 10;\r\n          await this.checkReadingAchievements(userId);\r\n          break;\r\n        case 'book_completed':\r\n          pointsAwarded = 50;\r\n          await this.checkReadingAchievements(userId);\r\n          break;\r\n        case 'post_created':\r\n          pointsAwarded = 20;\r\n          await this.checkCommunityAchievements(userId);\r\n          break;\r\n        case 'friend_added':\r\n          pointsAwarded = 15;\r\n          await this.checkCommunityAchievements(userId);\r\n          break;\r\n        default:\r\n          pointsAwarded = 0;\r\n      }\r\n\r\n      // Award points\r\n      if (pointsAwarded > 0) {\r\n        await supabaseService.addPoints(userId, pointsAwarded);\r\n      }\r\n\r\n      return { pointsAwarded, newAchievements };\r\n    } catch (error) {\r\n      console.error('Error tracking activity and achievements:', error);\r\n      return { pointsAwarded: 0, newAchievements: [] };\r\n    }\r\n  }\r\n\r\n  private static async checkReadingAchievements(userId: string): Promise<Achievement[]> {\r\n    // Implementation for checking reading achievements\r\n    // This would check verses read, chapters completed, etc.\r\n    return [];\r\n  }\r\n\r\n  private static async checkCommunityAchievements(userId: string): Promise<Achievement[]> {\r\n    // Implementation for checking community achievements\r\n    // This would check friends count, posts created, etc.\r\n    return [];\r\n  }\r\n\r\n  // Check and award achievements based on user activity\r\n  static async checkAndAwardAchievements(userId: string): Promise<{\r\n    newAchievements: Achievement[];\r\n    pointsAwarded: number;\r\n  }> {\r\n    try {\r\n      const newAchievements: Achievement[] = [];\r\n      let totalPointsAwarded = 0;\r\n\r\n      // Get user stats\r\n      const userStats = await supabaseService.getUserStats(userId);\r\n      if (!userStats) {\r\n        return { newAchievements, pointsAwarded: 0 };\r\n      }\r\n\r\n      // Get user profile for streak info\r\n      const userProfile = await supabaseService.getUserProfile(userId);\r\n      if (!userProfile) {\r\n        return { newAchievements, pointsAwarded: 0 };\r\n      }\r\n\r\n      // Get existing achievements to avoid duplicates\r\n      const existingAchievements = await supabaseService.getUserAchievements(userId);\r\n      const unlockedIds = new Set(existingAchievements.map(ua => ua.achievement_id));\r\n\r\n      // Check all achievements\r\n      for (const achievement of achievements) {\r\n        if (unlockedIds.has(achievement.id)) continue; // Skip if already unlocked\r\n\r\n        let shouldAward = false;\r\n\r\n        // Check based on achievement category and criteria\r\n        switch (achievement.id) {\r\n          // Daily Login Achievements\r\n          case 'daily-login-1':\r\n            shouldAward = true; // Awarded when user first logs in\r\n            break;\r\n          case 'daily-login-7':\r\n            shouldAward = userProfile.streak >= 7;\r\n            break;\r\n          case 'daily-login-30':\r\n            shouldAward = userProfile.streak >= 30;\r\n            break;\r\n\r\n          // Reading Achievements\r\n          case 'first-verse':\r\n            shouldAward = userStats.verses_read > 0;\r\n            break;\r\n          case 'chapter-complete':\r\n            shouldAward = userStats.chapters_completed >= 1;\r\n            break;\r\n          case 'book-complete':\r\n            shouldAward = userStats.chapters_completed >= 10; // Approximate\r\n            break;\r\n          case 'testament-complete':\r\n            shouldAward = userStats.chapters_completed >= 50; // Approximate\r\n            break;\r\n          case 'bible-complete':\r\n            shouldAward = userStats.chapters_completed >= 1189; // All chapters\r\n            break;\r\n\r\n          // Streak Achievements\r\n          case 'streak-3':\r\n            shouldAward = userProfile.streak >= 3;\r\n            break;\r\n          case 'streak-7':\r\n            shouldAward = userProfile.streak >= 7;\r\n            break;\r\n          case 'streak-30':\r\n            shouldAward = userProfile.streak >= 30;\r\n            break;\r\n          case 'streak-100':\r\n            shouldAward = userProfile.streak >= 100;\r\n            break;\r\n\r\n          // Devotional Achievements\r\n          case 'first-devotional':\r\n            shouldAward = userStats.devotionals_created >= 1;\r\n            break;\r\n          case 'devotional-writer':\r\n            shouldAward = userStats.devotionals_created >= 5;\r\n            break;\r\n          case 'devotional-author':\r\n            shouldAward = userStats.devotionals_created >= 20;\r\n            break;\r\n\r\n          // Prayer Achievements\r\n          case 'first-prayer':\r\n            shouldAward = userStats.prayers_shared >= 1;\r\n            break;\r\n          case 'prayer-warrior':\r\n            shouldAward = userStats.prayers_shared >= 10;\r\n            break;\r\n          case 'prayer-intercessor':\r\n            shouldAward = userStats.prayers_shared >= 50;\r\n            break;\r\n\r\n          // Reading Plan Achievements\r\n          case 'first-plan':\r\n            shouldAward = userStats.reading_plans_started >= 1;\r\n            break;\r\n          case 'plan-completer':\r\n            shouldAward = userStats.reading_plans_completed >= 1;\r\n            break;\r\n          case 'plan-enthusiast':\r\n            shouldAward = userStats.reading_plans_started >= 5;\r\n            break;\r\n\r\n          // Community Achievements\r\n          case 'first-friend':\r\n            shouldAward = userStats.friends_count >= 1;\r\n            break;\r\n          case 'social-butterfly':\r\n            shouldAward = userStats.friends_count >= 10;\r\n            break;\r\n          case 'first-post':\r\n            shouldAward = userStats.community_posts >= 1;\r\n            break;\r\n          case 'community-leader':\r\n            shouldAward = userStats.community_posts >= 10;\r\n            break;\r\n\r\n          // Special Achievements\r\n          case 'early-bird':\r\n            shouldAward = !!(userProfile.created_at && new Date(userProfile.created_at) < new Date('2024-01-01'));\r\n            break;\r\n          case 'point-collector':\r\n            shouldAward = userProfile.points >= 100;\r\n            break;\r\n          case 'point-master':\r\n            shouldAward = userProfile.points >= 1000;\r\n            break;\r\n          case 'point-legend':\r\n            shouldAward = userProfile.points >= 10000;\r\n            break;\r\n        }\r\n\r\n        if (shouldAward) {\r\n          // Award the achievement\r\n          const awarded = await supabaseService.unlockAchievement(userId, achievement.id);\r\n          if (awarded) {\r\n            newAchievements.push(achievement);\r\n            totalPointsAwarded += achievement.points;\r\n          }\r\n        }\r\n      }\r\n\r\n      // Award total points for new achievements\r\n      if (totalPointsAwarded > 0) {\r\n        await supabaseService.addPoints(userId, totalPointsAwarded);\r\n      }\r\n\r\n      return { newAchievements, pointsAwarded: totalPointsAwarded };\r\n    } catch (error) {\r\n      console.error('Error checking achievements:', error);\r\n      return { newAchievements: [], pointsAwarded: 0 };\r\n    }\r\n  }\r\n  static async getAchievementStats(userId: string): Promise<{\r\n    totalAchievements: number;\r\n    unlockedAchievements: number;\r\n    totalPoints: number;\r\n    categoryProgress: Record<string, { unlocked: number; total: number }>;\r\n  }> {\r\n    try {\r\n      const allAchievements = achievements;\r\n      const userAchievements = await this.getUserAchievements(userId);\r\n      const unlockedIds = new Set(userAchievements.map(ua => ua.achievement_id));\r\n\r\n      const categories = [...new Set(allAchievements.map(a => a.category))];\r\n      const categoryProgress: Record<string, { unlocked: number; total: number }> = {};\r\n\r\n      categories.forEach(category => {\r\n        const categoryAchievements = allAchievements.filter(a => a.category === category);\r\n        const unlockedInCategory = categoryAchievements.filter(a => unlockedIds.has(a.id));\r\n        \r\n        categoryProgress[category] = {\r\n          unlocked: unlockedInCategory.length,\r\n          total: categoryAchievements.length,\r\n        };\r\n      });\r\n\r\n      return {\r\n        totalAchievements: allAchievements.length,\r\n        unlockedAchievements: userAchievements.length,\r\n        totalPoints: userAchievements.reduce((sum, ua) => sum + ua.points_awarded, 0),\r\n        categoryProgress,\r\n      };\r\n    } catch (error) {\r\n      console.error('Error getting achievement stats:', error);\r\n      return {\r\n        totalAchievements: 0,\r\n        unlockedAchievements: 0,\r\n        totalPoints: 0,\r\n        categoryProgress: {},\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\nexport const achievementService = AchievementService;\r\n"],"names":[],"mappings":"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"}