module.exports=[84165,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(65402),e=a.i(86304),f=a.i(99570),g=a.i(73390),h=a.i(91119),i=a.i(68114),j=a.i(83077),k=a.i(21374),l=a.i(16106),m=a.i(41710),n=a.i(60246);a.i(24669);var o=a.i(93518),p=a.i(1027),q=a.i(50429);function r({children:a,className:c,variant:d="default",badge:f,progress:j,stats:k,glowEffect:l=!1,animated:m=!1}){return(0,b.jsxs)(h.Card,{className:(0,i.cn)("relative overflow-hidden transition-all duration-300 hover:shadow-lg",(()=>{switch(d){case"achievement":return"bg-gradient-to-br from-yellow-50 to-amber-50 border-yellow-200 shadow-yellow-100";case"progress":return"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 shadow-blue-100";case"streak":return"bg-gradient-to-br from-orange-50 to-red-50 border-orange-200 shadow-orange-100";case"leaderboard":return"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200 shadow-purple-100";default:return"bg-white border-gray-200 shadow-gray-100"}})(),l&&"shadow-lg ring-2 ring-offset-2",m&&"animate-pulse",c),children:[l&&(0,b.jsx)("div",{className:"absolute inset-0 bg-linear-to-r from-transparent via-white to-transparent opacity-20 animate-shimmer"}),(0,b.jsxs)(h.CardContent,{className:"p-6",children:[f&&(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsxs)(e.Badge,{variant:f.variant||"default",className:"flex items-center gap-1",children:[f.icon,f.text]})}),j&&(0,b.jsxs)("div",{className:"mb-4",children:[j.label&&(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,b.jsx)("span",{className:"font-medium",children:j.label}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:[j.value,"/",j.max]})]}),(0,b.jsx)(g.Progress,{value:j.value,max:j.max,className:(0,i.cn)("h-2",j.color&&`bg-${j.color}-100`)})]}),k&&(0,b.jsx)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:k.map((a,c)=>(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"flex justify-center mb-1 text-muted-foreground",children:a.icon}),(0,b.jsx)("div",{className:"font-bold text-lg",children:a.value}),(0,b.jsx)("div",{className:"text-xs text-muted-foreground",children:a.label})]},c))}),a]}),m&&(0,b.jsx)("div",{className:"absolute inset-0 rounded-lg border-2 border-transparent bg-linear-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-border animate-gradient-xy"})]})}var s=a.i(96647),t=a.i(53722),u=a.i(25015),v=a.i(41675),w=a.i(38246);function x({plan:a,onStartPlan:c,showProgress:d=!0,compact:h=!1,className:x}){let y,z=a.progress||0,A=!!a.userPlan,B=!!a.userPlan?.completed_at,C=a.userPlan?.current_day||1,D=a=>{switch(a){case"beginner":return"bg-green-100 text-green-800 border-green-200";case"intermediate":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"advanced":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},E=()=>100===z?"achievement":z>50||z>0?"progress":"default";return h?(0,b.jsx)(r,{variant:E(),className:(0,i.cn)("cursor-pointer hover:scale-105 transition-transform",x),glowEffect:B,animated:z>0&&z<100,children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(s.ResponsiveText,{size:"lg",weight:"semibold",className:"mb-1",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(e.Badge,{className:D(a.difficulty),children:a.difficulty}),(0,b.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,b.jsx)(m.Clock,{className:"h-3 w-3 mr-1"}),a.duration," days"]})]}),d&&A&&(0,b.jsx)(g.Progress,{value:z,className:"h-2"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[B&&(0,b.jsx)(j.Trophy,{className:"h-5 w-5 text-yellow-500"}),(0,b.jsx)(f.Button,{size:"sm",asChild:!0,children:(0,b.jsx)(w.default,{href:`/plans/${a.id}`,children:A?"Continue":"Start"})})]})]})}):(0,b.jsx)(r,{variant:E(),className:(0,i.cn)("hover:scale-105 transition-transform",x),glowEffect:B,animated:z>0&&z<100,badge:B?{text:"Completed",icon:(0,b.jsx)(j.Trophy,{className:"h-3 w-3"}),variant:"default"}:z>0?{text:`${Math.round(z)}% Complete`,variant:"secondary"}:void 0,progress:d&&A?{value:z,max:100,label:`Day ${C} of ${a.duration}`,color:z>50?"green":z>0?"blue":"gray"}:void 0,stats:(y=[{icon:(0,b.jsx)(m.Clock,{className:"h-4 w-4"}),value:a.duration,label:"days"}],a.participants&&y.push({icon:(0,b.jsx)(n.Users,{className:"h-4 w-4"}),value:a.participants,label:"users"}),a.points&&y.push({icon:(0,b.jsx)(j.Trophy,{className:"h-4 w-4"}),value:a.points,label:"points"}),a.streak&&a.streak>0&&y.push({icon:(0,b.jsx)(l.Flame,{className:"h-4 w-4"}),value:a.streak,label:"streak"}),y),children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(s.ResponsiveText,{size:"xl",weight:"semibold",className:"mb-2",children:a.title}),(0,b.jsx)(s.ResponsiveText,{size:"sm",color:"secondary",className:"line-clamp-2",children:a.description})]}),B&&(0,b.jsx)("div",{className:"ml-4",children:(0,b.jsx)(j.Trophy,{className:"h-8 w-8 text-yellow-500 animate-bounce"})})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)(e.Badge,{className:D(a.difficulty),children:a.difficulty}),(0,b.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,b.jsx)(v.Calendar,{className:"h-3 w-3 mr-1"}),a.duration," days"]}),a.participants&&(0,b.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,b.jsx)(n.Users,{className:"h-3 w-3 mr-1"}),a.participants," joined"]}),a.points&&(0,b.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,b.jsx)(o.Award,{className:"h-3 w-3 mr-1"}),a.points," points"]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[A?(0,b.jsx)(f.Button,{className:"flex-1",size:"lg",asChild:!0,children:(0,b.jsxs)(w.default,{href:`/plans/${a.id}/day/${C}`,children:[(0,b.jsx)(t.BookOpen,{className:"h-4 w-4 mr-2"}),z>0?"Continue Reading":"Start Reading"," (Day ",C,")"]})}):(0,b.jsxs)(f.Button,{className:"flex-1",size:"lg",onClick:()=>c?.(a.id),children:[(0,b.jsx)(u.Play,{className:"h-4 w-4 mr-2"}),"Start Plan"]}),(0,b.jsx)(f.Button,{variant:"outline",size:"lg",asChild:!0,children:(0,b.jsx)(w.default,{href:`/plans/${a.id}`,children:"View Details"})})]}),z>0&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-4 pt-2 border-t",children:[z>=25&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,b.jsx)(k.Star,{className:"h-4 w-4 text-blue-500"}),"Started"]}),z>=50&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,b.jsx)(p.Zap,{className:"h-4 w-4 text-yellow-500"}),"Halfway"]}),z>=75&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,b.jsx)(q.Target,{className:"h-4 w-4 text-orange-500"}),"Almost There"]}),100===z&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,b.jsx)(j.Trophy,{className:"h-4 w-4 text-yellow-500"}),"Completed"]})]})]})})}var y=a.i(66718),z=a.i(29246),A=a.i(80701),B=a.i(15618),C=a.i(33508),D=a.i(14548),E=a.i(86130),F=a.i(43897);function G({onSave:a,onCancel:d}){let[g,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,o]=(0,c.useState)(""),[p,q]=(0,c.useState)("beginner"),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)({title:"",passages:"",devotional:""}),[w,x]=(0,c.useState)(!1),{user:G}=(0,F.useAuth)(),H=async()=>{if(!G)return void console.error("User not authenticated");if(!g||!l||0===r.length)return void alert("Please fill in all required fields and add at least one reading");try{x(!0);let b=await E.supabaseService.createReadingPlan(G.id,{title:g,description:j,duration:parseInt(l),difficulty:p,is_public:!0});b?(await E.supabaseService.addPoints(G.id,15),a&&a(b)):console.error("Failed to create reading plan")}catch(a){console.error("Error creating reading plan:",a)}finally{x(!1)}};return(0,b.jsxs)(h.Card,{className:"w-full max-w-4xl mx-auto",children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)(h.CardTitle,{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Create Reading Plan"}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:d,children:"Cancel"}),(0,b.jsxs)(f.Button,{onClick:H,disabled:w,children:[(0,b.jsx)(D.Save,{className:"h-4 w-4 mr-2"}),w?"Saving...":"Save Plan"]})]})]})}),(0,b.jsxs)(h.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,b.jsx)(y.Input,{placeholder:"Enter plan title...",value:g,onChange:a=>i(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,b.jsx)(z.Textarea,{placeholder:"Describe your reading plan...",value:j,onChange:a=>k(a.target.value),rows:3})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Duration (days)"}),(0,b.jsx)(y.Input,{type:"number",placeholder:"30",value:l,onChange:a=>o(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Difficulty"}),(0,b.jsxs)(A.Select,{value:p,onValueChange:a=>q(a),children:[(0,b.jsx)(A.SelectTrigger,{children:(0,b.jsx)(A.SelectValue,{})}),(0,b.jsxs)(A.SelectContent,{children:[(0,b.jsx)(A.SelectItem,{value:"beginner",children:"Beginner"}),(0,b.jsx)(A.SelectItem,{value:"intermediate",children:"Intermediate"}),(0,b.jsx)(A.SelectItem,{value:"advanced",children:"Advanced"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Daily Readings"}),(0,b.jsx)(h.Card,{children:(0,b.jsxs)(h.CardContent,{className:"p-4 space-y-3",children:[(0,b.jsx)(y.Input,{placeholder:"Day title...",value:t.title,onChange:a=>u({...t,title:a.target.value})}),(0,b.jsx)(y.Input,{placeholder:"Bible passages (e.g., John 3:1-21, Romans 8:28-39)",value:t.passages,onChange:a=>u({...t,passages:a.target.value})}),(0,b.jsx)(z.Textarea,{placeholder:"Optional devotional thought...",value:t.devotional,onChange:a=>u({...t,devotional:a.target.value}),rows:2}),(0,b.jsxs)(f.Button,{type:"button",onClick:()=>{t.title&&t.passages&&(s([...r,{id:"reading-"+Date.now(),day:r.length+1,title:t.title,passages:t.passages.split(",").map(a=>a.trim()),devotional:t.devotional,completed:!1}]),u({title:"",passages:"",devotional:""}))},children:[(0,b.jsx)(B.Plus,{className:"h-4 w-4 mr-2"}),"Add Reading"]})]})}),r.map((a,c)=>(0,b.jsx)(h.Card,{children:(0,b.jsx)(h.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsxs)(e.Badge,{variant:"outline",children:["Day ",a.day]}),(0,b.jsx)("h4",{className:"font-semibold",children:a.title})]}),(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,b.jsx)("strong",{children:"Passages:"})," ",a.passages.join(", ")]}),a.devotional&&(0,b.jsx)("div",{className:"text-sm text-muted-foreground italic",children:a.devotional})]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>{s(r.filter((a,b)=>b!==c))},children:(0,b.jsx)(C.X,{className:"h-4 w-4"})})]})})},a.id))]}),(g||j||r.length>0)&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Preview"}),(0,b.jsx)(h.Card,{children:(0,b.jsxs)(h.CardContent,{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-semibold mb-2",children:g||"Untitled Plan"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:j||"No description..."}),(0,b.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)(v.Calendar,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[l||0," days"]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)(m.Clock,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:p})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,b.jsx)(n.Users,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"0 participants"})]})]}),(0,b.jsxs)(e.Badge,{variant:"secondary",children:[r.length," reading",1!==r.length?"s":""]})]})})]})]})]})}var H=a.i(28223),I=a.i(87532),J=a.i(69012);function K(){let{user:a}=(0,F.useAuth)(),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0);(0,c.useEffect)(()=>{t()},[]);let t=async()=>{try{r(!0);let b=await H.readingPlanService.getPublicReadingPlans();if(p(b||[]),a){let b=await H.readingPlanService.getUserReadingPlans(a.id);n(b||[])}}catch(a){console.error("Error fetching reading plans:",a)}finally{r(!1)}},u=[...m,...o].filter(a=>{let b=a.title.toLowerCase().includes(g.toLowerCase())||a.description&&a.description.toLowerCase().includes(g.toLowerCase()),c=!i||a.difficulty===i;return b&&c}),w=async a=>{try{await t(),l(!1)}catch(a){console.error("Error saving plan:",a)}};return k?(0,b.jsx)(d.Layout,{children:(0,b.jsx)("div",{className:"py-6",children:(0,b.jsx)(G,{onSave:w,onCancel:()=>l(!1)})})}):q?(0,b.jsx)(d.Layout,{children:(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading reading plans..."})]})})}):(0,b.jsx)(d.Layout,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(s.ResponsiveText,{size:"2xl",weight:"bold",className:"mb-2",children:"Reading Plans"}),(0,b.jsx)(s.ResponsiveText,{size:"sm",color:"secondary",children:"Structured Bible reading journeys to help you grow spiritually"})]}),(0,b.jsxs)(f.Button,{onClick:()=>l(!0),className:"w-full sm:w-auto",children:[(0,b.jsx)(B.Plus,{className:"mr-2 h-4 w-4"}),"Create Plan"]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(I.Search,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(y.Input,{placeholder:"Search reading plans...",value:g,onChange:a=>h(a.target.value),className:"pl-10 h-10 sm:h-11"})]}),(0,b.jsxs)(f.Button,{variant:"outline",className:"h-10 sm:h-11",children:[(0,b.jsx)(J.Filter,{className:"mr-2 h-4 w-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Filters"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Filter"})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)(e.Badge,{variant:null===i?"default":"secondary",className:"cursor-pointer",onClick:()=>j(null),children:"All Levels"}),["beginner","intermediate","advanced"].map(a=>(0,b.jsx)(e.Badge,{variant:i===a?"default":"secondary",className:"cursor-pointer capitalize",onClick:()=>j(a),children:a},a))]}),(0,b.jsxs)(s.ResponsiveGrid,{cols:{mobile:1,tablet:3,desktop:3},gap:"sm",children:[(0,b.jsxs)("div",{className:"text-center p-4 sm:p-6 border rounded-lg",children:[(0,b.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-blue-500",children:[...m,...o].length}),(0,b.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Available Plans"})]}),(0,b.jsxs)("div",{className:"text-center p-4 sm:p-6 border rounded-lg",children:[(0,b.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-green-500",children:[...m,...o].reduce((a,b)=>a+(b.participants||0),0).toLocaleString()}),(0,b.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Active Participants"})]}),(0,b.jsxs)("div",{className:"text-center p-4 sm:p-6 border rounded-lg",children:[(0,b.jsx)("div",{className:"text-xl sm:text-2xl font-bold text-yellow-500",children:([...m,...o].reduce((a,b)=>a+(b.rating||0),0)/[...m,...o].length||0).toFixed(1)}),(0,b.jsx)("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Average Rating"})]})]}),(0,b.jsx)(s.ResponsiveGrid,{cols:{mobile:1,tablet:1,desktop:3},gap:"md",children:u.map(a=>(0,b.jsx)(x,{plan:a,onStartPlan:async a=>{console.log("Starting plan:",a)}},a.id))}),0===u.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(v.Calendar,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No reading plans found"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Try adjusting your search or filters to find what you're looking for, or create your own plan."}),(0,b.jsxs)(f.Button,{className:"mt-4",onClick:()=>l(!0),children:[(0,b.jsx)(B.Plus,{className:"mr-2 h-4 w-4"}),"Create Your First Plan"]})]})]})})}a.s(["default",()=>K],84165)}];

//# sourceMappingURL=src_app_plans_page_tsx_2b4e3b14._.js.map