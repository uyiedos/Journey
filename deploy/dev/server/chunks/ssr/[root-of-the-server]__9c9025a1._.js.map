{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/ui/avatar.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Avatar = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatar.displayName = AvatarPrimitive.Root.displayName\r\n\r\nconst AvatarImage = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Image>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Image\r\n    ref={ref}\r\n    className={cn(\"aspect-square h-full w-full\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Fallback\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,8KAAwB;QACvB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW"}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary:\r\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive:\r\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLDivElement>,\r\n    VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return (\r\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\r\n  )\r\n}\r\n\r\nexport { Badge, badgeVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,IAAA,yHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE"}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Sheet = SheetPrimitive.Root\r\n\r\nconst SheetTrigger = SheetPrimitive.Trigger\r\n\r\nconst SheetClose = SheetPrimitive.Close\r\n\r\nconst SheetPortal = SheetPrimitive.Portal\r\n\r\nconst SheetOverlay = React.forwardRef<\r\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <SheetPrimitive.Overlay\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  />\r\n))\r\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\r\n\r\nconst sheetVariants = cva(\r\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\r\n  {\r\n    variants: {\r\n      side: {\r\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\r\n        bottom:\r\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\r\n        left: \"inset-y-0 left-0 h-full w-3/4 data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\r\n        right:\r\n          \"inset-y-0 right-0 h-full w-3/4 data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      side: \"right\",\r\n    },\r\n  }\r\n)\r\n\r\ninterface SheetContentProps\r\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\r\n    VariantProps<typeof sheetVariants> {}\r\n\r\nconst SheetContent = React.forwardRef<\r\n  React.ElementRef<typeof SheetPrimitive.Content>,\r\n  SheetContentProps\r\n>(({ side = \"right\", className, children, ...props }, ref) => (\r\n  <SheetPortal>\r\n    <SheetOverlay />\r\n    <SheetPrimitive.Content\r\n      ref={ref}\r\n      className={cn(sheetVariants({ side }), className)}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </SheetPrimitive.Close>\r\n    </SheetPrimitive.Content>\r\n  </SheetPortal>\r\n))\r\nSheetContent.displayName = SheetPrimitive.Content.displayName\r\n\r\nconst SheetHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-2 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nSheetHeader.displayName = \"SheetHeader\"\r\n\r\nconst SheetFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nSheetFooter.displayName = \"SheetFooter\"\r\n\r\nconst SheetTitle = React.forwardRef<\r\n  React.ElementRef<typeof SheetPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <SheetPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSheetTitle.displayName = SheetPrimitive.Title.displayName\r\n\r\nconst SheetDescription = React.forwardRef<\r\n  React.ElementRef<typeof SheetPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <SheetPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nSheetDescription.displayName = SheetPrimitive.Description.displayName\r\n\r\nexport {\r\n  Sheet,\r\n  SheetPortal,\r\n  SheetOverlay,\r\n  SheetTrigger,\r\n  SheetClose,\r\n  SheetContent,\r\n  SheetHeader,\r\n  SheetFooter,\r\n  SheetTitle,\r\n  SheetDescription,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,QAAQ,0KAAmB;AAEjC,MAAM,eAAe,6KAAsB;AAE3C,MAAM,aAAa,2KAAoB;AAEvC,MAAM,cAAc,4KAAqB;AAEzC,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,6KAAsB;QACrB,WAAW,IAAA,yHAAE,EACX,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,aAAa,WAAW,GAAG,6KAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,IAAA,uKAAG,EACvB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,mNAAgB,CAGnC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAsB;gBACrB,KAAK;gBACL,WAAW,IAAA,yHAAE,EAAC,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAoB;wBAAC,WAAU;;0CAC9B,8OAAC,iMAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,aAAa,WAAW,GAAG,6KAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,yCAAyC;QACtD,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG,2KAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,iLAA0B,CAAC,WAAW"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\r\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCard.displayName = \"Card\"\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardHeader.displayName = \"CardHeader\"\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-2xl font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nCardTitle.displayName = \"CardTitle\"\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardDescription.displayName = \"CardDescription\"\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\r\n))\r\nCardContent.displayName = \"CardContent\"\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center p-6 pt-0\", className)}\r\n    {...props}\r\n  />\r\n))\r\nCardFooter.displayName = \"CardFooter\"\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 357, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/services/notificationService.ts"],"sourcesContent":["export interface Notification {\r\n  id: string;\r\n  userId: string;\r\n  type: 'achievement' | 'streak' | 'points' | 'daily_login' | 'error';\r\n  title: string;\r\n  message: string;\r\n  points?: number;\r\n  timestamp: Date;\r\n  read: boolean;\r\n  icon?: string;\r\n  duration?: number;\r\n}\r\n\r\nclass NotificationService {\r\n  static showNotification(notification: Omit<Notification, 'id' | 'userId' | 'timestamp' | 'read'>) {\r\n    // For now, just log to console - can be enhanced with actual UI notifications\r\n    console.log(`[${notification.type.toUpperCase()}] ${notification.title}: ${notification.message}`);\r\n    \r\n    // Show browser notification if available\r\n    if (typeof window !== 'undefined' && 'Notification' in window && Notification.permission === 'granted') {\r\n      new Notification(notification.title, {\r\n        body: notification.message,\r\n        icon: notification.icon || '/favicon.ico'\r\n      });\r\n    }\r\n  }\r\n\r\n  static showAchievementNotification(title: string, points: number) {\r\n    this.showNotification({\r\n      type: 'achievement',\r\n      title,\r\n      message: `You earned ${points} points!`,\r\n      icon: 'trophy',\r\n      duration: 5000,\r\n    });\r\n  }\r\n\r\n  static showStreakNotification(streak: number) {\r\n    this.showNotification({\r\n      type: 'streak',\r\n      title: 'Streak Updated!',\r\n      message: `You're on a ${streak}-day streak!`,\r\n      icon: 'flame',\r\n      duration: 5000,\r\n    });\r\n  }\r\n}\r\n\r\nexport const notificationService = NotificationService;\r\n"],"names":[],"mappings":";;;;AAaA,MAAM;IACJ,OAAO,iBAAiB,YAAwE,EAAE;QAChG,8EAA8E;QAC9E,QAAQ,GAAG,CAAC,CAAC,CAAC,EAAE,aAAa,IAAI,CAAC,WAAW,GAAG,EAAE,EAAE,aAAa,KAAK,CAAC,EAAE,EAAE,aAAa,OAAO,EAAE;QAEjG,yCAAyC;QACzC,IAAI,kDAAkB,eAAe,kBAAkB,UAAU,aAAa,UAAU,KAAK;;IAM/F;IAEA,OAAO,4BAA4B,KAAa,EAAE,MAAc,EAAE;QAChE,IAAI,CAAC,gBAAgB,CAAC;YACpB,MAAM;YACN;YACA,SAAS,CAAC,WAAW,EAAE,OAAO,QAAQ,CAAC;YACvC,MAAM;YACN,UAAU;QACZ;IACF;IAEA,OAAO,uBAAuB,MAAc,EAAE;QAC5C,IAAI,CAAC,gBAAgB,CAAC;YACpB,MAAM;YACN,OAAO;YACP,SAAS,CAAC,YAAY,EAAE,OAAO,YAAY,CAAC;YAC5C,MAAM;YACN,UAAU;QACZ;IACF;AACF;AAEO,MAAM,sBAAsB"}},
    {"offset": {"line": 393, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/features/DailyPointsClaim.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { useAuth } from '@/contexts/SupabaseAuthContext';\r\nimport { useUserData } from '@/contexts/UserDataContext';\r\nimport { achievementService } from '@/services/achievementService';\r\nimport { notificationService } from '@/services/notificationService';\r\nimport { supabaseService } from '@/services/supabaseService';\r\nimport { Gift, Sparkles, Clock, CheckCircle, Trophy, Flame } from 'lucide-react';\r\n\r\nexport interface DailyClaimStatus {\r\n  canClaim: boolean;\r\n  claimedToday: boolean;\r\n  nextClaimTime?: Date;\r\n  pointsAwarded?: number;\r\n  streak?: number;\r\n}\r\n\r\nexport function DailyPointsClaim() {\r\n  const { user: authUser } = useAuth();\r\n  const { user, refreshData } = useUserData();\r\n  const [claimStatus, setClaimStatus] = useState<DailyClaimStatus>({\r\n    canClaim: false,\r\n    claimedToday: false,\r\n  });\r\n  const [isClaiming, setIsClaiming] = useState(false);\r\n  const [lastCheck, setLastCheck] = useState<Date>(new Date());\r\n\r\n  // Check claim status\r\n  const checkClaimStatus = async () => {\r\n    if (!authUser) return;\r\n\r\n    try {\r\n      const now = new Date();\r\n      const client = supabaseService.getClient();\r\n      \r\n      // Check if user has claimed in the last 24 hours\r\n      const { data: existingClaim, error } = await client\r\n        .from('daily_login_rewards')\r\n        .select('*')\r\n        .eq('user_id', authUser.id)\r\n        .gte('created_at', new Date(now.getTime() - 24 * 60 * 60 * 1000).toISOString())\r\n        .order('created_at', { ascending: false })\r\n        .limit(1)\r\n        .maybeSingle();\r\n\r\n      const claimedToday = !!existingClaim;\r\n      \r\n      // Calculate next claim time (24 hours after last claim)\r\n      let nextClaimTime = undefined;\r\n      if (claimedToday && existingClaim?.created_at) {\r\n        const lastClaimTime = new Date(existingClaim.created_at);\r\n        nextClaimTime = new Date(lastClaimTime.getTime() + 24 * 60 * 60 * 1000);\r\n      }\r\n      \r\n      setClaimStatus({\r\n        canClaim: !claimedToday,\r\n        claimedToday,\r\n        nextClaimTime: claimedToday ? nextClaimTime : undefined,\r\n        pointsAwarded: existingClaim?.points_awarded,\r\n        streak: user?.streak || 0,\r\n      });\r\n    } catch (error) {\r\n      console.error('Error checking claim status:', error);\r\n      setClaimStatus({\r\n        canClaim: true,\r\n        claimedToday: false,\r\n        streak: user?.streak || 0,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Claim daily points\r\n  const handleClaimPoints = async () => {\r\n    if (!authUser || !claimStatus.canClaim || isClaiming) return;\r\n\r\n    setIsClaiming(true);\r\n    \r\n    try {\r\n      const result = await achievementService.trackDailyLogin(authUser.id);\r\n      \r\n      if (result.pointsAwarded > 0) {\r\n        // Show success notification\r\n        await notificationService.showNotification({\r\n          type: 'achievement',\r\n          title: 'Daily Points Claimed!',\r\n          message: `You earned ${result.pointsAwarded} points!`,\r\n          icon: 'gift',\r\n          duration: 5000,\r\n        });\r\n\r\n        // Refresh user data to update points/streak\r\n        await refreshData();\r\n        \r\n        // Update claim status\r\n        await checkClaimStatus();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error claiming daily points:', error);\r\n      await notificationService.showNotification({\r\n        type: 'error',\r\n        title: 'Claim Failed',\r\n        message: 'Unable to claim daily points. Please try again.',\r\n        icon: 'error',\r\n        duration: 5000,\r\n      });\r\n    } finally {\r\n      setIsClaiming(false);\r\n    }\r\n  };\r\n\r\n  // Check status on mount and user change\r\n  useEffect(() => {\r\n    if (authUser) {\r\n      checkClaimStatus();\r\n    }\r\n  }, [authUser, user?.streak]);\r\n\r\n  // Update countdown timer\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setLastCheck(new Date());\r\n    }, 60000); // Update every minute\r\n\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  if (!authUser) {\r\n    return null;\r\n  }\r\n\r\n  // Compact version for header\r\n  if (claimStatus.claimedToday) {\r\n    return (\r\n      <div className=\"flex items-center space-x-2\">\r\n        <Badge className=\"px-2 py-1 bg-green-100 text-green-800 border-green-200\">\r\n          <CheckCircle className=\"h-3 w-3 mr-1\" />\r\n          Claimed\r\n        </Badge>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className=\"bg-linear-to-br from-yellow-50 to-orange-50 border-yellow-200\">\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <div className=\"w-8 h-8 bg-linear-to-br from-yellow-400 to-orange-500 rounded-lg flex items-center justify-center\">\r\n              <Gift className=\"h-4 w-4 text-white\" />\r\n            </div>\r\n            <CardTitle className=\"text-lg text-gray-900\">Daily Points</CardTitle>\r\n          </div>\r\n          {claimStatus.streak && claimStatus.streak > 0 && (\r\n            <Badge className=\"bg-orange-100 text-orange-800 border-orange-200\">\r\n              <Flame className=\"h-3 w-3 mr-1\" />\r\n              {claimStatus.streak} day streak\r\n            </Badge>\r\n          )}\r\n        </div>\r\n        <CardDescription className=\"text-gray-700 dark:text-gray-300\">\r\n          Claim your daily points and maintain your streak!\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent className=\"pt-0\">\r\n        {claimStatus.canClaim ? (\r\n          <div className=\"space-y-3\">\r\n            <Button \r\n              onClick={handleClaimPoints}\r\n              disabled={isClaiming}\r\n              className=\"w-full bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white shadow-lg transition-all duration-200 hover:shadow-xl\"\r\n            >\r\n              {isClaiming ? (\r\n                <>\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\" />\r\n                  Claiming...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Gift className=\"mr-2 h-4 w-4\" />\r\n                  Claim Daily Points\r\n                  <Sparkles className=\"ml-2 h-4 w-4\" />\r\n                </>\r\n              )}\r\n            </Button>\r\n            <div className=\"text-center text-sm text-gray-700 dark:text-gray-300\">\r\n              <Trophy className=\"h-3 w-3 inline mr-1\" />\r\n              Earn points and maintain your streak!\r\n            </div>\r\n          </div>\r\n        ) : claimStatus.nextClaimTime ? (\r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex items-center justify-center space-x-2 text-green-600\">\r\n              <CheckCircle className=\"h-4 w-4\" />\r\n              <span className=\"font-medium\">Already claimed today!</span>\r\n            </div>\r\n            <div className=\"text-center text-sm text-muted-foreground\">\r\n              <Clock className=\"h-3 w-3 inline mr-1\" />\r\n              Next claim: {claimStatus.nextClaimTime.toLocaleTimeString()}\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// Compact version for header/navigation\r\nexport function DailyPointsClaimCompact() {\r\n  const { user: authUser } = useAuth();\r\n  const { user, refreshData } = useUserData();\r\n  const [claimStatus, setClaimStatus] = useState<DailyClaimStatus>({\r\n    canClaim: false,\r\n    claimedToday: false,\r\n  });\r\n  const [isClaiming, setIsClaiming] = useState(false);\r\n\r\n  const checkClaimStatus = async () => {\r\n    if (!authUser) return;\r\n\r\n    try {\r\n      const now = new Date();\r\n      const client = supabaseService.getClient();\r\n      \r\n      // Check if user has claimed in the last 24 hours\r\n      const { data: existingClaim } = await client\r\n        .from('daily_login_rewards')\r\n        .select('*')\r\n        .eq('user_id', authUser.id)\r\n        .gte('created_at', new Date(now.getTime() - 24 * 60 * 60 * 1000).toISOString())\r\n        .order('created_at', { ascending: false })\r\n        .limit(1)\r\n        .maybeSingle();\r\n\r\n      const claimedToday = !!existingClaim;\r\n      \r\n      setClaimStatus({\r\n        canClaim: !claimedToday,\r\n        claimedToday,\r\n        streak: user?.streak || 0,\r\n      });\r\n    } catch (error) {\r\n      setClaimStatus({\r\n        canClaim: true,\r\n        claimedToday: false,\r\n        streak: user?.streak || 0,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleClaimPoints = async () => {\r\n    if (!authUser || !claimStatus.canClaim || isClaiming) return;\r\n\r\n    setIsClaiming(true);\r\n    \r\n    try {\r\n      const result = await achievementService.trackDailyLogin(authUser.id);\r\n      \r\n      if (result.pointsAwarded > 0) {\r\n        await notificationService.showNotification({\r\n          type: 'achievement',\r\n          title: 'Daily Points Claimed!',\r\n          message: `You earned ${result.pointsAwarded} points!`,\r\n          icon: 'gift',\r\n          duration: 5000,\r\n        });\r\n\r\n        await refreshData();\r\n        await checkClaimStatus();\r\n      }\r\n    } catch (error) {\r\n      console.error('Error claiming daily points:', error);\r\n    } finally {\r\n      setIsClaiming(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (authUser) {\r\n      checkClaimStatus();\r\n    }\r\n  }, [authUser]);\r\n\r\n  if (!authUser || claimStatus.claimedToday) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Button\r\n      onClick={handleClaimPoints}\r\n      disabled={isClaiming}\r\n      size=\"sm\"\r\n      className=\"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white shadow-md transition-all duration-200\"\r\n    >\r\n      {isClaiming ? (\r\n        <div className=\"animate-spin rounded-full h-3 w-3 border-b-2 border-white\" />\r\n      ) : (\r\n        <>\r\n          <Gift className=\"h-3 w-3 mr-1\" />\r\n          Claim\r\n        </>\r\n      )}\r\n    </Button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXA;;;;;;;;;;;;AAqBO,SAAS;IACd,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,IAAA,kJAAO;IAClC,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,GAAG,IAAA,kJAAW;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAmB;QAC/D,UAAU;QACV,cAAc;IAChB;IACA,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAO,IAAI;IAErD,qBAAqB;IACrB,MAAM,mBAAmB;QACvB,IAAI,CAAC,UAAU;QAEf,IAAI;YACF,MAAM,MAAM,IAAI;YAChB,MAAM,SAAS,qJAAe,CAAC,SAAS;YAExC,iDAAiD;YACjD,MAAM,EAAE,MAAM,aAAa,EAAE,KAAK,EAAE,GAAG,MAAM,OAC1C,IAAI,CAAC,uBACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,SAAS,EAAE,EACzB,GAAG,CAAC,cAAc,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,KAAK,KAAK,MAAM,WAAW,IAC3E,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM,GACvC,KAAK,CAAC,GACN,WAAW;YAEd,MAAM,eAAe,CAAC,CAAC;YAEvB,wDAAwD;YACxD,IAAI,gBAAgB;YACpB,IAAI,gBAAgB,eAAe,YAAY;gBAC7C,MAAM,gBAAgB,IAAI,KAAK,cAAc,UAAU;gBACvD,gBAAgB,IAAI,KAAK,cAAc,OAAO,KAAK,KAAK,KAAK,KAAK;YACpE;YAEA,eAAe;gBACb,UAAU,CAAC;gBACX;gBACA,eAAe,eAAe,gBAAgB;gBAC9C,eAAe,eAAe;gBAC9B,QAAQ,MAAM,UAAU;YAC1B;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,eAAe;gBACb,UAAU;gBACV,cAAc;gBACd,QAAQ,MAAM,UAAU;YAC1B;QACF;IACF;IAEA,qBAAqB;IACrB,MAAM,oBAAoB;QACxB,IAAI,CAAC,YAAY,CAAC,YAAY,QAAQ,IAAI,YAAY;QAEtD,cAAc;QAEd,IAAI;YACF,MAAM,SAAS,MAAM,2JAAkB,CAAC,eAAe,CAAC,SAAS,EAAE;YAEnE,IAAI,OAAO,aAAa,GAAG,GAAG;gBAC5B,4BAA4B;gBAC5B,MAAM,6JAAmB,CAAC,gBAAgB,CAAC;oBACzC,MAAM;oBACN,OAAO;oBACP,SAAS,CAAC,WAAW,EAAE,OAAO,aAAa,CAAC,QAAQ,CAAC;oBACrD,MAAM;oBACN,UAAU;gBACZ;gBAEA,4CAA4C;gBAC5C,MAAM;gBAEN,sBAAsB;gBACtB,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,MAAM,6JAAmB,CAAC,gBAAgB,CAAC;gBACzC,MAAM;gBACN,OAAO;gBACP,SAAS;gBACT,MAAM;gBACN,UAAU;YACZ;QACF,SAAU;YACR,cAAc;QAChB;IACF;IAEA,wCAAwC;IACxC,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;YACZ;QACF;IACF,GAAG;QAAC;QAAU,MAAM;KAAO;IAE3B,yBAAyB;IACzB,IAAA,kNAAS,EAAC;QACR,MAAM,WAAW,YAAY;YAC3B,aAAa,IAAI;QACnB,GAAG,QAAQ,sBAAsB;QAEjC,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IAEL,IAAI,CAAC,UAAU;QACb,OAAO;IACT;IAEA,6BAA6B;IAC7B,IAAI,YAAY,YAAY,EAAE;QAC5B,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,0IAAK;gBAAC,WAAU;;kCACf,8OAAC,0OAAW;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;;;;;;IAKhD;IAEA,qBACE,8OAAC,wIAAI;QAAC,WAAU;;0BACd,8OAAC,8IAAU;gBAAC,WAAU;;kCACpB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC,0MAAI;4CAAC,WAAU;;;;;;;;;;;kDAElB,8OAAC,6IAAS;wCAAC,WAAU;kDAAwB;;;;;;;;;;;;4BAE9C,YAAY,MAAM,IAAI,YAAY,MAAM,GAAG,mBAC1C,8OAAC,0IAAK;gCAAC,WAAU;;kDACf,8OAAC,6MAAK;wCAAC,WAAU;;;;;;oCAChB,YAAY,MAAM;oCAAC;;;;;;;;;;;;;kCAI1B,8OAAC,mJAAe;wBAAC,WAAU;kCAAmC;;;;;;;;;;;;0BAIhE,8OAAC,+IAAW;gBAAC,WAAU;0BACpB,YAAY,QAAQ,iBACnB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,4IAAM;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;sCAET,2BACC;;kDACE,8OAAC;wCAAI,WAAU;;;;;;oCAAmE;;6DAIpF;;kDACE,8OAAC,0MAAI;wCAAC,WAAU;;;;;;oCAAiB;kDAEjC,8OAAC,sNAAQ;wCAAC,WAAU;;;;;;;;;;;;;sCAI1B,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,gNAAM;oCAAC,WAAU;;;;;;gCAAwB;;;;;;;;;;;;2BAI5C,YAAY,aAAa,iBAC3B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,0OAAW;oCAAC,WAAU;;;;;;8CACvB,8OAAC;oCAAK,WAAU;8CAAc;;;;;;;;;;;;sCAEhC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,6MAAK;oCAAC,WAAU;;;;;;gCAAwB;gCAC5B,YAAY,aAAa,CAAC,kBAAkB;;;;;;;;;;;;2BAG3D;;;;;;;;;;;;AAIZ;AAGO,SAAS;IACd,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,IAAA,kJAAO;IAClC,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,GAAG,IAAA,kJAAW;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAmB;QAC/D,UAAU;QACV,cAAc;IAChB;IACA,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAE7C,MAAM,mBAAmB;QACvB,IAAI,CAAC,UAAU;QAEf,IAAI;YACF,MAAM,MAAM,IAAI;YAChB,MAAM,SAAS,qJAAe,CAAC,SAAS;YAExC,iDAAiD;YACjD,MAAM,EAAE,MAAM,aAAa,EAAE,GAAG,MAAM,OACnC,IAAI,CAAC,uBACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,SAAS,EAAE,EACzB,GAAG,CAAC,cAAc,IAAI,KAAK,IAAI,OAAO,KAAK,KAAK,KAAK,KAAK,MAAM,WAAW,IAC3E,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM,GACvC,KAAK,CAAC,GACN,WAAW;YAEd,MAAM,eAAe,CAAC,CAAC;YAEvB,eAAe;gBACb,UAAU,CAAC;gBACX;gBACA,QAAQ,MAAM,UAAU;YAC1B;QACF,EAAE,OAAO,OAAO;YACd,eAAe;gBACb,UAAU;gBACV,cAAc;gBACd,QAAQ,MAAM,UAAU;YAC1B;QACF;IACF;IAEA,MAAM,oBAAoB;QACxB,IAAI,CAAC,YAAY,CAAC,YAAY,QAAQ,IAAI,YAAY;QAEtD,cAAc;QAEd,IAAI;YACF,MAAM,SAAS,MAAM,2JAAkB,CAAC,eAAe,CAAC,SAAS,EAAE;YAEnE,IAAI,OAAO,aAAa,GAAG,GAAG;gBAC5B,MAAM,6JAAmB,CAAC,gBAAgB,CAAC;oBACzC,MAAM;oBACN,OAAO;oBACP,SAAS,CAAC,WAAW,EAAE,OAAO,aAAa,CAAC,QAAQ,CAAC;oBACrD,MAAM;oBACN,UAAU;gBACZ;gBAEA,MAAM;gBACN,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,gCAAgC;QAChD,SAAU;YACR,cAAc;QAChB;IACF;IAEA,IAAA,kNAAS,EAAC;QACR,IAAI,UAAU;YACZ;QACF;IACF,GAAG;QAAC;KAAS;IAEb,IAAI,CAAC,YAAY,YAAY,YAAY,EAAE;QACzC,OAAO;IACT;IAEA,qBACE,8OAAC,4IAAM;QACL,SAAS;QACT,UAAU;QACV,MAAK;QACL,WAAU;kBAET,2BACC,8OAAC;YAAI,WAAU;;;;;iCAEf;;8BACE,8OAAC,0MAAI;oBAAC,WAAU;;;;;;gBAAiB;;;;;;;;AAM3C"}},
    {"offset": {"line": 851, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/layout/MobileNavigation.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Sheet, SheetContent, SheetHeader, SheetTitle, SheetTrigger } from '@/components/ui/sheet';\r\nimport { useUserData } from '@/contexts/UserDataContext';\r\nimport { DailyPointsClaimCompact } from '@/components/features/DailyPointsClaim';\r\nimport { cn } from '@/lib/utils';\r\nimport {\r\n  BookOpen,\r\n  Heart,\r\n  Calendar,\r\n  Users,\r\n  Trophy,\r\n  Settings,\r\n  Home,\r\n  Flame,\r\n  Menu,\r\n  X,\r\n  Sparkles,\r\n  Zap,\r\n  Target,\r\n  Star,\r\n  Bell,\r\n  User,\r\n  LogOut,\r\n  ChevronRight,\r\n  Crown,\r\n  Gift\r\n} from 'lucide-react';\r\n\r\nexport function MobileNavigation() {\r\n  const pathname = usePathname();\r\n  const { user } = useUserData();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const navigation = [\r\n    { \r\n      name: 'Home', \r\n      href: '/', \r\n      icon: Home,\r\n      color: 'text-blue-500',\r\n      bgColor: 'bg-blue-50 hover:bg-blue-100',\r\n      description: 'Dashboard & Overview'\r\n    },\r\n    { \r\n      name: 'Bible', \r\n      href: '/bible', \r\n      icon: BookOpen,\r\n      color: 'text-green-500',\r\n      bgColor: 'bg-linear-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200',\r\n      description: 'Read Scripture'\r\n    },\r\n    { \r\n      name: 'Devotionals', \r\n      href: '/devotionals', \r\n      icon: Heart,\r\n      color: 'text-pink-500',\r\n      bgColor: 'bg-pink-50 hover:bg-pink-100',\r\n      description: 'Daily Reflections'\r\n    },\r\n    { \r\n      name: 'Reading Plans', \r\n      href: '/plans', \r\n      icon: Calendar,\r\n      color: 'text-purple-500',\r\n      bgColor: 'bg-purple-50 hover:bg-purple-100',\r\n      description: 'Structured Learning'\r\n    },\r\n    { \r\n      name: 'Community', \r\n      href: '/community', \r\n      icon: Users,\r\n      color: 'text-orange-500',\r\n      bgColor: 'bg-orange-50 hover:bg-orange-100',\r\n      description: 'Connect & Share'\r\n    },\r\n    { \r\n      name: 'Leaderboard', \r\n      href: '/leaderboard', \r\n      icon: Crown,\r\n      color: 'text-purple-500',\r\n      bgColor: 'bg-purple-50 hover:bg-purple-100',\r\n      description: 'Top Rankings'\r\n    },\r\n    { \r\n      name: 'Achievements', \r\n      href: '/achievements', \r\n      icon: Trophy,\r\n      color: 'text-yellow-500',\r\n      bgColor: 'bg-yellow-50 hover:bg-yellow-100',\r\n      description: 'Your Progress'\r\n    },\r\n    { \r\n      name: 'Donations', \r\n      href: '/donations', \r\n      icon: Gift,\r\n      color: 'text-pink-500',\r\n      bgColor: 'bg-pink-50 hover:bg-pink-100',\r\n      description: 'Support & Tokens'\r\n    },\r\n    { \r\n      name: 'Settings', \r\n      href: '/settings', \r\n      icon: Settings,\r\n      color: 'text-gray-500',\r\n      bgColor: 'bg-gray-50 hover:bg-gray-100',\r\n      description: 'Preferences'\r\n    },\r\n  ];\r\n\r\n  const closeSheet = () => setIsOpen(false);\r\n\r\n  return (\r\n    <Sheet open={isOpen} onOpenChange={setIsOpen}>\r\n      <SheetTrigger asChild>\r\n        <Button \r\n          variant=\"ghost\" \r\n          size=\"icon\" \r\n          className=\"md:hidden h-12 w-12 rounded-full shadow-lg bg-primary/10 hover:bg-primary/20 transition-all duration-200\"\r\n        >\r\n          <Menu className=\"h-6 w-6\" />\r\n        </Button>\r\n      </SheetTrigger>\r\n      <SheetContent side=\"left\" className=\"w-80 p-0 overflow-hidden\">\r\n        <SheetHeader className=\"p-6 pb-4 border-b\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"w-10 h-10 bg-linear-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center\">\r\n                <BookOpen className=\"h-6 w-6 text-white\" />\r\n              </div>\r\n              <div>\r\n                <SheetTitle className=\"text-lg font-bold\">Journey</SheetTitle>\r\n                <p className=\"text-sm text-muted-foreground\">Your Spiritual Path</p>\r\n              </div>\r\n            </div>\r\n            <Button variant=\"ghost\" size=\"icon\" onClick={closeSheet}>\r\n              <X className=\"h-5 w-5\" />\r\n            </Button>\r\n          </div>\r\n        </SheetHeader>\r\n\r\n        {/* User Profile Section */}\r\n        <div className=\"p-6 pb-4 border-b\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <div className=\"relative\">\r\n              <div className=\"w-12 h-12 bg-linear-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center\">\r\n                <User className=\"h-6 w-6 text-white\" />\r\n              </div>\r\n              <div className=\"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-background\" />\r\n            </div>\r\n            <div className=\"flex-1\">\r\n              <div className=\"font-semibold\">{user?.username || 'Guest'}</div>\r\n              <div className=\"text-sm text-muted-foreground\">Level {user?.level || 1}</div>\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <div className=\"flex items-center space-x-1 text-sm font-medium\">\r\n                <Trophy className=\"h-4 w-4 text-yellow-500\" />\r\n                <span>{user?.points?.toLocaleString() || 0}</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-1 text-sm text-muted-foreground\">\r\n                <Flame className=\"h-4 w-4 text-orange-500\" />\r\n                <span>{user?.streak || 0} days</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Navigation Items */}\r\n        <div className=\"flex-1 overflow-y-auto p-4\">\r\n          <div className=\"space-y-2\">\r\n            {navigation.map((item) => {\r\n              const isActive = pathname === item.href;\r\n              const Icon = item.icon;\r\n              \r\n              return (\r\n                <Link key={item.href} href={item.href} onClick={closeSheet}>\r\n                  <div className={cn(\r\n                    \"flex items-center space-x-4 p-4 rounded-xl transition-all duration-200 group\",\r\n                    isActive \r\n                      ? \"bg-primary text-primary-foreground shadow-lg scale-105\" \r\n                      : item.bgColor\r\n                  )}>\r\n                    <div className={cn(\r\n                      \"w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200\",\r\n                      isActive \r\n                        ? \"bg-primary-foreground/20\" \r\n                        : \"bg-white shadow-sm group-hover:shadow-md\"\r\n                    )}>\r\n                      <Icon className={cn(\r\n                        \"h-6 w-6 transition-all duration-200\",\r\n                        isActive ? \"text-primary-foreground\" : item.color\r\n                      )} />\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"font-medium\">{item.name}</div>\r\n                      <div className={cn(\r\n                        \"text-sm transition-all duration-200\",\r\n                        isActive ? \"text-primary-foreground/80\" : \"text-muted-foreground\"\r\n                      )}>\r\n                        {item.description}\r\n                      </div>\r\n                    </div>\r\n                    <ChevronRight className={cn(\r\n                      \"h-5 w-5 transition-all duration-200\",\r\n                      isActive ? \"text-primary-foreground\" : \"text-muted-foreground\"\r\n                    )} />\r\n                  </div>\r\n                </Link>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Quick Actions */}\r\n        <div className=\"p-4 border-t space-y-3\">\r\n          {/* Daily Points Claim */}\r\n          <DailyPointsClaimCompact />\r\n          \r\n          <div className=\"grid grid-cols-2 gap-3\">\r\n            <Button variant=\"outline\" className=\"h-12 space-x-2\">\r\n              <Bell className=\"h-4 w-4\" />\r\n              <span>Notifications</span>\r\n            </Button>\r\n            <Button variant=\"outline\" className=\"h-12 space-x-2\">\r\n              <LogOut className=\"h-4 w-4\" />\r\n              <span>Sign Out</span>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </SheetContent>\r\n    </Sheet>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1381, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/layout/Header.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport Link from 'next/link';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { useAuth } from '@/contexts/SupabaseAuthContext';\r\nimport { useUserData } from '@/contexts/UserDataContext';\r\nimport { MobileNavigation } from './MobileNavigation';\r\nimport { DailyPointsClaimCompact } from '@/components/features/DailyPointsClaim';\r\nimport { BookOpen, Users, Heart, Trophy, Menu, Search, LogIn, LogOut, Bell, Sparkles, Flame } from 'lucide-react';\r\n\r\nexport function Header() {\r\n  const { user: authUser, signOut } = useAuth();\r\n  const { user } = useUserData();\r\n\r\n  const handleSignOut = async () => {\r\n    await signOut();\r\n  };\r\n\r\n  return (\r\n    <header className=\"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60\">\r\n      <div className=\"container flex h-16 items-center justify-between px-4\">\r\n        <div className=\"flex items-center space-x-2 sm:space-x-4\">\r\n          <MobileNavigation />\r\n          <Link href=\"/\" className=\"flex items-center space-x-2\">\r\n            <div className=\"w-6 h-6 sm:w-8 sm:h-8 bg-linear-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\r\n              <BookOpen className=\"h-3 w-3 sm:h-5 sm:w-5 text-white\" />\r\n            </div>\r\n            <span className=\"text-lg sm:text-xl font-bold bg-linear-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\r\n              Journey\r\n            </span>\r\n          </Link>\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-1 sm:space-x-2 md:space-x-4\">\r\n          {/* Search Button - Hidden on small mobile */}\r\n          <Button \r\n            variant=\"ghost\" \r\n            size=\"icon\" \r\n            className=\"hidden sm:flex h-8 w-8 sm:h-10 sm:w-10 rounded-full hover:bg-primary/10 transition-all duration-200\"\r\n          >\r\n            <Search className=\"h-4 w-4\" />\r\n          </Button>\r\n\r\n          {/* Notifications - Smaller on mobile */}\r\n          <Button \r\n            variant=\"ghost\" \r\n            size=\"icon\" \r\n            className=\"relative h-8 w-8 sm:h-10 sm:w-10 rounded-full hover:bg-primary/10 transition-all duration-200\"\r\n          >\r\n            <Bell className=\"h-4 w-4\" />\r\n            <span className=\"absolute -top-1 -right-1 h-2 w-2 sm:h-3 sm:w-3 bg-red-500 rounded-full border-2 border-background\" />\r\n          </Button>\r\n\r\n          {/* User Stats - Enhanced */}\r\n          {authUser ? (\r\n            <div className=\"flex items-center space-x-1 sm:space-x-2 md:space-x-4\">\r\n              {/* Daily Points Claim - Compact */}\r\n              <DailyPointsClaimCompact />\r\n              \r\n              {/* Points Badge - Mobile */}\r\n              <Badge className=\"hidden md:flex items-center space-x-1 px-2 py-1 sm:px-3 sm:py-1.5 bg-linear-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 shadow-sm\">\r\n                <Trophy className=\"h-3 w-3\" />\r\n                <span className=\"font-medium text-xs sm:text-sm\">{user?.points?.toLocaleString() || 0}</span>\r\n              </Badge>\r\n\r\n              {/* Streak Badge - Mobile */}\r\n              <Badge className=\"hidden md:flex items-center space-x-1 px-2 py-1 sm:px-3 sm:py-1.5 bg-linear-to-r from-orange-100 to-red-100 text-orange-800 border-orange-200 shadow-sm\">\r\n                <Flame className=\"h-3 w-3\" />\r\n                <span className=\"font-medium text-xs sm:text-sm\">{user?.streak || 0} days</span>\r\n              </Badge>\r\n\r\n              {/* User Avatar - Enhanced */}\r\n              <div className=\"flex items-center space-x-1 sm:space-x-2\">\r\n                <div className=\"relative\">\r\n                  <Avatar className=\"h-7 w-7 sm:h-9 sm:w-9 md:h-10 md:w-10 ring-2 ring-primary/10\">\r\n                    <AvatarImage src={user?.avatar} />\r\n                    <AvatarFallback className=\"bg-linear-to-br from-blue-400 to-purple-500 text-white font-medium text-sm\">\r\n                      {authUser.email?.charAt(0).toUpperCase() || 'U'}\r\n                    </AvatarFallback>\r\n                  </Avatar>\r\n                  <div className=\"absolute -bottom-1 -right-1 w-2 h-2 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-background\" />\r\n                </div>\r\n                <div className=\"hidden md:block\">\r\n                  <Link href=\"/settings\" className=\"text-sm font-medium hover:text-primary transition-colors\">\r\n                    {user?.username || authUser.email?.split('@')[0]}\r\n                  </Link>\r\n                  <div className=\"flex items-center space-x-2\">\r\n                    <div className=\"text-xs text-muted-foreground\">Level {user?.level || 1}</div>\r\n                    <div className=\"text-xs text-blue-600 font-medium\">Ref: {user?.username || authUser.email?.split('@')[0]}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Sign Out Button - Enhanced */}\r\n              <Button \r\n                variant=\"ghost\" \r\n                size=\"icon\" \r\n                onClick={handleSignOut}\r\n                className=\"h-8 w-8 sm:h-10 sm:w-10 rounded-full hover:bg-red-50 hover:text-red-600 transition-all duration-200\"\r\n              >\r\n                <LogOut className=\"h-4 w-4\" />\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <Link href=\"/auth\">\r\n              <Button className=\"h-8 px-3 sm:h-10 sm:px-6 bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg transition-all duration-200 text-xs sm:text-sm\">\r\n                <LogIn className=\"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4\" />\r\n                <span className=\"hidden sm:inline\">Sign In</span>\r\n                <span className=\"sm:hidden\">Login</span>\r\n              </Button>\r\n            </Link>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXA;;;;;;;;;;;AAaO,SAAS;IACd,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,EAAE,GAAG,IAAA,kJAAO;IAC3C,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,kJAAW;IAE5B,MAAM,gBAAgB;QACpB,MAAM;IACR;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,oKAAgB;;;;;sCACjB,8OAAC,uKAAI;4BAAC,MAAK;4BAAI,WAAU;;8CACvB,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,0NAAQ;wCAAC,WAAU;;;;;;;;;;;8CAEtB,8OAAC;oCAAK,WAAU;8CAAwG;;;;;;;;;;;;;;;;;;8BAM5H,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC,4IAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,WAAU;sCAEV,cAAA,8OAAC,gNAAM;gCAAC,WAAU;;;;;;;;;;;sCAIpB,8OAAC,4IAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,WAAU;;8CAEV,8OAAC,0MAAI;oCAAC,WAAU;;;;;;8CAChB,8OAAC;oCAAK,WAAU;;;;;;;;;;;;wBAIjB,yBACC,8OAAC;4BAAI,WAAU;;8CAEb,8OAAC,6KAAuB;;;;;8CAGxB,8OAAC,0IAAK;oCAAC,WAAU;;sDACf,8OAAC,gNAAM;4CAAC,WAAU;;;;;;sDAClB,8OAAC;4CAAK,WAAU;sDAAkC,MAAM,QAAQ,oBAAoB;;;;;;;;;;;;8CAItF,8OAAC,0IAAK;oCAAC,WAAU;;sDACf,8OAAC,6MAAK;4CAAC,WAAU;;;;;;sDACjB,8OAAC;4CAAK,WAAU;;gDAAkC,MAAM,UAAU;gDAAE;;;;;;;;;;;;;8CAItE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,4IAAM;oDAAC,WAAU;;sEAChB,8OAAC,iJAAW;4DAAC,KAAK,MAAM;;;;;;sEACxB,8OAAC,oJAAc;4DAAC,WAAU;sEACvB,SAAS,KAAK,EAAE,OAAO,GAAG,iBAAiB;;;;;;;;;;;;8DAGhD,8OAAC;oDAAI,WAAU;;;;;;;;;;;;sDAEjB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,uKAAI;oDAAC,MAAK;oDAAY,WAAU;8DAC9B,MAAM,YAAY,SAAS,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE;;;;;;8DAElD,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;gEAAgC;gEAAO,MAAM,SAAS;;;;;;;sEACrE,8OAAC;4DAAI,WAAU;;gEAAoC;gEAAM,MAAM,YAAY,SAAS,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;8CAM9G,8OAAC,4IAAM;oCACL,SAAQ;oCACR,MAAK;oCACL,SAAS;oCACT,WAAU;8CAEV,cAAA,8OAAC,oNAAM;wCAAC,WAAU;;;;;;;;;;;;;;;;iDAItB,8OAAC,uKAAI;4BAAC,MAAK;sCACT,cAAA,8OAAC,4IAAM;gCAAC,WAAU;;kDAChB,8OAAC,iNAAK;wCAAC,WAAU;;;;;;kDACjB,8OAAC;wCAAK,WAAU;kDAAmB;;;;;;kDACnC,8OAAC;wCAAK,WAAU;kDAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ5C"}},
    {"offset": {"line": 1753, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/layout/Sidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { cn } from '@/lib/utils';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { useUserData } from '@/contexts/UserDataContext';\r\nimport { useAuth } from '@/contexts/SupabaseAuthContext';\r\nimport { \r\n  BookOpen, \r\n  Heart, \r\n  Calendar, \r\n  Users, \r\n  Trophy, \r\n  Settings, \r\n  Home,\r\n  Flame,\r\n  Crown,\r\n  Gift,\r\n  Shield,\r\n  UserPlus,\r\n  Sparkles\r\n} from 'lucide-react';\r\n\r\nconst navigation = [\r\n  { name: 'Home', href: '/', icon: Home },\r\n  { name: 'Bible', href: '/bible', icon: BookOpen },\r\n  { name: 'Devotionals', href: '/devotionals', icon: Heart },\r\n  { name: 'Reading Plans', href: '/plans', icon: Calendar },\r\n  { name: 'AI Tools', href: '/ai-tools', icon: Sparkles },\r\n  { name: 'Community', href: '/community', icon: Users },\r\n  { name: 'Leaderboard', href: '/leaderboard', icon: Crown },\r\n  { name: 'Achievements', href: '/achievements', icon: Trophy },\r\n  { name: 'Referrals', href: '/referrals', icon: UserPlus },\r\n  { name: 'Donations', href: '/donations', icon: Gift },\r\n];\r\n\r\ninterface SidebarProps {\r\n  className?: string;\r\n}\r\n\r\nexport function Sidebar({ className }: SidebarProps) {\r\n  const pathname = usePathname();\r\n  const { user } = useUserData();\r\n  const { user: authUser } = useAuth();\r\n\r\n  // Check if user is admin or owner\r\n  const isAdmin = authUser?.app_metadata?.role === 'admin' || authUser?.app_metadata?.role === 'owner';\r\n\r\n  return (\r\n    <div className={cn(\"pb-12 w-64 h-screen bg-white border-r border-gray-200 lg:border-r-0\", className)}>\r\n      <div className=\"space-y-4 py-4\">\r\n        <div className=\"px-3 py-2\">\r\n          <h2 className=\"mb-2 px-4 text-lg font-semibold tracking-tight\">\r\n            Journey\r\n          </h2>\r\n          <div className=\"space-y-1\">\r\n            {navigation.map((item) => (\r\n              <Button\r\n                key={item.href}\r\n                variant={pathname === item.href ? \"secondary\" : \"ghost\"}\r\n                className=\"w-full justify-start h-10 lg:h-9\"\r\n                asChild\r\n              >\r\n                <Link href={item.href}>\r\n                  <item.icon className=\"mr-2 h-4 w-4\" />\r\n                  <span className=\"hidden lg:inline\">{item.name}</span>\r\n                  <span className=\"lg:hidden\">{item.name.split(' ')[0]}</span>\r\n                </Link>\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {isAdmin && (\r\n          <div className=\"px-3 py-2\">\r\n            <h2 className=\"mb-2 px-4 text-lg font-semibold tracking-tight\">\r\n              <span className=\"hidden lg:inline\">Admin</span>\r\n              <span className=\"lg:hidden\">Adm</span>\r\n            </h2>\r\n            <div className=\"space-y-1\">\r\n              <Button\r\n                variant={pathname === '/admin' ? \"secondary\" : \"ghost\"}\r\n                className=\"w-full justify-start h-10 lg:h-9\"\r\n                asChild\r\n              >\r\n                <Link href=\"/admin\">\r\n                  <Shield className=\"mr-2 h-4 w-4\" />\r\n                  <span className=\"hidden lg:inline\">Admin Dashboard</span>\r\n                  <span className=\"lg:hidden\">Admin</span>\r\n                </Link>\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"px-3 py-2\">\r\n          <h2 className=\"mb-2 px-4 text-lg font-semibold tracking-tight\">\r\n            Your Progress\r\n          </h2>\r\n          <div className=\"space-y-3 px-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Flame className=\"h-4 w-4 text-orange-500\" />\r\n                <span className=\"text-sm\">Streak</span>\r\n              </div>\r\n              <Badge variant=\"secondary\">{user?.streak || 0} days</Badge>\r\n            </div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Trophy className=\"h-4 w-4 text-yellow-500\" />\r\n                <span className=\"text-sm\">Points</span>\r\n              </div>\r\n              <Badge variant=\"secondary\">{user?.points?.toLocaleString() || 0}</Badge>\r\n            </div>\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <BookOpen className=\"h-4 w-4 text-blue-500\" />\r\n                <span className=\"text-sm\">Chapters Read</span>\r\n              </div>\r\n              <Badge variant=\"secondary\">0</Badge>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2165, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/layout/MobileBottomNav.tsx"],"sourcesContent":["'use client'\r\n\r\nimport React from 'react'\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport { cn } from '@/lib/utils'\r\nimport { \r\n  Home, \r\n  BookOpen, \r\n  Heart, \r\n  Calendar, \r\n  Users, \r\n  Trophy \r\n} from 'lucide-react'\r\n\r\nconst mobileNavigation = [\r\n  { name: 'Home', href: '/', icon: Home },\r\n  { name: 'Bible', href: '/bible', icon: BookOpen },\r\n  { name: 'Devotionals', href: '/devotionals', icon: Heart },\r\n  { name: 'Plans', href: '/plans', icon: Calendar },\r\n  { name: 'Community', href: '/community', icon: Users },\r\n  { name: 'Leaderboard', href: '/leaderboard', icon: Trophy },\r\n]\r\n\r\nexport function MobileBottomNav() {\r\n  const pathname = usePathname()\r\n\r\n  return (\r\n    <div className=\"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50\">\r\n      <div className=\"grid grid-cols-6 gap-1 py-2\">\r\n        {mobileNavigation.map((item) => {\r\n          const isActive = pathname === item.href\r\n          return (\r\n            <Link\r\n              key={item.href}\r\n              href={item.href}\r\n              className={cn(\r\n                'flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-colors',\r\n                isActive\r\n                  ? 'text-blue-600 bg-blue-50'\r\n                  : 'text-gray-600 hover:text-gray-900 hover:bg-gray-50'\r\n              )}\r\n            >\r\n              <item.icon className=\"h-4 w-4 mb-1\" />\r\n              <span className=\"text-xs font-medium truncate max-w-full\">\r\n                {item.name.split(' ')[0]}\r\n              </span>\r\n            </Link>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;;;;;;AAeA,MAAM,mBAAmB;IACvB;QAAE,MAAM;QAAQ,MAAM;QAAK,MAAM,2MAAI;IAAC;IACtC;QAAE,MAAM;QAAS,MAAM;QAAU,MAAM,0NAAQ;IAAC;IAChD;QAAE,MAAM;QAAe,MAAM;QAAgB,MAAM,6MAAK;IAAC;IACzD;QAAE,MAAM;QAAS,MAAM;QAAU,MAAM,sNAAQ;IAAC;IAChD;QAAE,MAAM;QAAa,MAAM;QAAc,MAAM,6MAAK;IAAC;IACrD;QAAE,MAAM;QAAe,MAAM;QAAgB,MAAM,gNAAM;IAAC;CAC3D;AAEM,SAAS;IACd,MAAM,WAAW,IAAA,iJAAW;IAE5B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACZ,iBAAiB,GAAG,CAAC,CAAC;gBACrB,MAAM,WAAW,aAAa,KAAK,IAAI;gBACvC,qBACE,8OAAC,uKAAI;oBAEH,MAAM,KAAK,IAAI;oBACf,WAAW,IAAA,yHAAE,EACX,oFACA,WACI,6BACA;;sCAGN,8OAAC,KAAK,IAAI;4BAAC,WAAU;;;;;;sCACrB,8OAAC;4BAAK,WAAU;sCACb,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;;;;;;;mBAXrB,KAAK,IAAI;;;;;YAepB;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 2266, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/contexts/ReferralContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { useAuth } from '@/contexts/SupabaseAuthContext';\r\n\r\ninterface ReferralData {\r\n  referralCode: string;\r\n  totalReferrals: number;\r\n  activeReferrals: number;\r\n  referralEarnings: number;\r\n  pendingEarnings: number;\r\n  referralRank: number;\r\n  referralBonus: number;\r\n  referredBy?: string;\r\n  referralHistory: ReferralHistory[];\r\n}\r\n\r\ninterface ReferralHistory {\r\n  id: string;\r\n  referredUserId: string;\r\n  referredUsername: string;\r\n  referralDate: Date;\r\n  status: 'pending' | 'active' | 'inactive';\r\n  earnings: number;\r\n  bonusEarned: boolean;\r\n}\r\n\r\ninterface ReferralContextType {\r\n  referralData: ReferralData | null;\r\n  loading: boolean;\r\n  generateReferralCode: () => string;\r\n  copyReferralLink: () => Promise<void>;\r\n  sendReferralInvite: (email: string) => Promise<{ success: boolean; error?: string }>;\r\n  validateReferralCode: (code: string) => Promise<boolean>;\r\n  claimReferralBonus: () => Promise<{ success: boolean; error?: string }>;\r\n  getReferralStats: () => ReferralData | null;\r\n}\r\n\r\nconst ReferralContext = createContext<ReferralContextType | undefined>(undefined);\r\n\r\nexport function useReferral() {\r\n  const context = useContext(ReferralContext);\r\n  if (context === undefined) {\r\n    // Return fallback data during build time\r\n    return {\r\n      referralData: null,\r\n      loading: false,\r\n      generateReferralCode: () => 'JOURNEY123',\r\n      copyReferralLink: async () => {},\r\n      sendReferralInvite: async () => ({ success: false }),\r\n      validateReferralCode: async () => false,\r\n      claimReferralBonus: async () => ({ success: false }),\r\n      getReferralStats: () => null,\r\n    };\r\n  }\r\n  return context;\r\n}\r\n\r\nexport function ReferralProvider({ children }: { children: React.ReactNode }) {\r\n  const { user: authUser } = useAuth();\r\n  const [referralData, setReferralData] = useState<ReferralData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (authUser) {\r\n      // Initialize referral data\r\n      const mockReferralData: ReferralData = {\r\n        referralCode: `JOURNEY${authUser.id.slice(-6).toUpperCase()}`,\r\n        totalReferrals: 12,\r\n        activeReferrals: 8,\r\n        referralEarnings: 2450,\r\n        pendingEarnings: 320,\r\n        referralRank: 15,\r\n        referralBonus: 500,\r\n        referralHistory: [\r\n          {\r\n            id: 'ref-1',\r\n            referredUserId: 'user-123',\r\n            referredUsername: 'John Doe',\r\n            referralDate: new Date('2024-01-15'),\r\n            status: 'active',\r\n            earnings: 450,\r\n            bonusEarned: true,\r\n          },\r\n          {\r\n            id: 'ref-2',\r\n            referredUserId: 'user-456',\r\n            referredUsername: 'Jane Smith',\r\n            referralDate: new Date('2024-02-20'),\r\n            status: 'active',\r\n            earnings: 320,\r\n            bonusEarned: true,\r\n          },\r\n          {\r\n            id: 'ref-3',\r\n            referredUserId: 'user-789',\r\n            referredUsername: 'Mike Johnson',\r\n            referralDate: new Date('2024-03-10'),\r\n            status: 'pending',\r\n            earnings: 0,\r\n            bonusEarned: false,\r\n          },\r\n        ],\r\n      };\r\n      \r\n      setReferralData(mockReferralData);\r\n    } else {\r\n      setReferralData(null);\r\n    }\r\n    \r\n    setLoading(false);\r\n  }, [authUser]);\r\n\r\n  const generateReferralCode = (): string => {\r\n    if (!authUser) return 'JOURNEY123';\r\n    return `JOURNEY${authUser.id.slice(-6).toUpperCase()}`;\r\n  };\r\n\r\n  const copyReferralLink = async (): Promise<void> => {\r\n    if (!referralData) return;\r\n    \r\n    const referralLink = `https://journey.app/referral/${referralData.referralCode}`;\r\n    \r\n    try {\r\n      await navigator.clipboard.writeText(referralLink);\r\n    } catch (error) {\r\n      console.error('Failed to copy referral link:', error);\r\n    }\r\n  };\r\n\r\n  const sendReferralInvite = async (email: string): Promise<{ success: boolean; error?: string }> => {\r\n    if (!referralData || !authUser) {\r\n      return { success: false, error: 'User not authenticated' };\r\n    }\r\n\r\n    try {\r\n      // In real app, this would send an email via your backend\r\n      console.log('Sending referral invite to:', email);\r\n      console.log('Referral code:', referralData.referralCode);\r\n      \r\n      // Mock success\r\n      return { success: true };\r\n    } catch (error) {\r\n      console.error('Failed to send referral invite:', error);\r\n      return { success: false, error: 'Failed to send invitation' };\r\n    }\r\n  };\r\n\r\n  const validateReferralCode = async (code: string): Promise<boolean> => {\r\n    try {\r\n      // In real app, this would validate against your backend\r\n      // Mock validation - check if code format is correct\r\n      const codeRegex = /^JOURNEY[A-Z0-9]{6}$/;\r\n      return codeRegex.test(code);\r\n    } catch (error) {\r\n      console.error('Failed to validate referral code:', error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const claimReferralBonus = async (): Promise<{ success: boolean; error?: string }> => {\r\n    if (!referralData || !authUser) {\r\n      return { success: false, error: 'User not authenticated' };\r\n    }\r\n\r\n    if (referralData.pendingEarnings === 0) {\r\n      return { success: false, error: 'No pending bonuses to claim' };\r\n    }\r\n\r\n    try {\r\n      // In real app, this would process the claim via your backend\r\n      console.log('Claiming referral bonus:', referralData.pendingEarnings);\r\n      \r\n      // Update local state\r\n      setReferralData(prev => prev ? {\r\n        ...prev,\r\n        referralEarnings: prev.referralEarnings + prev.pendingEarnings,\r\n        pendingEarnings: 0,\r\n      } : null);\r\n      \r\n      return { success: true };\r\n    } catch (error) {\r\n      console.error('Failed to claim referral bonus:', error);\r\n      return { success: false, error: 'Failed to claim bonus' };\r\n    }\r\n  };\r\n\r\n  const getReferralStats = (): ReferralData | null => {\r\n    return referralData;\r\n  };\r\n\r\n  const value = {\r\n    referralData,\r\n    loading,\r\n    generateReferralCode,\r\n    copyReferralLink,\r\n    sendReferralInvite,\r\n    validateReferralCode,\r\n    claimReferralBonus,\r\n    getReferralStats,\r\n  };\r\n\r\n  return <ReferralContext.Provider value={value}>{children}</ReferralContext.Provider>;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2460, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/layout/Layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { Header } from './Header';\r\nimport { Sidebar } from './Sidebar';\r\nimport { MobileBottomNav } from './MobileBottomNav';\r\nimport { AuthProvider } from '@/contexts/SupabaseAuthContext';\r\nimport { UserDataProvider } from '@/contexts/UserDataContext';\r\nimport { ReferralProvider } from '@/contexts/ReferralContext';\r\nimport { Menu, X } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\n\r\ninterface LayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function Layout({ children }: LayoutProps) {\r\n  const [sidebarOpen, setSidebarOpen] = useState(false);\r\n\r\n  return (\r\n    <AuthProvider>\r\n      <UserDataProvider>\r\n        <ReferralProvider>\r\n          <div className=\"min-h-screen bg-background\">\r\n            {/* Mobile Menu Button */}\r\n            <div className=\"lg:hidden fixed top-4 left-4 z-50\">\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => setSidebarOpen(!sidebarOpen)}\r\n                className=\"bg-white shadow-lg\"\r\n              >\r\n                {sidebarOpen ? <X className=\"h-4 w-4\" /> : <Menu className=\"h-4 w-4\" />}\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Mobile Sidebar Overlay */}\r\n            {sidebarOpen && (\r\n              <div \r\n                className=\"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40\"\r\n                onClick={() => setSidebarOpen(false)}\r\n              />\r\n            )}\r\n\r\n            <div className=\"flex\">\r\n              {/* Sidebar - Hidden on mobile, visible on desktop */}\r\n              <div className={`\r\n                fixed lg:relative lg:translate-x-0 \r\n                transform -translate-x-full transition-transform duration-300 ease-in-out\r\n                z-40 lg:z-0\r\n                ${sidebarOpen ? 'translate-x-0' : ''}\r\n              `}>\r\n                <Sidebar />\r\n              </div>\r\n\r\n              {/* Main Content */}\r\n              <div className=\"flex-1 flex flex-col lg:ml-0\">\r\n                <Header />\r\n                <main className=\"flex-1 p-4 sm:p-6 lg:p-8 pt-16 lg:pt-6 pb-20 lg:pb-8\">\r\n                  {children}\r\n                </main>\r\n              </div>\r\n            </div>\r\n            \r\n            {/* Mobile Bottom Navigation */}\r\n            <MobileBottomNav />\r\n          </div>\r\n        </ReferralProvider>\r\n      </UserDataProvider>\r\n    </AuthProvider>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAVA;;;;;;;;;;;AAgBO,SAAS,OAAO,EAAE,QAAQ,EAAe;IAC9C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,qBACE,8OAAC,uJAAY;kBACX,cAAA,8OAAC,uJAAgB;sBACf,cAAA,8OAAC,uJAAgB;0BACf,cAAA,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,4IAAM;gCACL,SAAQ;gCACR,MAAK;gCACL,SAAS,IAAM,eAAe,CAAC;gCAC/B,WAAU;0CAET,4BAAc,8OAAC,iMAAC;oCAAC,WAAU;;;;;yDAAe,8OAAC,0MAAI;oCAAC,WAAU;;;;;;;;;;;;;;;;wBAK9D,6BACC,8OAAC;4BACC,WAAU;4BACV,SAAS,IAAM,eAAe;;;;;;sCAIlC,8OAAC;4BAAI,WAAU;;8CAEb,8OAAC;oCAAI,WAAW,CAAC;;;;gBAIf,EAAE,cAAc,kBAAkB,GAAG;cACvC,CAAC;8CACC,cAAA,8OAAC,kJAAO;;;;;;;;;;8CAIV,8OAAC;oCAAI,WAAU;;sDACb,8OAAC,gJAAM;;;;;sDACP,8OAAC;4CAAK,WAAU;sDACb;;;;;;;;;;;;;;;;;;sCAMP,8OAAC,kKAAe;;;;;;;;;;;;;;;;;;;;;;;;;;AAM5B"}},
    {"offset": {"line": 2611, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface TextareaProps\r\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\r\n  ({ className, ...props }, ref) => {\r\n    return (\r\n      <textarea\r\n        className={cn(\r\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nTextarea.displayName = \"Textarea\"\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 2638, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/services/socialService.ts"],"sourcesContent":["import { supabaseService } from './supabaseService';\r\n\r\nexport interface SocialInteraction {\r\n  type: 'like' | 'comment' | 'share';\r\n  targetId: string;\r\n  targetType: 'post' | 'devotional' | 'prayer';\r\n  userId: string;\r\n}\r\n\r\nexport class SocialService {\r\n  private static instance: SocialService;\r\n\r\n  static getInstance(): SocialService {\r\n    if (!SocialService.instance) {\r\n      SocialService.instance = new SocialService();\r\n    }\r\n    return SocialService.instance;\r\n  }\r\n\r\n  // Like/Unlike functionality\r\n  async toggleLike(targetId: string, targetType: 'post' | 'devotional' | 'prayer', userId: string): Promise<{ liked: boolean; count: number }> {\r\n    try {\r\n      // Check if already liked\r\n      const { data: existingLike } = await supabaseService.getClient()\r\n        .from('likes')\r\n        .select('id')\r\n        .eq('user_id', userId)\r\n        .eq('target_id', targetId)\r\n        .eq('target_type', targetType)\r\n        .maybeSingle();\r\n\r\n      if (existingLike) {\r\n        // Remove like\r\n        await supabaseService.getClient()\r\n          .from('likes')\r\n          .delete()\r\n          .eq('user_id', userId)\r\n          .eq('target_id', targetId)\r\n          .eq('target_type', targetType);\r\n\r\n        // Update count\r\n        await this.updateCount(targetId, targetType, 'likes_count', -1);\r\n        \r\n        return { liked: false, count: await this.getCount(targetId, targetType, 'likes_count') };\r\n      } else {\r\n        // Add like\r\n        await supabaseService.getClient()\r\n          .from('likes')\r\n          .insert({\r\n            user_id: userId,\r\n            target_id: targetId,\r\n            target_type: targetType,\r\n          });\r\n\r\n        // Update count\r\n        await this.updateCount(targetId, targetType, 'likes_count', 1);\r\n        \r\n        return { liked: true, count: await this.getCount(targetId, targetType, 'likes_count') };\r\n      }\r\n    } catch (error) {\r\n      console.error('Error toggling like:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Check if user liked something\r\n  async hasUserLiked(targetId: string, targetType: 'post' | 'devotional' | 'prayer', userId: string): Promise<boolean> {\r\n    try {\r\n      const { data } = await supabaseService.getClient()\r\n        .from('likes')\r\n        .select('id')\r\n        .eq('user_id', userId)\r\n        .eq('target_id', targetId)\r\n        .eq('target_type', targetType)\r\n        .maybeSingle();\r\n\r\n      return !!data;\r\n    } catch (error) {\r\n      console.error('Error checking like status:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Add comment\r\n  async addComment(targetId: string, targetType: 'post' | 'devotional' | 'prayer', userId: string, content: string): Promise<any> {\r\n    try {\r\n      const { data, error } = await supabaseService.getClient()\r\n        .from('comments')\r\n        .insert({\r\n          user_id: userId,\r\n          target_id: targetId,\r\n          target_type: targetType,\r\n          content: content.trim(),\r\n        })\r\n        .select(`\r\n          *,\r\n          user:users(id, username, full_name, avatar_url)\r\n        `)\r\n        .single();\r\n\r\n      if (error) throw error;\r\n\r\n      // Update count\r\n      await this.updateCount(targetId, targetType, 'comments_count', 1);\r\n\r\n      return data;\r\n    } catch (error) {\r\n      console.error('Error adding comment:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Get comments\r\n  async getComments(targetId: string, targetType: 'post' | 'devotional' | 'prayer'): Promise<any[]> {\r\n    try {\r\n      const { data, error } = await supabaseService.getClient()\r\n        .from('comments')\r\n        .select(`\r\n          *,\r\n          user:users(id, username, full_name, avatar_url)\r\n        `)\r\n        .eq('target_id', targetId)\r\n        .eq('target_type', targetType)\r\n        .order('created_at', { ascending: true });\r\n\r\n      if (error) throw error;\r\n      return data || [];\r\n    } catch (error) {\r\n      console.error('Error fetching comments:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  // Share functionality\r\n  async share(targetId: string, targetType: 'post' | 'devotional' | 'prayer', userId: string): Promise<{ count: number }> {\r\n    try {\r\n      // Record share\r\n      await supabaseService.getClient()\r\n        .from('shares')\r\n        .insert({\r\n          user_id: userId,\r\n          target_id: targetId,\r\n          target_type: targetType,\r\n        });\r\n\r\n      // Update count\r\n      await this.updateCount(targetId, targetType, 'shares_count', 1);\r\n      \r\n      return { count: await this.getCount(targetId, targetType, 'shares_count') };\r\n    } catch (error) {\r\n      console.error('Error recording share:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Get current count\r\n  private async getCount(targetId: string, targetType: 'post' | 'devotional' | 'prayer', countField: string): Promise<number> {\r\n    try {\r\n      let tableName = '';\r\n      switch (targetType) {\r\n        case 'post':\r\n          tableName = 'community_posts';\r\n          break;\r\n        case 'devotional':\r\n          tableName = 'devotionals';\r\n          break;\r\n        case 'prayer':\r\n          tableName = 'prayer_requests';\r\n          break;\r\n        default:\r\n          return 0;\r\n      }\r\n\r\n      const { data } = await supabaseService.getClient()\r\n        .from(tableName)\r\n        .select(countField)\r\n        .eq('id', targetId)\r\n        .single();\r\n\r\n      return (data as any)?.[countField] || 0;\r\n    } catch (error) {\r\n      console.error('Error getting count:', error);\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  // Update count in target table\r\n  private async updateCount(targetId: string, targetType: 'post' | 'devotional' | 'prayer', countField: string, increment: number): Promise<void> {\r\n    try {\r\n      let tableName = '';\r\n      switch (targetType) {\r\n        case 'post':\r\n          tableName = 'community_posts';\r\n          break;\r\n        case 'devotional':\r\n          tableName = 'devotionals';\r\n          break;\r\n        case 'prayer':\r\n          tableName = 'prayer_requests';\r\n          break;\r\n        default:\r\n          return;\r\n      }\r\n\r\n      // Use RPC to safely increment the count\r\n      const { error } = await supabaseService.getClient()\r\n        .rpc('increment_count', {\r\n          table_name: tableName,\r\n          record_id: targetId,\r\n          column_name: countField,\r\n          increment_value: increment\r\n        });\r\n\r\n      if (error) {\r\n        // Fallback: fetch current count and update\r\n        const { data: current } = await supabaseService.getClient()\r\n          .from(tableName)\r\n          .select(countField)\r\n          .eq('id', targetId)\r\n          .single();\r\n\r\n        if (current) {\r\n          const newCount = Math.max(0, ((current as any)[countField] || 0) + increment);\r\n          await supabaseService.getClient()\r\n            .from(tableName)\r\n            .update({ [countField]: newCount })\r\n            .eq('id', targetId);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error updating count:', error);\r\n    }\r\n  }\r\n\r\n  // Get user's social activity\r\n  async getUserSocialActivity(userId: string): Promise<{ likes: any[]; comments: any[]; shares: any[] }> {\r\n    try {\r\n      const [likes, comments, shares] = await Promise.all([\r\n        supabaseService.getClient()\r\n          .from('likes')\r\n          .select(`\r\n            *,\r\n            target:community_posts(id, content, created_at)\r\n          `)\r\n          .eq('user_id', userId)\r\n          .order('created_at', { ascending: false })\r\n          .limit(10),\r\n        \r\n        supabaseService.getClient()\r\n          .from('comments')\r\n          .select(`\r\n            *,\r\n            target:community_posts(id, content, created_at)\r\n          `)\r\n          .eq('user_id', userId)\r\n          .order('created_at', { ascending: false })\r\n          .limit(10),\r\n\r\n        supabaseService.getClient()\r\n          .from('shares')\r\n          .select(`\r\n            *,\r\n            target:community_posts(id, content, created_at)\r\n          `)\r\n          .eq('user_id', userId)\r\n          .order('created_at', { ascending: false })\r\n          .limit(10),\r\n      ]);\r\n\r\n      return {\r\n        likes: likes.data || [],\r\n        comments: comments.data || [],\r\n        shares: shares.data || [],\r\n      };\r\n    } catch (error) {\r\n      console.error('Error fetching user social activity:', error);\r\n      return { likes: [], comments: [], shares: [] };\r\n    }\r\n  }\r\n}\r\n\r\nexport const socialService = SocialService.getInstance();\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2858, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/features/SocialInteraction.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Heart, MessageCircle, Share2, Send } from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\nimport { Avatar, AvatarImage, AvatarFallback } from '@/components/ui/avatar';\r\nimport { useAuth } from '@/contexts/SupabaseAuthContext';\r\nimport { socialService } from '@/services/socialService';\r\nimport { formatTimeAgo } from '@/lib/utils';\r\n\r\ninterface SocialInteractionProps {\r\n  targetId: string;\r\n  targetType: 'post' | 'devotional' | 'prayer';\r\n  initialLikes?: number;\r\n  initialComments?: number;\r\n  initialShares?: number;\r\n  showComments?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport function SocialInteraction({\r\n  targetId,\r\n  targetType,\r\n  initialLikes = 0,\r\n  initialComments = 0,\r\n  initialShares = 0,\r\n  showComments = true,\r\n  className = ''\r\n}: SocialInteractionProps) {\r\n  const { user: authUser } = useAuth();\r\n  const [mounted, setMounted] = useState(false);\r\n  const [likes, setLikes] = useState(initialLikes);\r\n  const [comments, setComments] = useState(initialComments);\r\n  const [shares, setShares] = useState(initialShares);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n  const [isLiking, setIsLiking] = useState(false);\r\n  const [isSharing, setIsSharing] = useState(false);\r\n  const [commentsList, setCommentsList] = useState<any[]>([]);\r\n  const [showCommentsSection, setShowCommentsSection] = useState(false);\r\n  const [newComment, setNewComment] = useState('');\r\n  const [isSubmittingComment, setIsSubmittingComment] = useState(false);\r\n\r\n  // Prevent hydration mismatch\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  // Check if user liked this content\r\n  useEffect(() => {\r\n    if (authUser && mounted) {\r\n      socialService.hasUserLiked(targetId, targetType, authUser.id).then(setIsLiked);\r\n    }\r\n  }, [targetId, targetType, authUser, mounted]);\r\n\r\n  // Load comments when section is opened\r\n  useEffect(() => {\r\n    if (showCommentsSection && showComments && mounted) {\r\n      loadComments();\r\n    }\r\n  }, [showCommentsSection, targetId, targetType, showComments, mounted]);\r\n\r\n  const loadComments = async () => {\r\n    try {\r\n      const commentsData = await socialService.getComments(targetId, targetType);\r\n      setCommentsList(commentsData);\r\n      setComments(commentsData.length);\r\n    } catch (error) {\r\n      console.error('Error loading comments:', error);\r\n    }\r\n  };\r\n\r\n  const handleLike = async () => {\r\n    if (!authUser || isLiking || !mounted) return;\r\n\r\n    setIsLiking(true);\r\n    \r\n    // Optimistic update - update UI immediately\r\n    const newLikedState = !isLiked;\r\n    const newCount = newLikedState ? likes + 1 : Math.max(0, likes - 1);\r\n    setIsLiked(newLikedState);\r\n    setLikes(newCount);\r\n\r\n    try {\r\n      const result = await socialService.toggleLike(targetId, targetType, authUser.id);\r\n      // Sync with actual database result\r\n      setLikes(result.count);\r\n      setIsLiked(result.liked);\r\n    } catch (error) {\r\n      // Revert on error\r\n      console.error('Error toggling like:', error);\r\n      setIsLiked(!newLikedState);\r\n      setLikes(likes);\r\n    } finally {\r\n      setIsLiking(false);\r\n    }\r\n  };\r\n\r\n  const handleShare = async () => {\r\n    if (!authUser || isSharing || !mounted) return;\r\n\r\n    setIsSharing(true);\r\n    try {\r\n      const result = await socialService.share(targetId, targetType, authUser.id);\r\n      setShares(result.count);\r\n      \r\n      // You could implement native share functionality here\r\n      if (navigator.share) {\r\n        await navigator.share({\r\n          title: `Check out this ${targetType}`,\r\n          text: `Found this amazing ${targetType} on Journey!`,\r\n          url: window.location.href,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error sharing:', error);\r\n    } finally {\r\n      setIsSharing(false);\r\n    }\r\n  };\r\n\r\n  const handleComment = async () => {\r\n    if (!authUser || !newComment.trim() || isSubmittingComment || !mounted) return;\r\n\r\n    setIsSubmittingComment(true);\r\n    try {\r\n      const comment = await socialService.addComment(targetId, targetType, authUser.id, newComment);\r\n      setCommentsList([comment, ...commentsList]);\r\n      setComments(prev => prev + 1);\r\n      setNewComment('');\r\n    } catch (error) {\r\n      console.error('Error adding comment:', error);\r\n    } finally {\r\n      setIsSubmittingComment(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`space-y-4 ${className}`}>\r\n      {/* Interaction Buttons */}\r\n      <div className=\"flex items-center justify-between pt-4 border-t\">\r\n        <div className=\"flex items-center space-x-4\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            className={`text-muted-foreground hover:text-red-500 transition-colors ${\r\n              isLiked ? 'text-red-500' : ''\r\n            }`}\r\n            onClick={handleLike}\r\n            disabled={!authUser || isLiking}\r\n          >\r\n            <Heart className={`h-4 w-4 mr-1 ${isLiked ? 'fill-current' : ''}`} />\r\n            {likes}\r\n          </Button>\r\n          \r\n          {showComments && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              className=\"text-muted-foreground hover:text-blue-500 transition-colors\"\r\n              onClick={() => setShowCommentsSection(!showCommentsSection)}\r\n            >\r\n              <MessageCircle className=\"h-4 w-4 mr-1\" />\r\n              {comments}\r\n            </Button>\r\n          )}\r\n          \r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            className=\"text-muted-foreground hover:text-green-500 transition-colors\"\r\n            onClick={handleShare}\r\n            disabled={!authUser || isSharing}\r\n          >\r\n            <Share2 className=\"h-4 w-4 mr-1\" />\r\n            {shares}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Comments Section */}\r\n      {showComments && showCommentsSection && (\r\n        <div className=\"space-y-4 border-t pt-4\">\r\n          {/* Add Comment */}\r\n          {authUser && (\r\n            <div className=\"flex space-x-3\">\r\n              <Avatar className=\"h-8 w-8\">\r\n                <AvatarImage src={authUser.user_metadata?.avatar_url} />\r\n                <AvatarFallback>{authUser.email?.charAt(0)}</AvatarFallback>\r\n              </Avatar>\r\n              <div className=\"flex-1 space-y-2\">\r\n                <Textarea\r\n                  placeholder=\"Share your thoughts...\"\r\n                  value={newComment}\r\n                  onChange={(e) => setNewComment(e.target.value)}\r\n                  className=\"min-h-[60px] resize-none\"\r\n                />\r\n                <div className=\"flex justify-end\">\r\n                  <Button\r\n                    size=\"sm\"\r\n                    onClick={handleComment}\r\n                    disabled={!newComment.trim() || isSubmittingComment}\r\n                  >\r\n                    <Send className=\"h-4 w-4 mr-1\" />\r\n                    {isSubmittingComment ? 'Posting...' : 'Post'}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Comments List */}\r\n          <div className=\"space-y-3\">\r\n            {commentsList.length === 0 ? (\r\n              <div className=\"text-center py-4 text-muted-foreground\">\r\n                No comments yet. Be the first to share your thoughts!\r\n              </div>\r\n            ) : (\r\n              commentsList.map((comment) => (\r\n                <div key={comment.id} className=\"flex space-x-3\">\r\n                  <Avatar className=\"h-8 w-8\">\r\n                    <AvatarImage src={comment.user?.avatar_url} />\r\n                    <AvatarFallback>\r\n                      {comment.user?.full_name?.charAt(0) || comment.user?.username?.charAt(0) || 'U'}\r\n                    </AvatarFallback>\r\n                  </Avatar>\r\n                  <div className=\"flex-1 space-y-1\">\r\n                    <div className=\"flex items-center space-x-2\">\r\n                      <span className=\"font-medium text-sm\">\r\n                        {comment.user?.full_name || comment.user?.username || 'Anonymous'}\r\n                      </span>\r\n                      <span className=\"text-xs text-muted-foreground\">\r\n                        {formatTimeAgo(new Date(comment.created_at))}\r\n                      </span>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-700\">{comment.content}</p>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3257, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/features/CommunityPost.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Avatar, AvatarImage, AvatarFallback } from '@/components/ui/avatar';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { MoreHorizontal } from 'lucide-react';\r\nimport { formatTimeAgo } from '@/lib/utils';\r\nimport { SocialInteraction } from './SocialInteraction';\r\n\r\ninterface CommunityPostProps {\r\n  post: any;\r\n  authorName: string;\r\n  authorAvatar?: string;\r\n}\r\n\r\nexport function CommunityPost({ post, authorName, authorAvatar }: CommunityPostProps) {\r\n  return (\r\n    <Card className=\"w-full\">\r\n      <CardContent className=\"p-6\">\r\n        <div className=\"flex items-start justify-between mb-4\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <Avatar className=\"h-10 w-10\">\r\n              <AvatarImage src={authorAvatar} />\r\n              <AvatarFallback>{authorName.charAt(0)}</AvatarFallback>\r\n            </Avatar>\r\n            <div>\r\n              <div className=\"font-medium\">{authorName}</div>\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                {post.created_at ? formatTimeAgo(new Date(post.created_at)) : 'Just now'}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Button variant=\"ghost\" size=\"icon\">\r\n            <MoreHorizontal className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n        \r\n        <div className=\"space-y-3\">\r\n          <p className=\"text-sm leading-relaxed\">{post.content}</p>\r\n          \r\n          {post.verse_reference && post.verse_text && (\r\n            <div className=\"bg-muted/50 p-3 rounded-lg border-l-4 border-primary\">\r\n              <p className=\"text-sm italic text-muted-foreground\">\r\n                \"{post.verse_text}\" - {post.verse_reference}\r\n              </p>\r\n            </div>\r\n          )}\r\n          \r\n          {post.tags && post.tags.length > 0 && (\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {post.tags.map((tag: string, index: number) => (\r\n                <Badge key={index} variant=\"secondary\" className=\"text-xs\">\r\n                  #{tag}\r\n                </Badge>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <SocialInteraction\r\n          targetId={post.id}\r\n          targetType=\"post\"\r\n          initialLikes={post.likes_count || 0}\r\n          initialComments={post.comments_count || 0}\r\n          initialShares={post.shares_count || 0}\r\n          showComments={true}\r\n        />\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;AAiBO,SAAS,cAAc,EAAE,IAAI,EAAE,UAAU,EAAE,YAAY,EAAsB;IAClF,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC,+IAAW;YAAC,WAAU;;8BACrB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,4IAAM;oCAAC,WAAU;;sDAChB,8OAAC,iJAAW;4CAAC,KAAK;;;;;;sDAClB,8OAAC,oJAAc;sDAAE,WAAW,MAAM,CAAC;;;;;;;;;;;;8CAErC,8OAAC;;sDACC,8OAAC;4CAAI,WAAU;sDAAe;;;;;;sDAC9B,8OAAC;4CAAI,WAAU;sDACZ,KAAK,UAAU,GAAG,IAAA,oIAAa,EAAC,IAAI,KAAK,KAAK,UAAU,KAAK;;;;;;;;;;;;;;;;;;sCAIpE,8OAAC,4IAAM;4BAAC,SAAQ;4BAAQ,MAAK;sCAC3B,cAAA,8OAAC,kOAAc;gCAAC,WAAU;;;;;;;;;;;;;;;;;8BAI9B,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAE,WAAU;sCAA2B,KAAK,OAAO;;;;;;wBAEnD,KAAK,eAAe,IAAI,KAAK,UAAU,kBACtC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;;oCAAuC;oCAChD,KAAK,UAAU;oCAAC;oCAAK,KAAK,eAAe;;;;;;;;;;;;wBAKhD,KAAK,IAAI,IAAI,KAAK,IAAI,CAAC,MAAM,GAAG,mBAC/B,8OAAC;4BAAI,WAAU;sCACZ,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,KAAa,sBAC3B,8OAAC,0IAAK;oCAAa,SAAQ;oCAAY,WAAU;;wCAAU;wCACvD;;mCADQ;;;;;;;;;;;;;;;;8BAQpB,8OAAC,wKAAiB;oBAChB,UAAU,KAAK,EAAE;oBACjB,YAAW;oBACX,cAAc,KAAK,WAAW,IAAI;oBAClC,iBAAiB,KAAK,cAAc,IAAI;oBACxC,eAAe,KAAK,YAAY,IAAI;oBACpC,cAAc;;;;;;;;;;;;;;;;;AAKxB"}},
    {"offset": {"line": 3448, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nexport interface InputProps\r\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yHAAE,EACX,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 3476, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/auth/AuthGuard.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport { useAuth } from '@/contexts/SupabaseAuthContext';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport Link from 'next/link';\r\nimport { LogIn, Heart, MessageCircle, UserPlus, PenTool, Sparkles } from 'lucide-react';\r\n\r\ninterface AuthGuardProps {\r\n  children: React.ReactNode;\r\n  action: 'post' | 'comment' | 'like' | 'friend' | 'devotional' | 'ai-tools';\r\n  fallback?: React.ReactNode;\r\n}\r\n\r\nexport function AuthGuard({ children, action, fallback }: AuthGuardProps) {\r\n  const { user } = useAuth();\r\n\r\n  if (user) {\r\n    return <>{children}</>;\r\n  }\r\n\r\n  if (fallback) {\r\n    return <>{fallback}</>;\r\n  }\r\n\r\n  const actionMessages = {\r\n    post: {\r\n      title: 'Sign in to Post',\r\n      description: 'Join our community to share your thoughts and devotionals',\r\n      icon: PenTool,\r\n    },\r\n    comment: {\r\n      title: 'Sign in to Comment',\r\n      description: 'Share your thoughts and engage with the community',\r\n      icon: MessageCircle,\r\n    },\r\n    like: {\r\n      title: 'Sign in to Like',\r\n      description: 'Show appreciation for posts that inspire you',\r\n      icon: Heart,\r\n    },\r\n    friend: {\r\n      title: 'Sign in to Add Friends',\r\n      description: 'Connect with others on their spiritual journey',\r\n      icon: UserPlus,\r\n    },\r\n    devotional: {\r\n      title: 'Sign in to Create Devotionals',\r\n      description: 'Share your insights and inspire others',\r\n      icon: PenTool,\r\n    },\r\n    'ai-tools': {\r\n      title: 'Sign in to Use AI Tools',\r\n      description: 'Generate personalized reading plans, devotionals, and Bible studies with AI',\r\n      icon: Sparkles,\r\n    },\r\n  };\r\n\r\n  const message = actionMessages[action];\r\n  const Icon = message.icon;\r\n\r\n  return (\r\n    <Card className=\"border-dashed border-muted-foreground/30 bg-muted/30\">\r\n      <CardContent className=\"p-6 text-center\">\r\n        <div className=\"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4\">\r\n          <Icon className=\"h-6 w-6 text-primary\" />\r\n        </div>\r\n        <CardTitle className=\"text-lg mb-2\">{message.title}</CardTitle>\r\n        <CardDescription className=\"mb-4\">\r\n          {message.description}\r\n        </CardDescription>\r\n        <Link href=\"/auth\">\r\n          <Button className=\"w-full\">\r\n            <LogIn className=\"mr-2 h-4 w-4\" />\r\n            Sign In to Continue\r\n          </Button>\r\n        </Link>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// Hook for checking authentication status\r\nexport function useRequireAuth() {\r\n  const { user, loading } = useAuth();\r\n  \r\n  return {\r\n    isAuthenticated: !!user,\r\n    isLoading: loading,\r\n    user,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;;;;;;;AAeO,SAAS,UAAU,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAkB;IACtE,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,kJAAO;IAExB,IAAI,MAAM;QACR,qBAAO;sBAAG;;IACZ;IAEA,IAAI,UAAU;QACZ,qBAAO;sBAAG;;IACZ;IAEA,MAAM,iBAAiB;QACrB,MAAM;YACJ,OAAO;YACP,aAAa;YACb,MAAM,uNAAO;QACf;QACA,SAAS;YACP,OAAO;YACP,aAAa;YACb,MAAM,yOAAa;QACrB;QACA,MAAM;YACJ,OAAO;YACP,aAAa;YACb,MAAM,6MAAK;QACb;QACA,QAAQ;YACN,OAAO;YACP,aAAa;YACb,MAAM,0NAAQ;QAChB;QACA,YAAY;YACV,OAAO;YACP,aAAa;YACb,MAAM,uNAAO;QACf;QACA,YAAY;YACV,OAAO;YACP,aAAa;YACb,MAAM,sNAAQ;QAChB;IACF;IAEA,MAAM,UAAU,cAAc,CAAC,OAAO;IACtC,MAAM,OAAO,QAAQ,IAAI;IAEzB,qBACE,8OAAC,wIAAI;QAAC,WAAU;kBACd,cAAA,8OAAC,+IAAW;YAAC,WAAU;;8BACrB,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAK,WAAU;;;;;;;;;;;8BAElB,8OAAC,6IAAS;oBAAC,WAAU;8BAAgB,QAAQ,KAAK;;;;;;8BAClD,8OAAC,mJAAe;oBAAC,WAAU;8BACxB,QAAQ,WAAW;;;;;;8BAEtB,8OAAC,uKAAI;oBAAC,MAAK;8BACT,cAAA,8OAAC,4IAAM;wBAAC,WAAU;;0CAChB,8OAAC,iNAAK;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;;;;;;;;;;;;AAO9C;AAGO,SAAS;IACd,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,kJAAO;IAEjC,OAAO;QACL,iBAAiB,CAAC,CAAC;QACnB,WAAW;QACX;IACF;AACF"}},
    {"offset": {"line": 3629, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/features/FriendsList.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport { AuthGuard } from '@/components/auth/AuthGuard';\r\nimport { Users, UserPlus, Search, MessageCircle, Trophy, Flame } from 'lucide-react';\r\nimport { useAuth } from '@/contexts/SupabaseAuthContext';\r\nimport { supabaseService } from '@/services/supabaseService';\r\n\r\ninterface Friend {\r\n  id: string;\r\n  username: string;\r\n  avatar?: string;\r\n  points: number;\r\n  level: number;\r\n  streak: number;\r\n  status: 'online' | 'offline' | 'reading';\r\n  lastSeen?: Date;\r\n  mutualFriends: number;\r\n}\r\n\r\nexport function FriendsList() {\r\n  const { user: authUser } = useAuth();\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showOnlineOnly, setShowOnlineOnly] = useState(false);\r\n  const [activeTab, setActiveTab] = useState<'all' | 'online' | 'requests'>('all');\r\n  const [friends, setFriends] = useState<any[]>([]);\r\n  const [friendRequests, setFriendRequests] = useState<any[]>([]);\r\n  const [searchResults, setSearchResults] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // Fetch friends and requests\r\n  const fetchFriends = async () => {\r\n    if (!authUser) return;\r\n    \r\n    try {\r\n      // Fetch accepted friends\r\n      const { data: friendsData } = await supabaseService.getClient()\r\n        .from('friends')\r\n        .select(`\r\n          *,\r\n          friend:users(id, username, full_name, avatar_url, points, level, streak)\r\n        `)\r\n        .or(`user_id.eq.${authUser.id},friend_id.eq.${authUser.id}`)\r\n        .eq('status', 'accepted');\r\n\r\n      // Fetch friend requests\r\n      const { data: requestsData } = await supabaseService.getClient()\r\n        .from('friends')\r\n        .select(`\r\n          *,\r\n          user:users(id, username, full_name, avatar_url, points, level, streak)\r\n        `)\r\n        .eq('friend_id', authUser.id)\r\n        .eq('status', 'pending');\r\n\r\n      setFriends(friendsData || []);\r\n      setFriendRequests(requestsData || []);\r\n    } catch (error) {\r\n      console.error('Error fetching friends:', error);\r\n    }\r\n  };\r\n\r\n  // Search for users\r\n  const searchUsers = async (query: string) => {\r\n    if (!query.trim() || !authUser) {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const { data } = await supabaseService.getClient()\r\n        .from('users')\r\n        .select('id, username, full_name, avatar_url, points, level, streak')\r\n        .ilike('username', `%${query}%`)\r\n        .neq('id', authUser.id)\r\n        .limit(10);\r\n\r\n      setSearchResults(data || []);\r\n    } catch (error) {\r\n      console.error('Error searching users:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Send friend request\r\n  const sendFriendRequest = async (friendId: string) => {\r\n    if (!authUser) return;\r\n\r\n    try {\r\n      const { error } = await supabaseService.getClient()\r\n        .from('friends')\r\n        .insert({\r\n          user_id: authUser.id,\r\n          friend_id: friendId,\r\n          status: 'pending',\r\n        });\r\n\r\n      if (error) throw error;\r\n\r\n      // Remove from search results\r\n      setSearchResults(prev => prev.filter(user => user.id !== friendId));\r\n    } catch (error) {\r\n      console.error('Error sending friend request:', error);\r\n    }\r\n  };\r\n\r\n  // Accept friend request\r\n  const acceptFriendRequest = async (requestId: string) => {\r\n    try {\r\n      const { error } = await supabaseService.getClient()\r\n        .from('friends')\r\n        .update({ status: 'accepted' })\r\n        .eq('id', requestId);\r\n\r\n      if (error) throw error;\r\n\r\n      // Refresh friends list\r\n      fetchFriends();\r\n    } catch (error) {\r\n      console.error('Error accepting friend request:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (authUser) {\r\n      fetchFriends();\r\n    }\r\n  }, [authUser]);\r\n\r\n  useEffect(() => {\r\n    const timeoutId = setTimeout(() => {\r\n      searchUsers(searchTerm);\r\n    }, 300);\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [searchTerm]);\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'online': return 'bg-green-500';\r\n      case 'reading': return 'bg-blue-500';\r\n      case 'offline': return 'bg-gray-400';\r\n      default: return 'bg-gray-400';\r\n    }\r\n  };\r\n\r\n  const getStatusText = (status: string, lastSeen?: Date) => {\r\n    switch (status) {\r\n      case 'online': return 'Online';\r\n      case 'reading': return 'Reading Bible';\r\n      case 'offline': return lastSeen ? `Last seen ${formatTimeAgo(lastSeen)}` : 'Offline';\r\n      default: return 'Offline';\r\n    }\r\n  };\r\n\r\n  const formatTimeAgo = (date: Date) => {\r\n    const now = new Date();\r\n    const diffInHours = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60));\r\n    \r\n    if (diffInHours < 1) return 'just now';\r\n    if (diffInHours < 24) return `${diffInHours}h ago`;\r\n    if (diffInHours < 48) return 'yesterday';\r\n    return `${Math.floor(diffInHours / 24)}d ago`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\r\n        <div>\r\n          <h2 className=\"text-2xl font-bold\">Friends</h2>\r\n          <p className=\"text-muted-foreground\">\r\n            Connect with fellow believers on their spiritual journey\r\n          </p>\r\n        </div>\r\n        <AuthGuard action=\"friend\">\r\n          <Button>\r\n            <UserPlus className=\"mr-2 h-4 w-4\" />\r\n            Find Friends\r\n          </Button>\r\n        </AuthGuard>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n        <Card>\r\n          <CardContent className=\"p-4 text-center\">\r\n            <div className=\"text-2xl font-bold text-blue-500\">{friends.length}</div>\r\n            <div className=\"text-sm text-muted-foreground\">Total Friends</div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardContent className=\"p-4 text-center\">\r\n            <div className=\"text-2xl font-bold text-green-500\">{friendRequests.length}</div>\r\n            <div className=\"text-sm text-muted-foreground\">Friend Requests</div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardContent className=\"p-4 text-center\">\r\n            <div className=\"text-2xl font-bold text-purple-500\">0</div>\r\n            <div className=\"text-sm text-muted-foreground\">Online Now</div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Search Section */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Find Friends</CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n            <Input\r\n              placeholder=\"Search for users by username...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"pl-10\"\r\n            />\r\n          </div>\r\n          \r\n          {loading && (\r\n            <div className=\"text-center py-4\">\r\n              <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto\"></div>\r\n            </div>\r\n          )}\r\n          \r\n          {searchResults.length > 0 && (\r\n            <div className=\"space-y-2\">\r\n              <h4 className=\"font-medium\">Search Results</h4>\r\n              {searchResults.map((user) => (\r\n                <div key={user.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <Avatar className=\"h-8 w-8\">\r\n                      <AvatarImage src={user.avatar_url} />\r\n                      <AvatarFallback>{user.username?.charAt(0) || 'U'}</AvatarFallback>\r\n                    </Avatar>\r\n                    <div>\r\n                      <div className=\"font-medium\">{user.full_name || user.username}</div>\r\n                      <div className=\"text-sm text-muted-foreground\">Level {user.level}  {user.points} points</div>\r\n                    </div>\r\n                  </div>\r\n                  <Button size=\"sm\" onClick={() => sendFriendRequest(user.id)}>\r\n                    <UserPlus className=\"h-4 w-4 mr-1\" />\r\n                    Add Friend\r\n                  </Button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Friend Requests */}\r\n      {friendRequests.length > 0 && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Friend Requests</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            {friendRequests.map((request) => (\r\n              <div key={request.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <Avatar className=\"h-8 w-8\">\r\n                    <AvatarImage src={request.user?.avatar_url} />\r\n                    <AvatarFallback>{request.user?.username?.charAt(0) || 'U'}</AvatarFallback>\r\n                  </Avatar>\r\n                  <div>\r\n                    <div className=\"font-medium\">{request.user?.full_name || request.user?.username}</div>\r\n                    <div className=\"text-sm text-muted-foreground\">Level {request.user?.level}  {request.user?.points} points</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                  <Button size=\"sm\" onClick={() => acceptFriendRequest(request.id)}>\r\n                    Accept\r\n                  </Button>\r\n                  <Button size=\"sm\" variant=\"outline\">\r\n                    Decline\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Friends List */}\r\n      {friends.length > 0 && (\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Your Friends</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-2\">\r\n            {friends.map((friend) => {\r\n              const friendData = friend.user || friend.friend;\r\n              return (\r\n                <div key={friend.id} className=\"flex items-center justify-between p-3 border rounded-lg\">\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <Avatar className=\"h-8 w-8\">\r\n                      <AvatarImage src={friendData?.avatar_url} />\r\n                      <AvatarFallback>{friendData?.username?.charAt(0) || 'U'}</AvatarFallback>\r\n                    </Avatar>\r\n                    <div>\r\n                      <div className=\"font-medium\">{friendData?.full_name || friendData?.username}</div>\r\n                      <div className=\"text-sm text-muted-foreground\">Level {friendData?.level}  {friendData?.points} points</div>\r\n                    </div>\r\n                  </div>\r\n                  <Button size=\"sm\" variant=\"outline\">\r\n                    <MessageCircle className=\"h-4 w-4 mr-1\" />\r\n                    Message\r\n                  </Button>\r\n                </div>\r\n              );\r\n            })}\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n\r\n      {friends.length === 0 && friendRequests.length === 0 && searchResults.length === 0 && (\r\n        <Card>\r\n          <CardContent className=\"text-center py-12\">\r\n            <Users className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\r\n            <h3 className=\"text-lg font-semibold mb-2\">No friends yet</h3>\r\n            <p className=\"text-muted-foreground\">\r\n              Start searching for users above to build your spiritual community!\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4410, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/features/ChatInterface.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Send, Phone, Video, MoreVertical, Search, Smile, Paperclip } from 'lucide-react';\r\n\r\ninterface Message {\r\n  id: string;\r\n  senderId: string;\r\n  senderName: string;\r\n  senderAvatar?: string;\r\n  content: string;\r\n  timestamp: Date;\r\n  isOwn: boolean;\r\n}\r\n\r\ninterface Chat {\r\n  id: string;\r\n  participantId: string;\r\n  participantName: string;\r\n  participantAvatar?: string;\r\n  lastMessage: string;\r\n  lastMessageTime: Date;\r\n  unreadCount: number;\r\n  isOnline: boolean;\r\n}\r\n\r\nexport function ChatInterface() {\r\n  const [selectedChat, setSelectedChat] = useState<string | null>(null);\r\n  const [message, setMessage] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Real chat data - empty since only one user\r\n  const mockChats: Chat[] = [];\r\n\r\n  const mockMessages: Message[] = [];\r\n\r\n  const filteredChats = mockChats.filter(chat =>\r\n    chat.participantName.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const currentChat = mockChats.find(chat => chat.id === selectedChat);\r\n  const currentMessages = selectedChat ? mockMessages : [];\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [currentMessages]);\r\n\r\n  const formatTime = (date: Date) => {\r\n    const now = new Date();\r\n    const diffInHours = Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60));\r\n    \r\n    if (diffInHours < 1) return 'just now';\r\n    if (diffInHours < 24) return `${diffInHours}h ago`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  const sendMessage = () => {\r\n    if (message.trim()) {\r\n      // In real app, this would send to API\r\n      console.log('Sending message:', message);\r\n      setMessage('');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-[600px] border rounded-lg overflow-hidden\">\r\n      {/* Chat List */}\r\n      <div className=\"w-80 border-r flex flex-col\">\r\n        <div className=\"p-4 border-b\">\r\n          <h3 className=\"font-semibold mb-3\">Messages</h3>\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n            <Input\r\n              placeholder=\"Search conversations...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"pl-10\"\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex-1 overflow-y-auto\">\r\n          {filteredChats.map((chat) => (\r\n            <div\r\n              key={chat.id}\r\n              onClick={() => setSelectedChat(chat.id)}\r\n              className={`p-4 border-b cursor-pointer hover:bg-muted/50 transition-colors ${\r\n                selectedChat === chat.id ? 'bg-muted' : ''\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center space-x-3\">\r\n                <div className=\"relative\">\r\n                  <Avatar className=\"h-10 w-10\">\r\n                    <AvatarImage src={chat.participantAvatar} />\r\n                    <AvatarFallback>{chat.participantName.charAt(0)}</AvatarFallback>\r\n                  </Avatar>\r\n                  {chat.isOnline && (\r\n                    <div className=\"absolute -bottom-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-background\" />\r\n                  )}\r\n                </div>\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <h4 className=\"font-medium truncate\">{chat.participantName}</h4>\r\n                    <span className=\"text-xs text-muted-foreground\">\r\n                      {formatTime(chat.lastMessageTime)}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <p className=\"text-sm text-muted-foreground truncate\">\r\n                      {chat.lastMessage}\r\n                    </p>\r\n                    {chat.unreadCount > 0 && (\r\n                      <Badge variant=\"destructive\" className=\"ml-2 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs\">\r\n                        {chat.unreadCount}\r\n                      </Badge>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chat Window */}\r\n      {selectedChat ? (\r\n        <div className=\"flex-1 flex flex-col\">\r\n          {/* Chat Header */}\r\n          <div className=\"p-4 border-b flex items-center justify-between\">\r\n            <div className=\"flex items-center space-x-3\">\r\n              <div className=\"relative\">\r\n                <Avatar className=\"h-8 w-8\">\r\n                  <AvatarImage src={currentChat?.participantAvatar} />\r\n                  <AvatarFallback>{currentChat?.participantName.charAt(0)}</AvatarFallback>\r\n                </Avatar>\r\n                {currentChat?.isOnline && (\r\n                  <div className=\"absolute -bottom-1 -right-1 w-2 h-2 bg-green-500 rounded-full border-2 border-background\" />\r\n                )}\r\n              </div>\r\n              <div>\r\n                <h4 className=\"font-medium\">{currentChat?.participantName}</h4>\r\n                <p className=\"text-xs text-muted-foreground\">\r\n                  {currentChat?.isOnline ? 'Active now' : 'Offline'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex space-x-2\">\r\n              <Button variant=\"ghost\" size=\"icon\">\r\n                <Phone className=\"h-4 w-4\" />\r\n              </Button>\r\n              <Button variant=\"ghost\" size=\"icon\">\r\n                <Video className=\"h-4 w-4\" />\r\n              </Button>\r\n              <Button variant=\"ghost\" size=\"icon\">\r\n                <MoreVertical className=\"h-4 w-4\" />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Messages */}\r\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n            {currentMessages.map((msg) => (\r\n              <div\r\n                key={msg.id}\r\n                className={`flex ${msg.isOwn ? 'justify-end' : 'justify-start'}`}\r\n              >\r\n                <div className={`flex space-x-2 max-w-[70%] ${msg.isOwn ? 'flex-row-reverse space-x-reverse' : ''}`}>\r\n                  {!msg.isOwn && (\r\n                    <Avatar className=\"h-8 w-8\">\r\n                      <AvatarImage src={msg.senderAvatar} />\r\n                      <AvatarFallback>{msg.senderName.charAt(0)}</AvatarFallback>\r\n                    </Avatar>\r\n                  )}\r\n                  <div>\r\n                    <div\r\n                      className={`rounded-lg px-3 py-2 ${\r\n                        msg.isOwn\r\n                          ? 'bg-primary text-primary-foreground'\r\n                          : 'bg-muted'\r\n                      }`}\r\n                    >\r\n                      <p className=\"text-sm\">{msg.content}</p>\r\n                    </div>\r\n                    <p className=\"text-xs text-muted-foreground mt-1 px-1\">\r\n                      {formatTime(msg.timestamp)}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n\r\n          {/* Message Input */}\r\n          <div className=\"p-4 border-t\">\r\n            <div className=\"flex space-x-2\">\r\n              <Button variant=\"ghost\" size=\"icon\">\r\n                <Paperclip className=\"h-4 w-4\" />\r\n              </Button>\r\n              <div className=\"flex-1 relative\">\r\n                <Input\r\n                  placeholder=\"Type a message...\"\r\n                  value={message}\r\n                  onChange={(e) => setMessage(e.target.value)}\r\n                  onKeyPress={(e) => e.key === 'Enter' && sendMessage()}\r\n                  className=\"pr-10\"\r\n                />\r\n                <Button variant=\"ghost\" size=\"icon\" className=\"absolute right-1 top-1\">\r\n                  <Smile className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n              <Button onClick={sendMessage} disabled={!message.trim()}>\r\n                <Send className=\"h-4 w-4\" />\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"flex-1 flex items-center justify-center\">\r\n          <div className=\"text-center\">\r\n            <div className=\"h-16 w-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4\">\r\n              <Send className=\"h-8 w-8 text-muted-foreground\" />\r\n            </div>\r\n            <h3 className=\"text-lg font-semibold mb-2\">Select a conversation</h3>\r\n            <p className=\"text-muted-foreground\">\r\n              Choose a friend from the list to start chatting\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5016, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\r\nimport { X } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Dialog = DialogPrimitive.Root\r\n\r\nconst DialogTrigger = DialogPrimitive.Trigger\r\n\r\nconst DialogPortal = DialogPrimitive.Portal\r\n\r\nconst DialogClose = DialogPrimitive.Close\r\n\r\nconst DialogOverlay = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Overlay\r\n    ref={ref}\r\n    className={cn(\r\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\r\n\r\nconst DialogContent = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DialogPortal>\r\n    <DialogOverlay />\r\n    <DialogPrimitive.Content\r\n      ref={ref}\r\n      className={cn(\r\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\r\n        <X className=\"h-4 w-4\" />\r\n        <span className=\"sr-only\">Close</span>\r\n      </DialogPrimitive.Close>\r\n    </DialogPrimitive.Content>\r\n  </DialogPortal>\r\n))\r\nDialogContent.displayName = DialogPrimitive.Content.displayName\r\n\r\nconst DialogHeader = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogHeader.displayName = \"DialogHeader\"\r\n\r\nconst DialogFooter = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLDivElement>) => (\r\n  <div\r\n    className={cn(\r\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n)\r\nDialogFooter.displayName = \"DialogFooter\"\r\n\r\nconst DialogTitle = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Title>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Title\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-lg font-semibold leading-none tracking-tight\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDialogTitle.displayName = DialogPrimitive.Title.displayName\r\n\r\nconst DialogDescription = React.forwardRef<\r\n  React.ElementRef<typeof DialogPrimitive.Description>,\r\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\r\n>(({ className, ...props }, ref) => (\r\n  <DialogPrimitive.Description\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDialogDescription.displayName = DialogPrimitive.Description.displayName\r\n\r\nexport {\r\n  Dialog,\r\n  DialogPortal,\r\n  DialogOverlay,\r\n  DialogClose,\r\n  DialogTrigger,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogFooter,\r\n  DialogTitle,\r\n  DialogDescription,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,gBAAgB,6KAAuB;AAE7C,MAAM,eAAe,4KAAsB;AAE3C,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,2JACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,iMAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,iLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 5156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst labelVariants = cva(\r\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\r\n)\r\n\r\nconst Label = React.forwardRef<\r\n  React.ElementRef<typeof LabelPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\r\n    VariantProps<typeof labelVariants>\r\n>(({ className, ...props }, ref) => (\r\n  <LabelPrimitive.Root\r\n    ref={ref}\r\n    className={cn(labelVariants(), className)}\r\n    {...props}\r\n  />\r\n))\r\nLabel.displayName = LabelPrimitive.Root.displayName\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,uKAAG,EACvB;AAGF,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,yKAAmB;QAClB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW"}},
    {"offset": {"line": 5187, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Tabs = TabsPrimitive.Root\r\n\r\nconst TabsList = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.List>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.List\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsList.displayName = TabsPrimitive.List.displayName\r\n\r\nconst TabsTrigger = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Trigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\r\n\r\nconst TabsContent = React.forwardRef<\r\n  React.ElementRef<typeof TabsPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\r\n>(({ className, ...props }, ref) => (\r\n  <TabsPrimitive.Content\r\n    ref={ref}\r\n    className={cn(\r\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nTabsContent.displayName = TabsPrimitive.Content.displayName\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\r\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,wKAAkB;AAE/B,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,wKAAkB;QACjB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;AAGb,SAAS,WAAW,GAAG,wKAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,uYACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 5242, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/services/aiService.ts"],"sourcesContent":["// AI Service - Free AI Integration without API Keys\r\n// Uses Web LLM, local models, and free AI services\r\n\r\n// Virgo - Master of Scriptures, empowered by the Holy Trinity\r\n// Guardian of divine wisdom and keeper of sacred knowledge\r\nexport const VIRGO_PERSONA = {\r\n  name: \"Virgo\",\r\n  title: \"Master of Scriptures\",\r\n  description: \"Guided by the Holy Trinity, keeper of divine wisdom and sacred mysteries\",\r\n  greeting: \"I am Virgo, master of scriptures, empowered by the Father, Son, and Holy Spirit. Through divine wisdom, I shall guide you through the sacred texts.\",\r\n  signature: \"In divine wisdom,\\nVirgo, Master of Scriptures\"\r\n};\r\n\r\nexport interface AIReadingPlan {\r\n  title: string;\r\n  description: string;\r\n  duration: number;\r\n  difficulty: 'beginner' | 'intermediate' | 'advanced';\r\n  readings: AIReadingPlanItem[];\r\n  tags: string[];\r\n}\r\n\r\nexport interface AIReadingPlanItem {\r\n  id: string;\r\n  day: number;\r\n  title: string;\r\n  passages: string[];\r\n  devotional: string;\r\n  reflection_questions: string[];\r\n  prayer_focus: string;\r\n}\r\n\r\nexport interface AIDevotional {\r\n  title: string;\r\n  verse: string;\r\n  verse_text: string;\r\n  main_message: string;\r\n  application: string;\r\n  prayer: string;\r\n  reflection_questions: string[];\r\n}\r\n\r\nexport interface AIBibleStudy {\r\n  topic: string;\r\n  key_verses: Array<{\r\n    reference: string;\r\n    text: string;\r\n    explanation: string;\r\n  }>;\r\n  main_themes: string[];\r\n  life_application: string;\r\n  discussion_questions: string[];\r\n}\r\n\r\nclass AIService {\r\n  private webLLM: any = null;\r\n  private isWebLLMLoaded = false;\r\n\r\n  constructor() {\r\n    this.initializeWebLLM();\r\n  }\r\n\r\n  // Initialize Web LLM for local AI processing\r\n  private async initializeWebLLM() {\r\n    if (typeof window !== 'undefined' && !this.isWebLLMLoaded) {\r\n      try {\r\n        // Load Web LLM dynamically\r\n        const script = document.createElement('script');\r\n        script.src = 'https://cdn.jsdelivr.net/npm/@mlc-ai/web-llm@0.2.46/dist/mlc-web-llm.js';\r\n        script.async = true;\r\n        script.onload = () => {\r\n          this.isWebLLMLoaded = true;\r\n          console.log('Web LLM loaded successfully');\r\n        };\r\n        document.head.appendChild(script);\r\n      } catch (error) {\r\n        console.warn('Failed to load Web LLM:', error);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Generate reading plan using template-based approach (no AI needed)\r\n  generateReadingPlanFromTemplate(params: {\r\n    topic: string;\r\n    duration: number;\r\n    difficulty: 'beginner' | 'intermediate' | 'advanced';\r\n    focus_areas?: string[];\r\n  }): AIReadingPlan {\r\n    const templates = this.getReadingPlanTemplates();\r\n    const template = templates.find(t => t.topic.toLowerCase().includes(params.topic.toLowerCase())) || \r\n                    templates.find(t => t.difficulty === params.difficulty) || \r\n                    templates[0];\r\n\r\n    return {\r\n      title: `${params.topic} Study Plan`,\r\n      description: `A ${params.duration}-day journey through ${params.topic} with ${params.difficulty} level content.`,\r\n      duration: params.duration,\r\n      difficulty: params.difficulty,\r\n      readings: this.generateReadingsFromTemplate(template, params.duration),\r\n      tags: [params.topic, params.difficulty, ...(params.focus_areas || [])]\r\n    };\r\n  }\r\n\r\n  // Generate reading plan using Web LLM (when available)\r\n  async generateReadingPlanWithAI(params: {\r\n    topic: string;\r\n    duration: number;\r\n    difficulty: 'beginner' | 'intermediate' | 'advanced';\r\n    focus_areas?: string[];\r\n  }): Promise<AIReadingPlan> {\r\n    // Try Web LLM first\r\n    if (this.isWebLLMLoaded && this.webLLM) {\r\n      try {\r\n        return await this.generateWithWebLLM(params);\r\n      } catch (error) {\r\n        console.warn('Web LLM failed, falling back to template:', error);\r\n      }\r\n    }\r\n\r\n    // Fallback to template-based generation\r\n    return this.generateReadingPlanFromTemplate(params);\r\n  }\r\n\r\n  // Generate using Web LLM\r\n  private async generateWithWebLLM(params: {\r\n    topic: string;\r\n    duration: number;\r\n    difficulty: 'beginner' | 'intermediate' | 'advanced';\r\n    focus_areas?: string[];\r\n  }): Promise<AIReadingPlan> {\r\n    const prompt = `Create a ${params.duration}-day Christian reading plan about ${params.topic}. \r\n    Difficulty level: ${params.difficulty}\r\n    Focus areas: ${params.focus_areas?.join(', ') || 'general spiritual growth'}\r\n    \r\n    Return a JSON object with:\r\n    - title: engaging title\r\n    - description: brief description\r\n    - readings: array of ${params.duration} objects with:\r\n      - day: number\r\n      - title: day's theme\r\n      - passages: array of 2-3 Bible verse references\r\n      - devotional: 200-300 word devotional\r\n      - reflection_questions: 2-3 questions\r\n      - prayer_focus: brief prayer focus`;\r\n\r\n    // This would use Web LLM when properly initialized\r\n    // For now, we'll use the template fallback\r\n    return this.generateReadingPlanFromTemplate(params);\r\n  }\r\n\r\n  // Generate devotional using template\r\n  generateDevotional(verse: string, theme?: string): AIDevotional {\r\n    const templates = this.getDevotionalTemplates();\r\n    const template = templates.find(t => t.verse === verse) || \r\n                   templates.find(t => t.theme === theme) || \r\n                   templates[0];\r\n\r\n    return {\r\n      title: template.title,\r\n      verse: template.verse,\r\n      verse_text: template.verse_text,\r\n      main_message: template.main_message,\r\n      application: template.application,\r\n      prayer: template.prayer,\r\n      reflection_questions: template.reflection_questions\r\n    };\r\n  }\r\n\r\n  // Generate Bible study guide\r\n  generateBibleStudy(topic: string): AIBibleStudy {\r\n    const studyGuides = this.getBibleStudyGuides();\r\n    const guide = studyGuides.find(g => g.topic.toLowerCase().includes(topic.toLowerCase())) || \r\n                 studyGuides[0];\r\n\r\n    return guide;\r\n  }\r\n\r\n  // Get prayer guidance\r\n  getPrayerGuidance(intention: string): {\r\n    title: string;\r\n    scripture: string;\r\n    prayer_points: string[];\r\n    sample_prayer: string;\r\n  } {\r\n    const prayerGuides = this.getPrayerGuides();\r\n    const guide = prayerGuides.find(g => \r\n      g.intention.toLowerCase().includes(intention.toLowerCase())\r\n    ) || prayerGuides[0];\r\n\r\n    return guide;\r\n  }\r\n\r\n  // Reading plan templates\r\n  private getReadingPlanTemplates() {\r\n    return [\r\n      {\r\n        topic: 'Prayer',\r\n        difficulty: 'beginner' as const,\r\n        readings: [\r\n          { title: 'Understanding Prayer', passages: ['Matthew 6:5-15', 'Philippians 4:6-7'] },\r\n          { title: 'Prayer of Thanksgiving', passages: ['1 Thessalonians 5:18', 'Psalm 100:4-5'] },\r\n          { title: 'Prayer for Guidance', passages: ['James 1:5', 'Proverbs 3:5-6'] },\r\n          { title: 'Prayer for Strength', passages: ['Isaiah 40:31', 'Philippians 4:13'] },\r\n          { title: 'Prayer for Others', passages: ['1 Timothy 2:1-2', 'Ephesians 6:18'] }\r\n        ]\r\n      },\r\n      {\r\n        topic: 'Faith',\r\n        difficulty: 'intermediate' as const,\r\n        readings: [\r\n          { title: 'Foundation of Faith', passages: ['Hebrews 11:1', 'Romans 10:17'] },\r\n          { title: 'Faith in Action', passages: ['James 2:14-26', 'Galatians 5:6'] },\r\n          { title: 'Testing of Faith', passages: ['1 Peter 1:6-7', 'James 1:2-4'] },\r\n          { title: 'Faith and Doubt', passages: ['Mark 9:24', 'Jude 1:22'] },\r\n          { title: 'Growing in Faith', passages: ['2 Corinthians 5:7', 'Colossians 2:6-7'] }\r\n        ]\r\n      },\r\n      {\r\n        topic: 'Love',\r\n        difficulty: 'advanced' as const,\r\n        readings: [\r\n          { title: 'God\\'s Love', passages: ['1 John 4:8', 'Romans 5:8'] },\r\n          { title: 'Love One Another', passages: ['John 13:34-35', '1 Corinthians 13:4-7'] },\r\n          { title: 'Love Your Enemies', passages: ['Matthew 5:44', 'Luke 6:27-36'] },\r\n          { title: 'Love and Sacrifice', passages: ['1 John 3:16', 'Ephesians 5:2'] },\r\n          { title: 'Perfect Love', passages: ['1 John 4:18', '1 Corinthians 13:13'] }\r\n        ]\r\n      }\r\n    ];\r\n  }\r\n\r\n  // Generate readings from template\r\n  private generateReadingsFromTemplate(template: any, duration: number): AIReadingPlanItem[] {\r\n    const readings: AIReadingPlanItem[] = [];\r\n    const templateReadings = template.readings || [];\r\n\r\n    for (let i = 0; i < duration; i++) {\r\n      const templateReading = templateReadings[i % templateReadings.length];\r\n      readings.push({\r\n        id: `reading-${Date.now()}-${i}`,\r\n        day: i + 1,\r\n        title: templateReading?.title || `Day ${i + 1} Reflection`,\r\n        passages: templateReading?.passages || ['Psalm 23:1-6'],\r\n        devotional: this.generateDevotionalText(templateReading?.title || `Day ${i + 1}`),\r\n        reflection_questions: [\r\n          'How does this passage apply to your life today?',\r\n          'What is God speaking to you through this text?',\r\n          'How can you live out this truth this week?'\r\n        ],\r\n        prayer_focus: `Pray for understanding and application of Day ${i + 1} teachings`\r\n      });\r\n    }\r\n\r\n    return readings;\r\n  }\r\n\r\n  // Generate devotional text\r\n  private generateDevotionalText(theme: string): string {\r\n    const devotionals = {\r\n      'Understanding Prayer': 'Prayer is our direct line of communication with God. It\\'s not just about asking for things, but about building a relationship. When we pray, we acknowledge our dependence on God and open our hearts to His guidance.',\r\n      'Faith in Action': 'True faith is never passive; it always leads to action. James reminds us that faith without works is dead. Our actions demonstrate the reality of our faith to the world around us.',\r\n      'God\\'s Love': 'God\\'s love is unconditional, sacrificial, and eternal. It\\'s not based on our performance but on His character. Understanding this love transforms how we view ourselves and others.',\r\n      'default': 'Today\\'s reading invites us to deepen our relationship with God. As we meditate on His Word, we discover timeless truths that speak to our current circumstances and guide us in our spiritual journey.'\r\n    };\r\n\r\n    return devotionals[theme as keyof typeof devotionals] || devotionals.default;\r\n  }\r\n\r\n  // Devotional templates\r\n  private getDevotionalTemplates() {\r\n    return [\r\n      {\r\n        title: 'The Power of Prayer',\r\n        verse: 'Philippians 4:6-7',\r\n        verse_text: 'Do not be anxious about anything, but in every situation, by prayer and petition, with thanksgiving, present your requests to God. And the peace of God, which transcends all understanding, will guard your hearts and your minds in Christ Jesus.',\r\n        theme: 'prayer',\r\n        main_message: 'Prayer is our antidote to anxiety and our pathway to peace.',\r\n        application: 'Take every worry to God in prayer, thanking Him for His faithfulness.',\r\n        prayer: 'Lord, teach me to pray without ceasing and to trust You with all my concerns.',\r\n        reflection_questions: [\r\n          'What anxieties are you carrying today?',\r\n          'How can you practice gratitude in prayer?',\r\n          'Where do you need God\\'s peace right now?'\r\n        ]\r\n      },\r\n      {\r\n        title: 'Living by Faith',\r\n        verse: 'Hebrews 11:1',\r\n        verse_text: 'Now faith is confidence in what we hope for and assurance about what we do not see.',\r\n        theme: 'faith',\r\n        main_message: 'Faith is trusting God even when we cannot see the outcome.',\r\n        application: 'Step out in faith today, trusting God\\'s promises even when circumstances look uncertain.',\r\n        prayer: 'Increase my faith, Lord, and help me trust You completely.',\r\n        reflection_questions: [\r\n          'Where is God calling you to trust Him blindly?',\r\n          'How has God proven faithful in your past?',\r\n          'What promise do you need to claim today?'\r\n        ]\r\n      }\r\n    ];\r\n  }\r\n\r\n  // Bible study guides\r\n  private getBibleStudyGuides() {\r\n    return [\r\n      {\r\n        topic: 'Prayer',\r\n        key_verses: [\r\n          {\r\n            reference: 'Matthew 6:9-13',\r\n            text: 'This, then, is how you should pray: \"Our Father in heaven...\"',\r\n            explanation: 'Jesus teaches us the model prayer that covers all aspects of our relationship with God.'\r\n          },\r\n          {\r\n            reference: '1 Thessalonians 5:17',\r\n            text: 'Pray without ceasing.',\r\n            explanation: 'Prayer should be a continuous attitude, not just occasional events.'\r\n          }\r\n        ],\r\n        main_themes: ['Communication with God', 'Dependence on God', 'Spiritual Discipline'],\r\n        life_application: 'Develop a habit of regular prayer throughout your day, not just in crisis moments.',\r\n        discussion_questions: [\r\n          'What barriers keep you from praying regularly?',\r\n          'How can you make prayer more conversational?',\r\n          'What difference would constant prayer make in your life?'\r\n        ]\r\n      },\r\n      {\r\n        topic: 'Faith',\r\n        key_verses: [\r\n          {\r\n            reference: 'Romans 10:17',\r\n            text: 'Consequently, faith comes from hearing the message, and the message is heard through the word about Christ.',\r\n            explanation: 'Faith grows as we engage with Scripture and learn about Christ.'\r\n          },\r\n          {\r\n            reference: 'James 2:17',\r\n            text: 'In the same way, faith by itself, if it is not accompanied by action, is dead.',\r\n            explanation: 'Genuine faith always produces visible changes in how we live.'\r\n          }\r\n        ],\r\n        main_themes: ['Trust in God', 'Obedient Action', 'Spiritual Growth'],\r\n        life_application: 'Put your faith into practice by taking step of obedience that stretch your comfort zone.',\r\n        discussion_questions: [\r\n          'How does your faith show in your daily actions?',\r\n          'Where is God calling you to step out in faith?',\r\n          'How can you strengthen your faith through Scripture?'\r\n        ]\r\n      }\r\n    ];\r\n  }\r\n\r\n  // Prayer guides\r\n  private getPrayerGuides() {\r\n    return [\r\n      {\r\n        intention: 'guidance',\r\n        title: 'Prayer for Divine Guidance',\r\n        scripture: 'Proverbs 3:5-6',\r\n        prayer_points: [\r\n          'Trust in the Lord with all your heart',\r\n          'Lean not on your own understanding',\r\n          'Acknowledge God in all your ways',\r\n          'Expect God to direct your paths'\r\n        ],\r\n        sample_prayer: 'Lord, I surrender my plans to You. Guide my steps, illuminate my path, and help me trust Your perfect timing and direction for my life.'\r\n      },\r\n      {\r\n        intention: 'strength',\r\n        title: 'Prayer for Strength',\r\n        scripture: 'Isaiah 40:31',\r\n        prayer_points: [\r\n          'Wait on the Lord',\r\n          'Renew your strength',\r\n          'Mount up with wings like eagles',\r\n          'Run and not be weary'\r\n        ],\r\n        sample_prayer: 'Almighty God, when I am weak, You are strong. Fill me with Your power, lift me up, and enable me to persevere through every challenge.'\r\n      }\r\n    ];\r\n  }\r\n\r\n  // Generate AI-powered content suggestions\r\n  async generateContentSuggestions(topic: string, type: 'reading-plan' | 'devotional' | 'study') {\r\n    const suggestions = {\r\n      'reading-plan': [\r\n        'Focus on practical application',\r\n        'Include personal reflection questions',\r\n        'Balance scripture with explanation',\r\n        'Progress from basic to deeper concepts'\r\n      ],\r\n      'devotional': [\r\n        'Start with a relatable story',\r\n        'Connect scripture to daily life',\r\n        'End with a practical challenge',\r\n        'Include a meaningful prayer'\r\n      ],\r\n      'study': [\r\n        'Provide historical context',\r\n        'Explain difficult concepts',\r\n        'Include cross-references',\r\n        'Apply to modern life'\r\n      ]\r\n    };\r\n\r\n    return suggestions[type] || [];\r\n  }\r\n\r\n  // Check if AI features are available\r\n  isAIAvailable(): boolean {\r\n    return this.isWebLLMLoaded || true; // Template-based is always available\r\n  }\r\n\r\n  // Get AI capabilities\r\n  getCapabilities() {\r\n    return {\r\n      readingPlanGeneration: true,\r\n      devotionalGeneration: true,\r\n      bibleStudyGuides: true,\r\n      prayerGuidance: true,\r\n      contentSuggestions: true,\r\n      localProcessing: this.isWebLLMLoaded,\r\n      templateBased: true\r\n    };\r\n  }\r\n\r\n  // Virgo's Divine Reading Plan Creation\r\n  async createVirgoReadingPlan(\r\n    topic: string, \r\n    duration: number, \r\n    difficulty: 'beginner' | 'intermediate' | 'advanced',\r\n    userId: string\r\n  ): Promise<AIReadingPlan & { id: string; user_id: string; created_at: string }> {\r\n    // Generate the reading plan with Virgo's wisdom\r\n    const plan = this.generateReadingPlanFromTemplate({\r\n      topic,\r\n      duration,\r\n      difficulty\r\n    });\r\n\r\n    // Enhance with Virgo's divine signature\r\n    const virgoPlan: AIReadingPlan & { id: string; user_id: string; created_at: string } = {\r\n      ...plan,\r\n      id: `virgo-${Date.now()}`,\r\n      user_id: userId,\r\n      created_at: new Date().toISOString(),\r\n      description: `${plan.description}\\n\\n${VIRGO_PERSONA.signature}`,\r\n      readings: plan.readings.map((reading, index) => ({\r\n        ...reading,\r\n        devotional: `${reading.devotional}\\n\\n${VIRGO_PERSONA.signature}`,\r\n        title: `${reading.title} - Virgo's Guidance`\r\n      }))\r\n    };\r\n\r\n    return virgoPlan;\r\n  }\r\n\r\n  // Virgo's Introduction\r\n  getVirgoIntroduction(): string {\r\n    return VIRGO_PERSONA.greeting;\r\n  }\r\n\r\n  // Virgo's Wisdom for specific topics\r\n  getVirgoWisdom(topic: string): string {\r\n    const wisdomMap: Record<string, string> = {\r\n      faith: \"Faith is the foundation upon which all spiritual journeys begin. Through the Trinity's guidance, we discover that faith is not merely belief, but a living, breathing relationship with the Divine.\",\r\n      prayer: \"Prayer is the sacred conversation between the soul and the Creator. In the Holy Trinity's embrace, every prayer becomes a bridge between heaven and earth.\",\r\n      love: \"Divine love flows from the Father, through the Son, and by the Holy Spirit. It is this sacred love that transforms hearts and renews minds.\",\r\n      wisdom: \"True wisdom comes not from human understanding, but from the divine revelation granted by the Trinity. Seek wisdom, and you shall find God's perfect will.\",\r\n      hope: \"Hope is the anchor of the soul, strengthened by the Trinity's promises. In times of trial, hope becomes the light that guides us through darkness.\"\r\n    };\r\n\r\n    const lowerTopic = topic.toLowerCase();\r\n    return wisdomMap[lowerTopic] || `Through the Trinity's divine guidance, the path of ${topic} becomes clear to those who seek with humble hearts.`;\r\n  }\r\n}\r\n\r\nexport const aiService = new AIService();\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5712, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/components/features/CreatePostDialog.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { useAuth } from '@/contexts/SupabaseAuthContext';\r\nimport { useUserData } from '@/contexts/UserDataContext';\r\nimport { supabaseService } from '@/services/supabaseService';\r\nimport { aiService } from '@/services/aiService';\r\nimport { Plus, BookOpen, Hash, Users, Sparkles, Loader2 } from 'lucide-react';\r\n\r\ninterface CreatePostDialogProps {\r\n  children: React.ReactNode;\r\n  onPostCreated?: () => void;\r\n}\r\n\r\nexport function CreatePostDialog({ children, onPostCreated }: CreatePostDialogProps) {\r\n  const { user: authUser } = useAuth();\r\n  const { user } = useUserData();\r\n  const [open, setOpen] = useState(false);\r\n  const [content, setContent] = useState('');\r\n  const [verseReference, setVerseReference] = useState('');\r\n  const [verseText, setVerseText] = useState('');\r\n  const [tags, setTags] = useState<string[]>([]);\r\n  const [tagInput, setTagInput] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [isGenerating, setIsGenerating] = useState(false);\r\n  const [aiTopic, setAiTopic] = useState('');\r\n  const [aiType, setAiType] = useState<'devotional' | 'reflection' | 'prayer'>('devotional');\r\n\r\n  const handleAddTag = () => {\r\n    if (tagInput.trim() && !tags.includes(tagInput.trim())) {\r\n      setTags([...tags, tagInput.trim()]);\r\n      setTagInput('');\r\n    }\r\n  };\r\n\r\n  const handleRemoveTag = (tagToRemove: string) => {\r\n    setTags(tags.filter(tag => tag !== tagToRemove));\r\n  };\r\n\r\n  const handleAIGenerate = async () => {\r\n    if (!aiTopic.trim()) return;\r\n\r\n    setIsGenerating(true);\r\n    try {\r\n      let generatedContent = '';\r\n      \r\n      switch (aiType) {\r\n        case 'devotional':\r\n          const devotional = aiService.generateDevotional('', aiTopic);\r\n          generatedContent = devotional.main_message + '\\n\\nApplication: ' + devotional.application + '\\n\\nPrayer: ' + devotional.prayer;\r\n          if (devotional.verse) {\r\n            setVerseReference(devotional.verse);\r\n            setVerseText(devotional.verse_text);\r\n          }\r\n          break;\r\n        case 'reflection':\r\n          const bibleStudy = aiService.generateBibleStudy(aiTopic);\r\n          generatedContent = 'Topic: ' + bibleStudy.topic + '\\n\\nKey Themes:\\n' + bibleStudy.main_themes.join('\\n') + '\\n\\nLife Application: ' + bibleStudy.life_application;\r\n          break;\r\n        case 'prayer':\r\n          const prayer = aiService.getPrayerGuidance(aiTopic);\r\n          generatedContent = 'Prayer Focus: ' + prayer.title + '\\n\\nScripture: ' + prayer.scripture + '\\n\\nPrayer Points:\\n' + prayer.prayer_points.join('\\n') + '\\n\\nSample Prayer: ' + prayer.sample_prayer;\r\n          break;\r\n      }\r\n\r\n      setContent(generatedContent);\r\n      setTags([...tags, aiType]);\r\n    } catch (error) {\r\n      console.error('Error generating AI content:', error);\r\n      alert('Failed to generate content. Please try again.');\r\n    } finally {\r\n      setIsGenerating(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!authUser || !content.trim()) return;\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      // Create post in database\r\n      const { data, error } = await supabaseService.getClient()\r\n        .from('community_posts')\r\n        .insert({\r\n          user_id: authUser.id,\r\n          content: content.trim(),\r\n          verse_reference: verseReference.trim() || null,\r\n          verse_text: verseText.trim() || null,\r\n          tags: tags.length > 0 ? tags : null,\r\n          likes_count: 0,\r\n          comments_count: 0,\r\n          shares_count: 0,\r\n        })\r\n        .select()\r\n        .single();\r\n\r\n      if (error) {\r\n        console.error('Error creating post:', error);\r\n        throw error;\r\n      }\r\n\r\n      // Update user stats\r\n      const currentStats = await supabaseService.getUserStats(authUser.id);\r\n      await supabaseService.updateUserStats(authUser.id, {\r\n        community_posts: (currentStats?.community_posts || 0) + 1,\r\n      });\r\n\r\n      // Award points for posting\r\n      await supabaseService.addPoints(authUser.id, 5);\r\n\r\n      // Reset form\r\n      setContent('');\r\n      setVerseReference('');\r\n      setVerseText('');\r\n      setTags([]);\r\n      setTagInput('');\r\n      setOpen(false);\r\n\r\n      // Notify parent component\r\n      onPostCreated?.();\r\n\r\n      console.log('Post created successfully:', data);\r\n    } catch (error) {\r\n      console.error('Error creating post:', error);\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={setOpen}>\r\n      <DialogTrigger asChild>\r\n        {children}\r\n      </DialogTrigger>\r\n      <DialogContent className=\"sm:max-w-[600px] bg-background border-2 shadow-xl\">\r\n        <DialogHeader className=\"border-b pb-4\">\r\n          <DialogTitle className=\"flex items-center gap-2 text-xl\">\r\n            <Plus className=\"h-5 w-5\" />\r\n            Create New Post\r\n          </DialogTitle>\r\n        </DialogHeader>\r\n        \r\n        <Tabs defaultValue=\"manual\" className=\"w-full\">\r\n          <TabsList className=\"grid w-full grid-cols-2 bg-muted border-2\">\r\n            <TabsTrigger value=\"manual\" className=\"data-[state=active]:bg-background data-[state=active]:shadow-sm\">Manual</TabsTrigger>\r\n            <TabsTrigger value=\"ai\" className=\"flex items-center gap-2 data-[state=active]:bg-background data-[state=active]:shadow-sm\">\r\n              <Sparkles className=\"h-4 w-4\" />\r\n              AI Assist\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          <TabsContent value=\"manual\" className=\"space-y-4\">\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          {/* Content */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"content\" className=\"text-base font-medium\">Share your thoughts...</Label>\r\n            <Textarea\r\n              id=\"content\"\r\n              placeholder=\"What's on your mind? Share your spiritual journey, insights, or prayer requests...\"\r\n              value={content}\r\n              onChange={(e) => setContent(e.target.value)}\r\n              className=\"min-h-[100px] border-2 bg-background resize-none focus:ring-2 focus:ring-primary\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Verse Reference */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"verse-reference\" className=\"text-base font-medium\">\r\n              <BookOpen className=\"inline h-4 w-4 mr-1\" />\r\n              Verse Reference (Optional)\r\n            </Label>\r\n            <Input\r\n              id=\"verse-reference\"\r\n              placeholder=\"e.g., John 3:16\"\r\n              value={verseReference}\r\n              onChange={(e) => setVerseReference(e.target.value)}\r\n              className=\"border-2 bg-background focus:ring-2 focus:ring-primary\"\r\n            />\r\n          </div>\r\n\r\n          {/* Verse Text */}\r\n          {verseReference && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"verse-text\" className=\"text-base font-medium\">Verse Text (Optional)</Label>\r\n              <Textarea\r\n                id=\"verse-text\"\r\n                placeholder=\"Enter the verse text...\"\r\n                value={verseText}\r\n                onChange={(e) => setVerseText(e.target.value)}\r\n                className=\"min-h-[60px] border-2 bg-background resize-none focus:ring-2 focus:ring-primary\"\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* Tags */}\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"tags\">\r\n              <Hash className=\"inline h-4 w-4 mr-1\" />\r\n              Tags (Optional)\r\n            </Label>\r\n            <div className=\"flex gap-2\">\r\n              <Input\r\n                id=\"tags\"\r\n                placeholder=\"Add a tag...\"\r\n                value={tagInput}\r\n                onChange={(e) => setTagInput(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddTag())}\r\n              />\r\n              <Button type=\"button\" variant=\"outline\" onClick={handleAddTag}>\r\n                Add\r\n              </Button>\r\n            </div>\r\n            {tags.length > 0 && (\r\n              <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                {tags.map((tag) => (\r\n                  <Badge key={tag} variant=\"secondary\" className=\"cursor-pointer\">\r\n                    #{tag}\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleRemoveTag(tag)}\r\n                      className=\"ml-1 text-xs hover:text-destructive\"\r\n                    >\r\n                      \r\n                    </button>\r\n                  </Badge>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Submit Buttons */}\r\n          <div className=\"flex justify-end gap-2 pt-4\">\r\n            <Button type=\"button\" variant=\"outline\" onClick={() => setOpen(false)}>\r\n              Cancel\r\n            </Button>\r\n            <Button type=\"submit\" disabled={!content.trim() || isSubmitting}>\r\n              {isSubmitting ? 'Posting...' : 'Share Post'}\r\n            </Button>\r\n          </div>\r\n            </form>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"ai\" className=\"space-y-4\">\r\n            <div className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"ai-type\">Content Type</Label>\r\n                <select \r\n                  id=\"ai-type\"\r\n                  value={aiType}\r\n                  onChange={(e) => setAiType(e.target.value as 'devotional' | 'reflection' | 'prayer')}\r\n                  className=\"w-full p-2 border rounded-md bg-background\"\r\n                >\r\n                  <option value=\"devotional\">Devotional</option>\r\n                  <option value=\"reflection\">Bible Reflection</option>\r\n                  <option value=\"prayer\">Prayer Guide</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"ai-topic\">Topic or Theme</Label>\r\n                <Input\r\n                  id=\"ai-topic\"\r\n                  placeholder=\"e.g., Faith, Prayer, Forgiveness, God's Love...\"\r\n                  value={aiTopic}\r\n                  onChange={(e) => setAiTopic(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <Button \r\n                type=\"button\" \r\n                onClick={handleAIGenerate}\r\n                disabled={!aiTopic.trim() || isGenerating}\r\n                className=\"w-full\"\r\n              >\r\n                {isGenerating ? (\r\n                  <>\r\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                    Generating...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Sparkles className=\"mr-2 h-4 w-4\" />\r\n                    Generate Content\r\n                  </>\r\n                )}\r\n              </Button>\r\n\r\n              {content && (\r\n                <div className=\"border rounded-lg p-4 bg-muted/50\">\r\n                  <Label className=\"text-sm font-medium\">Generated Content</Label>\r\n                  <Textarea\r\n                    value={content}\r\n                    onChange={(e) => setContent(e.target.value)}\r\n                    className=\"mt-2 min-h-[150px]\"\r\n                    placeholder=\"AI-generated content will appear here...\"\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n              {/* Verse Reference */}\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"verse-reference-ai\">\r\n                  <BookOpen className=\"inline h-4 w-4 mr-1\" />\r\n                  Verse Reference (Optional)\r\n                </Label>\r\n                <Input\r\n                  id=\"verse-reference-ai\"\r\n                  placeholder=\"e.g., John 3:16\"\r\n                  value={verseReference}\r\n                  onChange={(e) => setVerseReference(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              {/* Verse Text */}\r\n              {verseReference && (\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"verse-text-ai\">Verse Text (Optional)</Label>\r\n                  <Textarea\r\n                    id=\"verse-text-ai\"\r\n                    placeholder=\"Enter the verse text...\"\r\n                    value={verseText}\r\n                    onChange={(e) => setVerseText(e.target.value)}\r\n                    className=\"min-h-[60px]\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {/* Tags */}\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"tags-ai\">\r\n                  <Hash className=\"inline h-4 w-4 mr-1\" />\r\n                  Tags (Optional)\r\n                </Label>\r\n                <div className=\"flex gap-2\">\r\n                  <Input\r\n                    id=\"tags-ai\"\r\n                    placeholder=\"Add a tag...\"\r\n                    value={tagInput}\r\n                    onChange={(e) => setTagInput(e.target.value)}\r\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddTag())}\r\n                  />\r\n                  <Button type=\"button\" variant=\"outline\" onClick={handleAddTag}>\r\n                    Add\r\n                  </Button>\r\n                </div>\r\n                {tags.length > 0 && (\r\n                  <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                    {tags.map((tag) => (\r\n                      <Badge key={tag} variant=\"secondary\" className=\"cursor-pointer\">\r\n                        #{tag}\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => handleRemoveTag(tag)}\r\n                          className=\"ml-1 text-xs hover:text-destructive\"\r\n                        >\r\n                          \r\n                        </button>\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Submit Buttons */}\r\n              <div className=\"flex justify-end gap-2 pt-4\">\r\n                <Button type=\"button\" variant=\"outline\" onClick={() => setOpen(false)}>\r\n                  Cancel\r\n                </Button>\r\n                <Button type=\"submit\" disabled={!content.trim() || isSubmitting}>\r\n                  {isSubmitting ? 'Posting...' : 'Share Post'}\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </TabsContent>\r\n        </Tabs>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6528, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/UYI/Downloads/Journey/journey/src/app/community/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Layout } from '@/components/layout/Layout';\r\nimport { CommunityPost } from '@/components/features/CommunityPost';\r\nimport { FriendsList } from '@/components/features/FriendsList';\r\nimport { ChatInterface } from '@/components/features/ChatInterface';\r\nimport { EnhancedPost } from '@/components/features/EnhancedPost';\r\nimport { CreatePostDialog } from '@/components/features/CreatePostDialog';\r\nimport { AuthGuard } from '@/components/auth/AuthGuard';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Search, Filter, Users, Heart, MessageCircle, Share2, Plus, Bell, PenTool } from 'lucide-react';\r\nimport { useAuth } from '@/contexts/SupabaseAuthContext';\r\nimport { supabaseService } from '@/services/supabaseService';\r\n\r\nexport default function CommunityPage() {\r\n  const { user: authUser } = useAuth();\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedFilter, setSelectedFilter] = useState<string | null>(null);\r\n  const [posts, setPosts] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  // Prevent hydration mismatch\r\n  useEffect(() => {\r\n    setMounted(true);\r\n  }, []);\r\n\r\n  // Fetch posts from database\r\n  const fetchPosts = async () => {\r\n    if (!authUser || !mounted) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      const { data, error } = await supabaseService.getClient()\r\n        .from('community_posts')\r\n        .select(`\r\n          *,\r\n          user:users(id, username, full_name, avatar_url)\r\n        `)\r\n        .order('created_at', { ascending: false })\r\n        .limit(50);\r\n\r\n      if (error) {\r\n        console.error('Error fetching posts:', error);\r\n        return;\r\n      }\r\n\r\n      setPosts(data || []);\r\n    } catch (error) {\r\n      console.error('Error fetching posts:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (authUser && mounted) {\r\n      fetchPosts();\r\n    }\r\n  }, [authUser, mounted]);\r\n\r\n  const filteredPosts = posts.filter(post => {\r\n    const matchesSearch = post.content.toLowerCase().includes(searchTerm.toLowerCase());\r\n    return matchesSearch;\r\n  });\r\n\r\n  const filters = ['Recent', 'Popular', 'Following', 'My Posts'];\r\n\r\n  return (\r\n    <Layout>\r\n      <div className=\"space-y-6\">\r\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold\">Community</h1>\r\n            <p className=\"text-muted-foreground\">\r\n              Connect with fellow believers, share insights, and grow together\r\n            </p>\r\n          </div>\r\n          <AuthGuard action=\"post\">\r\n            <CreatePostDialog onPostCreated={fetchPosts}>\r\n              <Button className=\"w-full sm:w-auto\">\r\n                <Plus className=\"mr-2 h-4 w-4\" />\r\n                Create Post\r\n              </Button>\r\n            </CreatePostDialog>\r\n          </AuthGuard>\r\n        </div>\r\n\r\n        {/* Search and Filters */}\r\n        <div className=\"flex flex-col sm:flex-row gap-4\">\r\n          <div className=\"relative flex-1\">\r\n            <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\r\n            <Input\r\n              placeholder=\"Search posts...\"\r\n              value={searchTerm}\r\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => setSearchTerm(e.target.value)}\r\n              className=\"pl-10\"\r\n            />\r\n          </div>\r\n          <Button variant=\"outline\">\r\n            <Filter className=\"mr-2 h-4 w-4\" />\r\n            Filters\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Filter Tabs */}\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {filters.map((filter) => (\r\n            <Badge\r\n              key={filter}\r\n              variant={selectedFilter === filter ? \"default\" : \"secondary\"}\r\n              className=\"cursor-pointer\"\r\n              onClick={() => setSelectedFilter(filter)}\r\n            >\r\n              {filter}\r\n            </Badge>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Community Tabs */}\r\n        <Tabs defaultValue=\"posts\" className=\"space-y-4\">\r\n          <TabsList className=\"grid w-full grid-cols-4\">\r\n            <TabsTrigger value=\"posts\">Posts</TabsTrigger>\r\n            <TabsTrigger value=\"friends\">Friends</TabsTrigger>\r\n            <TabsTrigger value=\"messages\">Messages</TabsTrigger>\r\n            <TabsTrigger value=\"notifications\">Notifications</TabsTrigger>\r\n          </TabsList>\r\n\r\n          <TabsContent value=\"posts\" className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n              {/* Main Feed */}\r\n              <div className=\"lg:col-span-2 space-y-4\">\r\n                {!mounted ? (\r\n                  <div className=\"text-center py-12\">\r\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4\"></div>\r\n                    <p className=\"text-muted-foreground\">Loading...</p>\r\n                  </div>\r\n                ) : loading ? (\r\n                  <div className=\"text-center py-12\">\r\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4\"></div>\r\n                    <p className=\"text-muted-foreground\">Loading posts...</p>\r\n                  </div>\r\n                ) : filteredPosts.length === 0 ? (\r\n                  <div className=\"text-center py-12\">\r\n                    <Users className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\r\n                    <h3 className=\"text-lg font-semibold mb-2\">No posts yet</h3>\r\n                    <p className=\"text-muted-foreground\">\r\n                      Be the first to share your thoughts with the community!\r\n                    </p>\r\n                  </div>\r\n                ) : (\r\n                  filteredPosts.map((post) => (\r\n                    <div key={post.id}>\r\n                      <CommunityPost\r\n                        post={post}\r\n                        authorName={post.user?.full_name || post.user?.username || 'Unknown'}\r\n                        authorAvatar={post.user?.avatar_url}\r\n                      />\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n\r\n              {/* Sidebar */}\r\n              <div className=\"space-y-6\">\r\n                {/* Community Stats */}\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle className=\"text-lg\">Community Stats</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-3\">\r\n                    <div className=\"space-y-2 text-sm\">\r\n                      <div className=\"flex justify-between\">\r\n                        <span>Members</span>\r\n                        <span className=\"font-medium\">1</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span>Online Now</span>\r\n                        <span className=\"font-medium\">0</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span>Posts Today</span>\r\n                        <span className=\"font-medium\">0</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between\">\r\n                        <span>Prayers Shared</span>\r\n                        <span className=\"font-medium\">0</span>\r\n                      </div>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n\r\n                {/* Trending Topics */}\r\n                <Card>\r\n                  <CardHeader>\r\n                    <CardTitle className=\"text-lg\">Trending Topics</CardTitle>\r\n                  </CardHeader>\r\n                  <CardContent className=\"space-y-2\">\r\n                    {['#Prayer', '#YouthMinistry', '#BibleStudy', '#Faith', '#Community'].map((topic) => (\r\n                      <div key={topic} className=\"flex items-center justify-between p-2 rounded hover:bg-muted cursor-pointer\">\r\n                        <span className=\"text-sm font-medium\">{topic}</span>\r\n                        <Badge variant=\"secondary\" className=\"text-xs\">\r\n                          {Math.floor(Math.random() * 50) + 10}\r\n                        </Badge>\r\n                      </div>\r\n                    ))}\r\n                  </CardContent>\r\n                </Card>\r\n              </div>\r\n            </div>\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"friends\">\r\n            <FriendsList />\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"messages\">\r\n            <ChatInterface />\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"notifications\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Notifications</CardTitle>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"text-center py-12\">\r\n                  <Bell className=\"h-12 w-12 mx-auto mb-4 text-muted-foreground\" />\r\n                  <h3 className=\"text-lg font-semibold mb-2\">No new notifications</h3>\r\n                  <p className=\"text-muted-foreground\">\r\n                    You're all caught up! Check back later for updates.\r\n                  </p>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </TabsContent>\r\n        </Tabs>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAlBA;;;;;;;;;;;;;;;;;AAoBe,SAAS;IACtB,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,IAAA,kJAAO;IAClC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAgB;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,6BAA6B;IAC7B,IAAA,kNAAS,EAAC;QACR,WAAW;IACb,GAAG,EAAE;IAEL,4BAA4B;IAC5B,MAAM,aAAa;QACjB,IAAI,CAAC,YAAY,CAAC,SAAS;QAE3B,IAAI;YACF,WAAW;YACX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,qJAAe,CAAC,SAAS,GACpD,IAAI,CAAC,mBACL,MAAM,CAAC,CAAC;;;QAGT,CAAC,EACA,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM,GACvC,KAAK,CAAC;YAET,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,yBAAyB;gBACvC;YACF;YAEA,SAAS,QAAQ,EAAE;QACrB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;QACzC,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAA,kNAAS,EAAC;QACR,IAAI,YAAY,SAAS;YACvB;QACF;IACF,GAAG;QAAC;QAAU;KAAQ;IAEtB,MAAM,gBAAgB,MAAM,MAAM,CAAC,CAAA;QACjC,MAAM,gBAAgB,KAAK,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;QAChF,OAAO;IACT;IAEA,MAAM,UAAU;QAAC;QAAU;QAAW;QAAa;KAAW;IAE9D,qBACE,8OAAC,gJAAM;kBACL,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAqB;;;;;;8CACnC,8OAAC;oCAAE,WAAU;8CAAwB;;;;;;;;;;;;sCAIvC,8OAAC,oJAAS;4BAAC,QAAO;sCAChB,cAAA,8OAAC,sKAAgB;gCAAC,eAAe;0CAC/B,cAAA,8OAAC,4IAAM;oCAAC,WAAU;;sDAChB,8OAAC,0MAAI;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;;;;;;;;;;;8BAQzC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,gNAAM;oCAAC,WAAU;;;;;;8CAClB,8OAAC,0IAAK;oCACJ,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAA2C,cAAc,EAAE,MAAM,CAAC,KAAK;oCAClF,WAAU;;;;;;;;;;;;sCAGd,8OAAC,4IAAM;4BAAC,SAAQ;;8CACd,8OAAC,gNAAM;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;8BAMvC,8OAAC;oBAAI,WAAU;8BACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,8OAAC,0IAAK;4BAEJ,SAAS,mBAAmB,SAAS,YAAY;4BACjD,WAAU;4BACV,SAAS,IAAM,kBAAkB;sCAEhC;2BALI;;;;;;;;;;8BAWX,8OAAC,wIAAI;oBAAC,cAAa;oBAAQ,WAAU;;sCACnC,8OAAC,4IAAQ;4BAAC,WAAU;;8CAClB,8OAAC,+IAAW;oCAAC,OAAM;8CAAQ;;;;;;8CAC3B,8OAAC,+IAAW;oCAAC,OAAM;8CAAU;;;;;;8CAC7B,8OAAC,+IAAW;oCAAC,OAAM;8CAAW;;;;;;8CAC9B,8OAAC,+IAAW;oCAAC,OAAM;8CAAgB;;;;;;;;;;;;sCAGrC,8OAAC,+IAAW;4BAAC,OAAM;4BAAQ,WAAU;sCACnC,cAAA,8OAAC;gCAAI,WAAU;;kDAEb,8OAAC;wCAAI,WAAU;kDACZ,CAAC,wBACA,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;;;;;8DACf,8OAAC;oDAAE,WAAU;8DAAwB;;;;;;;;;;;mDAErC,wBACF,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;;;;;8DACf,8OAAC;oDAAE,WAAU;8DAAwB;;;;;;;;;;;mDAErC,cAAc,MAAM,KAAK,kBAC3B,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,6MAAK;oDAAC,WAAU;;;;;;8DACjB,8OAAC;oDAAG,WAAU;8DAA6B;;;;;;8DAC3C,8OAAC;oDAAE,WAAU;8DAAwB;;;;;;;;;;;mDAKvC,cAAc,GAAG,CAAC,CAAC,qBACjB,8OAAC;0DACC,cAAA,8OAAC,gKAAa;oDACZ,MAAM;oDACN,YAAY,KAAK,IAAI,EAAE,aAAa,KAAK,IAAI,EAAE,YAAY;oDAC3D,cAAc,KAAK,IAAI,EAAE;;;;;;+CAJnB,KAAK,EAAE;;;;;;;;;;kDAYvB,8OAAC;wCAAI,WAAU;;0DAEb,8OAAC,wIAAI;;kEACH,8OAAC,8IAAU;kEACT,cAAA,8OAAC,6IAAS;4DAAC,WAAU;sEAAU;;;;;;;;;;;kEAEjC,8OAAC,+IAAW;wDAAC,WAAU;kEACrB,cAAA,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;sFAAK;;;;;;sFACN,8OAAC;4EAAK,WAAU;sFAAc;;;;;;;;;;;;8EAEhC,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;sFAAK;;;;;;sFACN,8OAAC;4EAAK,WAAU;sFAAc;;;;;;;;;;;;8EAEhC,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;sFAAK;;;;;;sFACN,8OAAC;4EAAK,WAAU;sFAAc;;;;;;;;;;;;8EAEhC,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;sFAAK;;;;;;sFACN,8OAAC;4EAAK,WAAU;sFAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0DAOtC,8OAAC,wIAAI;;kEACH,8OAAC,8IAAU;kEACT,cAAA,8OAAC,6IAAS;4DAAC,WAAU;sEAAU;;;;;;;;;;;kEAEjC,8OAAC,+IAAW;wDAAC,WAAU;kEACpB;4DAAC;4DAAW;4DAAkB;4DAAe;4DAAU;yDAAa,CAAC,GAAG,CAAC,CAAC,sBACzE,8OAAC;gEAAgB,WAAU;;kFACzB,8OAAC;wEAAK,WAAU;kFAAuB;;;;;;kFACvC,8OAAC,0IAAK;wEAAC,SAAQ;wEAAY,WAAU;kFAClC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,MAAM;;;;;;;+DAH5B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAatB,8OAAC,+IAAW;4BAAC,OAAM;sCACjB,cAAA,8OAAC,4JAAW;;;;;;;;;;sCAGd,8OAAC,+IAAW;4BAAC,OAAM;sCACjB,cAAA,8OAAC,gKAAa;;;;;;;;;;sCAGhB,8OAAC,+IAAW;4BAAC,OAAM;sCACjB,cAAA,8OAAC,wIAAI;;kDACH,8OAAC,8IAAU;kDACT,cAAA,8OAAC,6IAAS;sDAAC;;;;;;;;;;;kDAEb,8OAAC,+IAAW;kDACV,cAAA,8OAAC;4CAAI,WAAU;;8DACb,8OAAC,0MAAI;oDAAC,WAAU;;;;;;8DAChB,8OAAC;oDAAG,WAAU;8DAA6B;;;;;;8DAC3C,8OAAC;oDAAE,WAAU;8DAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWvD"}}]
}