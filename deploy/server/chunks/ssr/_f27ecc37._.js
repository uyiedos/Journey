module.exports=[24348,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(187),e=a.i(68114);let f=(0,d.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),g=c.forwardRef(({className:a,variant:c,...d},g)=>(0,b.jsx)("div",{ref:g,role:"alert",className:(0,e.cn)(f({variant:c}),a),...d}));g.displayName="Alert",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("h5",{ref:d,className:(0,e.cn)("mb-1 font-medium leading-none tracking-tight",a),...c})).displayName="AlertTitle";let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:(0,e.cn)("text-sm [&_p]:leading-relaxed",a),...c}));h.displayName="AlertDescription",a.s(["Alert",()=>g,"AlertDescription",()=>h])},21374,a=>{"use strict";let b=(0,a.i(70106).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],21374)},92759,a=>{"use strict";let b=(0,a.i(70106).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],92759)},45222,a=>{"use strict";let b=(0,a.i(70106).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);a.s(["MessageCircle",()=>b],45222)},99272,a=>{"use strict";var b=a.i(87924),c=a.i(43897),d=a.i(99570),e=a.i(91119),f=a.i(38246),g=a.i(31067),h=a.i(76472),i=a.i(45222),j=a.i(17371);let k=(0,a.i(70106).default)("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);var l=a.i(8406);function m({children:a,action:m,fallback:n}){let{user:o}=(0,c.useAuth)();if(o)return(0,b.jsx)(b.Fragment,{children:a});if(n)return(0,b.jsx)(b.Fragment,{children:n});let p={post:{title:"Sign in to Post",description:"Join our community to share your thoughts and devotionals",icon:k},comment:{title:"Sign in to Comment",description:"Share your thoughts and engage with the community",icon:i.MessageCircle},like:{title:"Sign in to Like",description:"Show appreciation for posts that inspire you",icon:h.Heart},friend:{title:"Sign in to Add Friends",description:"Connect with others on their spiritual journey",icon:j.UserPlus},devotional:{title:"Sign in to Create Devotionals",description:"Share your insights and inspire others",icon:k},"ai-tools":{title:"Sign in to Use AI Tools",description:"Generate personalized reading plans, devotionals, and Bible studies with AI",icon:l.Sparkles}}[m],q=p.icon;return(0,b.jsx)(e.Card,{className:"border-dashed border-muted-foreground/30 bg-muted/30",children:(0,b.jsxs)(e.CardContent,{className:"p-6 text-center",children:[(0,b.jsx)("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mb-4",children:(0,b.jsx)(q,{className:"h-6 w-6 text-primary"})}),(0,b.jsx)(e.CardTitle,{className:"text-lg mb-2",children:p.title}),(0,b.jsx)(e.CardDescription,{className:"mb-4",children:p.description}),(0,b.jsx)(f.default,{href:"/auth",children:(0,b.jsxs)(d.Button,{className:"w-full",children:[(0,b.jsx)(g.LogIn,{className:"mr-2 h-4 w-4"}),"Sign In to Continue"]})})]})})}a.s(["AuthGuard",()=>m],99272)},28223,a=>{"use strict";var b=a.i(10849);let c=new class{async getPublicReadingPlans(){try{let{data:a,error:c}=await b.supabase.from("reading_plans").select("*").eq("is_public",!0).order("created_at",{ascending:!1});if(c)throw c;return a||[]}catch(a){return console.error("Error fetching reading plans:",a),[]}}async getReadingPlanById(a){if(!a)return console.error("Error: No ID provided to getReadingPlanById"),null;try{console.log(`Fetching reading plan with ID: ${a}`);let{data:c,error:d}=await b.supabase.from("reading_plans").select("*").eq("id",a).single();if(d)throw console.error("Supabase error details:",{message:d.message,details:d.details,hint:d.hint}),d;if(!c)return console.error(`No reading plan found with ID: ${a}`),null;return c}catch(b){return console.error("Error in getReadingPlanById:",{error:b,errorString:String(b),errorObject:JSON.stringify(b,Object.getOwnPropertyNames(b)),planId:a}),null}}async startReadingPlan(a,c){try{let{data:d,error:e}=await b.supabase.from("user_reading_plans").insert([{user_id:a,plan_id:c,started_at:new Date().toISOString(),current_day:1,is_active:!0}]).select().single();if(e)throw e;return await this.awardPoints(a,10,"Started a reading plan"),d}catch(a){throw console.error("Error starting reading plan:",a),a}}async getUserReadingPlans(a){try{let{data:c,error:d}=await b.supabase.from("user_reading_plans").select(`
          *,
          reading_plans (*)
        `).eq("user_id",a).order("started_at",{ascending:!1});if(d)throw d;return c||[]}catch(a){return console.error("Error fetching user reading plans:",a),[]}}async getPlanProgress(a,c){try{let{data:d,error:e}=await b.supabase.from("reading_plan_progress").select("*").eq("user_id",a).eq("plan_id",c).order("day_number",{ascending:!0});if(e)throw e;return d||[]}catch(a){return console.error("Error fetching plan progress:",a),[]}}async completeDay(a,c,d,e){try{let{data:f,error:g}=await b.supabase.from("reading_plan_progress").upsert([{user_id:a,plan_id:c,day:d,completed:!0,completed_at:new Date().toISOString(),notes:e||null,points_earned:5}]).select().single();if(g)throw g;return await this.awardPoints(a,5,"Completed a reading plan day"),await b.supabase.from("user_reading_plans").update({current_day:d+1,updated_at:new Date().toISOString()}).eq("user_id",a).eq("plan_id",c),f}catch(a){throw console.error("Error completing day:",a),a}}async completeReadingPlan(a,c){try{let d=await this.getReadingPlanById(c);if(!d)throw Error("Plan not found");let e=2*d.duration,{data:f,error:g}=await b.supabase.from("user_reading_plans").update({is_active:!1,completed_at:new Date().toISOString()}).eq("user_id",a).eq("plan_id",c).select().single();if(g)throw g;return await this.awardPoints(a,e,"Completed a reading plan"),f}catch(a){throw console.error("Error completing reading plan:",a),a}}async awardPoints(a,c,d){try{let{error:e}=await b.supabase.rpc("increment_user_points",{p_user_id:a,p_points:c});if(e)throw e;let{error:f}=await b.supabase.from("activities").insert([{user_id:a,type:"reading_plan",description:d,points:c,created_at:new Date().toISOString()}]);if(f)throw f}catch(a){console.error("Error awarding points:",a)}}async getPlanStats(a){try{let{data:c,error:d}=await b.supabase.from("user_reading_plans").select("is_completed").eq("plan_id",a);if(d)throw d;let e=c?.length||0,f=c?.filter(a=>a.is_completed).length||0;return{totalParticipants:e,averageCompletion:e>0?f/e*100:0,totalCompletions:f}}catch(a){return console.error("Error fetching plan stats:",a),{totalParticipants:0,averageCompletion:0,totalCompletions:0}}}async createReadingPlan(a){try{let{data:c,error:d}=await b.supabase.from("reading_plans").insert([a]).select().single();if(d)throw d;return c}catch(a){throw console.error("Error creating reading plan:",a),a}}};a.s(["readingPlanService",0,c])},97847,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(65402),e=a.i(4962),f=a.i(50791),g=a.i(99272),h=a.i(91119),i=a.i(86304),j=a.i(99570),k=a.i(8406),l=a.i(53722),m=a.i(21374),n=a.i(3887),o=a.i(76472),p=a.i(28223),q=a.i(43897),r=a.i(38246);function s(){let{user:a}=(0,q.useAuth)(),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0);(0,c.useEffect)(()=>{w()},[a]);let w=async()=>{if(a)try{v(!0);let b=(await p.readingPlanService.getUserReadingPlans(a.id)).filter(a=>a.reading_plans?.id?.includes("virgo-")||a.reading_plans?.description?.includes("Virgo, Master of Scriptures"));t(b)}catch(a){console.error("Error fetching Virgo plans:",a)}finally{v(!1)}};return(0,b.jsx)(d.Layout,{children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,b.jsx)(k.Sparkles,{className:"h-8 w-8 text-purple-600"}),(0,b.jsx)(n.Cross,{className:"h-6 w-6 text-blue-600"}),(0,b.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Virgo AI"}),(0,b.jsx)(n.Cross,{className:"h-6 w-6 text-blue-600"}),(0,b.jsx)(k.Sparkles,{className:"h-8 w-8 text-purple-600"})]}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Meet Virgo, Master of Scriptures, empowered by the Holy Trinity. Let divine wisdom guide your spiritual journey through personalized reading plans."})]}),(0,b.jsx)(g.AuthGuard,{action:"ai-tools",children:(0,b.jsx)(e.VirgoAI,{onPlanCreated:a=>{t(b=>[a,...b])}})}),(0,b.jsx)(g.AuthGuard,{action:"ai-tools",children:(0,b.jsx)(f.AskVirgo,{})}),s.length>0&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,b.jsx)(l.BookOpen,{className:"h-6 w-6"}),"Your Divine Reading Plans"]}),(0,b.jsx)("div",{className:"grid gap-4",children:s.map(a=>(0,b.jsxs)(h.Card,{className:"border-2 border-purple-200 bg-purple-50 dark:border-purple-800 dark:bg-purple-950",children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)(h.CardTitle,{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.Star,{className:"h-5 w-5 text-purple-600"}),a.reading_plans?.title||"Untitled Plan"]}),(0,b.jsx)(i.Badge,{variant:"outline",className:"border-purple-600 text-purple-600",children:a.reading_plans?.difficulty||"beginner"})]})}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:a.reading_plans?.description||"No description available"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,b.jsxs)("span",{children:[a.reading_plans?.duration||0," days"]}),(0,b.jsxs)("span",{children:[a.reading_plans?.readings?.length||0," readings"]})]}),(0,b.jsx)(j.Button,{asChild:!0,size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:(0,b.jsx)(r.default,{href:`/plans/${a.reading_plans?.id}`,children:"Continue Journey"})})]}),(0,b.jsx)("div",{className:"text-xs text-purple-600 italic",children:"Created by Virgo, Master of Scriptures"})]})]},a.id))})]}),(0,b.jsxs)(h.Card,{className:"border-2 bg-gradient-to-br from-purple-50 to-blue-50 dark:from-purple-950 dark:to-blue-950",children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(o.Heart,{className:"h-5 w-5 text-purple-600"}),"Virgo's Divine Capabilities"]})}),(0,b.jsx)(h.CardContent,{children:(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,b.jsx)(k.Sparkles,{className:"h-4 w-4"}),"Sacred Wisdom"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Guided by the Holy Trinity, Virgo provides profound insights into scripture and spiritual matters."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,b.jsx)(l.BookOpen,{className:"h-4 w-4"}),"Custom Reading Plans"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Personalized reading schedules tailored to your spiritual journey and current needs."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,b.jsx)(n.Cross,{className:"h-4 w-4"}),"Trinity-Based Guidance"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"All wisdom flows through the divine connection of Father, Son, and Holy Spirit."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,b.jsx)(m.Star,{className:"h-4 w-4"}),"Mystical Knowledge"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Access to both known and unknown spiritual truths through divine revelation."})]})]})})]})]})})}a.s(["default",()=>s])}];

//# sourceMappingURL=_f27ecc37._.js.map