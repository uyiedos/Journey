(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,85665,26999,64030,58377,10084,39616,45423,63059,43553,55436,73887,e=>{"use strict";let t,a;var r,s=e.i(43476),n=e.i(932),i=e.i(71645),l=e.i(22016),o=e.i(19455),c=e.i(99676),d=e.i(87486),m=e.i(46462),u=e.i(69908),h=e.i(18566),f=e.i(81140),p=e.i(20783),x=e.i(10772),g=e.i(69340),y=e.i(26330),b=e.i(65491),v=e.i(74606),j=e.i(96626);function N(e){var t;let a,r=(t=e,(a=i.forwardRef((e,t)=>{let{children:a,...r}=e;if(i.isValidElement(a)){var s;let e,n,l=(s=a,(n=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(n=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),o=function(e,t){let a={...t};for(let r in t){let s=e[r],n=t[r];/^on[A-Z]/.test(r)?s&&n?a[r]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(a[r]=s):"style"===r?a[r]={...s,...n}:"className"===r&&(a[r]=[s,n].filter(Boolean).join(" "))}return{...e,...a}}(r,a.props);return a.type!==i.Fragment&&(o.ref=t?(0,p.composeRefs)(t,l):l),i.cloneElement(a,o)}return i.Children.count(a)>1?i.Children.only(null):null})).displayName=`${t}.SlotClone`,a),n=i.forwardRef((e,t)=>{let{children:a,...n}=e,l=i.Children.toArray(a),o=l.find(C);if(o){let e=o.props.children,a=l.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,s.jsx)(r,{...n,ref:t,children:i.isValidElement(e)?i.cloneElement(e,void 0,a):null})}return(0,s.jsx)(r,{...n,ref:t,children:a})});return n.displayName=`${e}.Slot`,n}e.i(74080);var w=Symbol("radix.slottable");function C(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===w}var k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let a=N(`Primitive.${t}`),r=i.forwardRef((e,r)=>{let{asChild:n,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(n?a:t,{...i,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),_=e.i(3536),S=e.i(85369),D=e.i(86312),R="Dialog",[E,P]=function(e,t=[]){let a=[],r=()=>{let t=a.map(e=>i.createContext(e));return function(a){let r=a?.[e]||t;return i.useMemo(()=>({[`__scope${e}`]:{...a,[e]:r}}),[a,r])}};return r.scopeName=e,[function(t,r){let n=i.createContext(r),l=a.length;a=[...a,r];let o=t=>{let{scope:a,children:r,...o}=t,c=a?.[e]?.[l]||n,d=i.useMemo(()=>o,Object.values(o));return(0,s.jsx)(c.Provider,{value:d,children:r})};return o.displayName=t+"Provider",[o,function(a,s){let o=s?.[e]?.[l]||n,c=i.useContext(o);if(c)return c;if(void 0!==r)return r;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=a.reduce((t,{useScope:a,scopeName:r})=>{let s=a(e)[`__scope${r}`];return{...t,...s}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return a.scopeName=t.scopeName,a}(r,...t)]}(R),[A,O]=E(R),B=e=>{let{__scopeDialog:t,children:a,open:r,defaultOpen:n,onOpenChange:l,modal:o=!0}=e,c=i.useRef(null),d=i.useRef(null),[m,u]=(0,g.useControllableState)({prop:r,defaultProp:n??!1,onChange:l,caller:R});return(0,s.jsx)(A,{scope:t,triggerRef:c,contentRef:d,contentId:(0,x.useId)(),titleId:(0,x.useId)(),descriptionId:(0,x.useId)(),open:m,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(e=>!e),[u]),modal:o,children:a})};B.displayName=R;var I="DialogTrigger",U=i.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=O(I,a),i=(0,p.useComposedRefs)(t,n.triggerRef);return(0,s.jsx)(k.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":ea(n.open),...r,ref:i,onClick:(0,f.composeEventHandlers)(e.onClick,n.onOpenToggle)})});U.displayName=I;var M="DialogPortal",[T,F]=E(M,{forceMount:void 0}),$=e=>{let{__scopeDialog:t,forceMount:a,children:r,container:n}=e,l=O(M,t);return(0,s.jsx)(T,{scope:t,forceMount:a,children:i.Children.map(r,e=>(0,s.jsx)(j.Presence,{present:a||l.open,children:(0,s.jsx)(v.Portal,{asChild:!0,container:n,children:e})}))})};$.displayName=M;var H="DialogOverlay",z=i.forwardRef((e,t)=>{let a=F(H,e.__scopeDialog),{forceMount:r=a.forceMount,...n}=e,i=O(H,e.__scopeDialog);return i.modal?(0,s.jsx)(j.Presence,{present:r||i.open,children:(0,s.jsx)(V,{...n,ref:t})}):null});z.displayName=H;var L=N("DialogOverlay.RemoveScroll"),V=i.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=O(H,a);return(0,s.jsx)(S.RemoveScroll,{as:L,allowPinchZoom:!0,shards:[n.contentRef],children:(0,s.jsx)(k.div,{"data-state":ea(n.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Y="DialogContent",J=i.forwardRef((e,t)=>{let a=F(Y,e.__scopeDialog),{forceMount:r=a.forceMount,...n}=e,i=O(Y,e.__scopeDialog);return(0,s.jsx)(j.Presence,{present:r||i.open,children:i.modal?(0,s.jsx)(q,{...n,ref:t}):(0,s.jsx)(G,{...n,ref:t})})});J.displayName=Y;var q=i.forwardRef((e,t)=>{let a=O(Y,e.__scopeDialog),r=i.useRef(null),n=(0,p.useComposedRefs)(t,a.contentRef,r);return i.useEffect(()=>{let e=r.current;if(e)return(0,D.hideOthers)(e)},[]),(0,s.jsx)(W,{...e,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,f.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:(0,f.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,f.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),G=i.forwardRef((e,t)=>{let a=O(Y,e.__scopeDialog),r=i.useRef(!1),n=i.useRef(!1);return(0,s.jsx)(W,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||a.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(n.current=!0));let s=t.target;a.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),W=i.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:l,...o}=e,c=O(Y,a),d=i.useRef(null),m=(0,p.useComposedRefs)(t,d);return(0,_.useFocusGuards)(),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.FocusScope,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:l,children:(0,s.jsx)(y.DismissableLayer,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ea(c.open),...o,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ei,{titleId:c.titleId}),(0,s.jsx)(el,{contentRef:d,descriptionId:c.descriptionId})]})]})}),K="DialogTitle",X=i.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=O(K,a);return(0,s.jsx)(k.h2,{id:n.titleId,...r,ref:t})});X.displayName=K;var Z="DialogDescription",Q=i.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=O(Z,a);return(0,s.jsx)(k.p,{id:n.descriptionId,...r,ref:t})});Q.displayName=Z;var ee="DialogClose",et=i.forwardRef((e,t)=>{let{__scopeDialog:a,...r}=e,n=O(ee,a);return(0,s.jsx)(k.button,{type:"button",...r,ref:t,onClick:(0,f.composeEventHandlers)(e.onClick,()=>n.onOpenChange(!1))})});function ea(e){return e?"open":"closed"}et.displayName=ee;var er="DialogTitleWarning",[es,en]=(r={contentName:Y,titleName:K,docsSlug:"dialog"},t=i.createContext(r),(a=e=>{let{children:a,...r}=e,n=i.useMemo(()=>r,Object.values(r));return(0,s.jsx)(t.Provider,{value:n,children:a})}).displayName=er+"Provider",[a,function(e){let a=i.useContext(t);if(a)return a;if(void 0!==r)return r;throw Error(`\`${e}\` must be used within \`${er}\``)}]),ei=({titleId:e})=>{let t=en(er),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},el=({contentRef:e,descriptionId:t})=>{let a=en("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return i.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null};e.s(["Close",()=>et,"Content",()=>J,"Description",()=>Q,"Overlay",()=>z,"Portal",()=>$,"Root",()=>B,"Title",()=>X,"Trigger",()=>U],26999);var eo=e.i(25913),ec=e.i(37727),ed=e.i(75157);let em=i.forwardRef((e,t)=>{let a,r,i,l,o=(0,n.c)(9);return o[0]!==e?({className:a,...r}=e,o[0]=e,o[1]=a,o[2]=r):(a=o[1],r=o[2]),o[3]!==a?(i=(0,ed.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),o[3]=a,o[4]=i):i=o[4],o[5]!==r||o[6]!==t||o[7]!==i?(l=(0,s.jsx)(z,{className:i,...r,ref:t}),o[5]=r,o[6]=t,o[7]=i,o[8]=l):l=o[8],l});em.displayName=z.displayName;let eu=(0,eo.cva)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),eh=i.forwardRef((e,t)=>{let a,r,i,l,o,c,d,m,u=(0,n.c)(15);u[0]!==e?({side:l,className:r,children:a,...i}=e,u[0]=e,u[1]=a,u[2]=r,u[3]=i,u[4]=l):(a=u[1],r=u[2],i=u[3],l=u[4]);let h=void 0===l?"right":l;return u[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,s.jsx)(em,{}),u[5]=o):o=u[5],u[6]!==r||u[7]!==h?(c=(0,ed.cn)(eu({side:h}),r),u[6]=r,u[7]=h,u[8]=c):c=u[8],u[9]===Symbol.for("react.memo_cache_sentinel")?(d=(0,s.jsxs)(et,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(ec.X,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]}),u[9]=d):d=u[9],u[10]!==a||u[11]!==i||u[12]!==t||u[13]!==c?(m=(0,s.jsxs)($,{children:[o,(0,s.jsxs)(J,{ref:t,className:c,...i,children:[a,d]})]}),u[10]=a,u[11]=i,u[12]=t,u[13]=c,u[14]=m):m=u[14],m});eh.displayName=J.displayName;let ef=e=>{let t,a,r,i,l=(0,n.c)(8);return l[0]!==e?({className:t,...a}=e,l[0]=e,l[1]=t,l[2]=a):(t=l[1],a=l[2]),l[3]!==t?(r=(0,ed.cn)("flex flex-col space-y-2 text-center sm:text-left",t),l[3]=t,l[4]=r):r=l[4],l[5]!==a||l[6]!==r?(i=(0,s.jsx)("div",{className:r,...a}),l[5]=a,l[6]=r,l[7]=i):i=l[7],i};ef.displayName="SheetHeader";let ep=i.forwardRef((e,t)=>{let a,r,i,l,o=(0,n.c)(9);return o[0]!==e?({className:a,...r}=e,o[0]=e,o[1]=a,o[2]=r):(a=o[1],r=o[2]),o[3]!==a?(i=(0,ed.cn)("text-lg font-semibold text-foreground",a),o[3]=a,o[4]=i):i=o[4],o[5]!==r||o[6]!==t||o[7]!==i?(l=(0,s.jsx)(X,{ref:t,className:i,...r}),o[5]=r,o[6]=t,o[7]=i,o[8]=l):l=o[8],l});ep.displayName=X.displayName,i.forwardRef((e,t)=>{let a,r,i,l,o=(0,n.c)(9);return o[0]!==e?({className:a,...r}=e,o[0]=e,o[1]=a,o[2]=r):(a=o[1],r=o[2]),o[3]!==a?(i=(0,ed.cn)("text-sm text-muted-foreground",a),o[3]=a,o[4]=i):i=o[4],o[5]!==r||o[6]!==t||o[7]!==i?(l=(0,s.jsx)(Q,{ref:t,className:i,...r}),o[5]=r,o[6]=t,o[7]=i,o[8]=l):l=o[8],l}).displayName=Q.displayName;var ex=e.i(15288),eg=e.i(94773);let ey=class{static showNotification(e){console.log(`[${e.type.toUpperCase()}] ${e.title}: ${e.message}`),"Notification"in window&&"granted"===Notification.permission&&new Notification(e.title,{body:e.message,icon:e.icon||"/favicon.ico"})}static showAchievementNotification(e,t){this.showNotification({type:"achievement",title:e,message:`You earned ${t} points!`,icon:"trophy",duration:5e3})}static showStreakNotification(e){this.showNotification({type:"streak",title:"Streak Updated!",message:`You're on a ${e}-day streak!`,icon:"flame",duration:5e3})}};var eb=e.i(27142),ev=e.i(30699),ej=e.i(83086),eN=e.i(3116),ew=e.i(69638),eC=e.i(75254);let ek=(0,eC.default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);e.s(["Trophy",()=>ek],64030);let e_=(0,eC.default)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]);function eS(){let{user:e}=(0,m.useAuth)(),{user:t,refreshData:a}=(0,u.useUserData)(),[r,n]=(0,i.useState)({canClaim:!1,claimedToday:!1}),[l,c]=(0,i.useState)(!1),[h,f]=(0,i.useState)(new Date),p=async()=>{if(e)try{let a,r=new Date,s=eb.supabaseService.getClient(),{data:i,error:l}=await s.from("daily_login_rewards").select("*").eq("user_id",e.id).gte("created_at",new Date(r.getTime()-864e5).toISOString()).order("created_at",{ascending:!1}).limit(1).maybeSingle(),o=!!i;if(o&&i?.created_at){let e=new Date(i.created_at);a=new Date(e.getTime()+864e5)}n({canClaim:!o,claimedToday:o,nextClaimTime:o?a:void 0,pointsAwarded:i?.points_awarded,streak:t?.streak||0})}catch(e){console.error("Error checking claim status:",e),n({canClaim:!0,claimedToday:!1,streak:t?.streak||0})}},x=async()=>{if(e&&r.canClaim&&!l){c(!0);try{let t=await eg.achievementService.trackDailyLogin(e.id);t.pointsAwarded>0&&(await ey.showNotification({type:"achievement",title:"Daily Points Claimed!",message:`You earned ${t.pointsAwarded} points!`,icon:"gift",duration:5e3}),await a(),await p())}catch(e){console.error("Error claiming daily points:",e),await ey.showNotification({type:"error",title:"Claim Failed",message:"Unable to claim daily points. Please try again.",icon:"error",duration:5e3})}finally{c(!1)}}};return((0,i.useEffect)(()=>{e&&p()},[e,t?.streak]),(0,i.useEffect)(()=>{let e=setInterval(()=>{f(new Date)},6e4);return()=>clearInterval(e)},[]),e)?r.claimedToday?(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)(d.Badge,{className:"px-2 py-1 bg-green-100 text-green-800 border-green-200",children:[(0,s.jsx)(ew.CheckCircle,{className:"h-3 w-3 mr-1"}),"Claimed"]})}):(0,s.jsxs)(ex.Card,{className:"bg-linear-to-br from-yellow-50 to-orange-50 border-yellow-200",children:[(0,s.jsxs)(ex.CardHeader,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-linear-to-br from-yellow-400 to-orange-500 rounded-lg flex items-center justify-center",children:(0,s.jsx)(ev.Gift,{className:"h-4 w-4 text-white"})}),(0,s.jsx)(ex.CardTitle,{className:"text-lg text-gray-900",children:"Daily Points"})]}),r.streak&&r.streak>0&&(0,s.jsxs)(d.Badge,{className:"bg-orange-100 text-orange-800 border-orange-200",children:[(0,s.jsx)(e_,{className:"h-3 w-3 mr-1"}),r.streak," day streak"]})]}),(0,s.jsx)(ex.CardDescription,{className:"text-gray-700 dark:text-gray-300",children:"Claim your daily points and maintain your streak!"})]}),(0,s.jsx)(ex.CardContent,{className:"pt-0",children:r.canClaim?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(o.Button,{onClick:x,disabled:l,className:"w-full bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white shadow-lg transition-all duration-200 hover:shadow-xl",children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Claiming..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ev.Gift,{className:"mr-2 h-4 w-4"}),"Claim Daily Points",(0,s.jsx)(ej.Sparkles,{className:"ml-2 h-4 w-4"})]})}),(0,s.jsxs)("div",{className:"text-center text-sm text-gray-700 dark:text-gray-300",children:[(0,s.jsx)(ek,{className:"h-3 w-3 inline mr-1"}),"Earn points and maintain your streak!"]})]}):r.nextClaimTime?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[(0,s.jsx)(ew.CheckCircle,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"font-medium",children:"Already claimed today!"})]}),(0,s.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:[(0,s.jsx)(eN.Clock,{className:"h-3 w-3 inline mr-1"}),"Next claim: ",r.nextClaimTime.toLocaleTimeString()]})]}):null})]}):null}function eD(){let{user:e}=(0,m.useAuth)(),{user:t,refreshData:a}=(0,u.useUserData)(),[r,n]=(0,i.useState)({canClaim:!1,claimedToday:!1}),[l,c]=(0,i.useState)(!1),d=async()=>{if(e)try{let a=new Date,r=eb.supabaseService.getClient(),{data:s}=await r.from("daily_login_rewards").select("*").eq("user_id",e.id).gte("created_at",new Date(a.getTime()-864e5).toISOString()).order("created_at",{ascending:!1}).limit(1).maybeSingle(),i=!!s;n({canClaim:!i,claimedToday:i,streak:t?.streak||0})}catch(e){n({canClaim:!0,claimedToday:!1,streak:t?.streak||0})}},h=async()=>{if(e&&r.canClaim&&!l){c(!0);try{let t=await eg.achievementService.trackDailyLogin(e.id);t.pointsAwarded>0&&(await ey.showNotification({type:"achievement",title:"Daily Points Claimed!",message:`You earned ${t.pointsAwarded} points!`,icon:"gift",duration:5e3}),await a(),await d())}catch(e){console.error("Error claiming daily points:",e)}finally{c(!1)}}};return((0,i.useEffect)(()=>{e&&d()},[e]),!e||r.claimedToday)?null:(0,s.jsx)(o.Button,{onClick:h,disabled:l,size:"sm",className:"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white shadow-md transition-all duration-200",children:l?(0,s.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ev.Gift,{className:"h-3 w-3 mr-1"}),"Claim"]})})}e.s(["Flame",()=>e_],58377),e.s(["DailyPointsClaim",()=>eS,"DailyPointsClaimCompact",()=>eD],10084);var eR=e.i(10980),eE=e.i(90597),eP=e.i(87316),eA=e.i(61911);let eO=(0,eC.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>eO],39616);let eB=(0,eC.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),eI=(0,eC.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),eU=(0,eC.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);e.s(["Bell",()=>eU],45423);var eM=e.i(84614);let eT=(0,eC.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),eF=(0,eC.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>eF],63059);let e$=(0,eC.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);function eH(){let e,t,a,r,c,d,m,f,p,x,g,y,b,v,j,N,w,C,k,_=(0,n.c)(66),S=(0,h.usePathname)(),{user:D}=(0,u.useUserData)(),[R,E]=(0,i.useState)(!1);if(_[0]!==R||_[1]!==S||_[2]!==D?.level||_[3]!==D?.points||_[4]!==D?.streak||_[5]!==D?.username){let n,i,u,h,b,v,j,N,w,C,k,P,A=[{name:"Home",href:"/",icon:eB,color:"text-blue-500",bgColor:"bg-blue-50 hover:bg-blue-100",description:"Dashboard & Overview"},{name:"Bible",href:"/bible",icon:eR.BookOpen,color:"text-green-500",bgColor:"bg-linear-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200",description:"Read Scripture"},{name:"Devotionals",href:"/devotionals",icon:eE.Heart,color:"text-pink-500",bgColor:"bg-pink-50 hover:bg-pink-100",description:"Daily Reflections"},{name:"Reading Plans",href:"/plans",icon:eP.Calendar,color:"text-purple-500",bgColor:"bg-purple-50 hover:bg-purple-100",description:"Structured Learning"},{name:"Community",href:"/community",icon:eA.Users,color:"text-orange-500",bgColor:"bg-orange-50 hover:bg-orange-100",description:"Connect & Share"},{name:"Leaderboard",href:"/leaderboard",icon:e$,color:"text-purple-500",bgColor:"bg-purple-50 hover:bg-purple-100",description:"Top Rankings"},{name:"Achievements",href:"/achievements",icon:ek,color:"text-yellow-500",bgColor:"bg-yellow-50 hover:bg-yellow-100",description:"Your Progress"},{name:"Donations",href:"/donations",icon:ev.Gift,color:"text-pink-500",bgColor:"bg-pink-50 hover:bg-pink-100",description:"Support & Tokens"},{name:"Settings",href:"/settings",icon:eO,color:"text-gray-500",bgColor:"bg-gray-50 hover:bg-gray-100",description:"Preferences"}];_[18]===Symbol.for("react.memo_cache_sentinel")?(n=()=>E(!1),_[18]=n):n=_[18];let O=n;t=B,x=R,g=E,_[19]===Symbol.for("react.memo_cache_sentinel")?(y=(0,s.jsx)(U,{asChild:!0,children:(0,s.jsx)(o.Button,{variant:"ghost",size:"icon",className:"md:hidden h-12 w-12 rounded-full shadow-lg bg-primary/10 hover:bg-primary/20 transition-all duration-200",children:(0,s.jsx)(eI,{className:"h-6 w-6"})})}),_[19]=y):y=_[19],e=eh,d="left",m="w-80 p-0 overflow-hidden",_[20]===Symbol.for("react.memo_cache_sentinel")?(i=(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-linear-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,s.jsx)(eR.BookOpen,{className:"h-6 w-6 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(ep,{className:"text-lg font-bold",children:"Journey"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your Spiritual Path"})]})]}),_[20]=i):i=_[20],_[21]===Symbol.for("react.memo_cache_sentinel")?(f=(0,s.jsx)(ef,{className:"p-6 pb-4 border-b",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[i,(0,s.jsx)(o.Button,{variant:"ghost",size:"icon",onClick:O,children:(0,s.jsx)(ec.X,{className:"h-5 w-5"})})]})}),_[21]=f):f=_[21],_[22]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-linear-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:(0,s.jsx)(eM.User,{className:"h-6 w-6 text-white"})}),(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-background"})]}),_[22]=u):u=_[22];let I=D?.username||"Guest";_[23]!==I?(h=(0,s.jsx)("div",{className:"font-semibold",children:I}),_[23]=I,_[24]=h):h=_[24];let M=D?.level||1;_[25]!==M?(b=(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Level ",M]}),_[25]=M,_[26]=b):b=_[26],_[27]!==h||_[28]!==b?(v=(0,s.jsxs)("div",{className:"flex-1",children:[h,b]}),_[27]=h,_[28]=b,_[29]=v):v=_[29],_[30]===Symbol.for("react.memo_cache_sentinel")?(j=(0,s.jsx)(ek,{className:"h-4 w-4 text-yellow-500"}),_[30]=j):j=_[30],_[31]!==D?.points?(N=D?.points?.toLocaleString()||0,_[31]=D?.points,_[32]=N):N=_[32],_[33]!==N?(w=(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm font-medium",children:[j,(0,s.jsx)("span",{children:N})]}),_[33]=N,_[34]=w):w=_[34],_[35]===Symbol.for("react.memo_cache_sentinel")?(C=(0,s.jsx)(e_,{className:"h-4 w-4 text-orange-500"}),_[35]=C):C=_[35];let T=D?.streak||0;_[36]!==T?(k=(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[C,(0,s.jsxs)("span",{children:[T," days"]})]}),_[36]=T,_[37]=k):k=_[37],_[38]!==w||_[39]!==k?(P=(0,s.jsxs)("div",{className:"text-right",children:[w,k]}),_[38]=w,_[39]=k,_[40]=P):P=_[40],_[41]!==v||_[42]!==P?(p=(0,s.jsx)("div",{className:"p-6 pb-4 border-b",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[u,v,P]})}),_[41]=v,_[42]=P,_[43]=p):p=_[43],c="flex-1 overflow-y-auto p-4",a="space-y-2",r=A.map(e=>{let t=S===e.href,a=e.icon;return(0,s.jsx)(l.default,{href:e.href,onClick:O,children:(0,s.jsxs)("div",{className:(0,ed.cn)("flex items-center space-x-4 p-4 rounded-xl transition-all duration-200 group",t?"bg-primary text-primary-foreground shadow-lg scale-105":e.bgColor),children:[(0,s.jsx)("div",{className:(0,ed.cn)("w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200",t?"bg-primary-foreground/20":"bg-white shadow-sm group-hover:shadow-md"),children:(0,s.jsx)(a,{className:(0,ed.cn)("h-6 w-6 transition-all duration-200",t?"text-primary-foreground":e.color)})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:(0,ed.cn)("text-sm transition-all duration-200",t?"text-primary-foreground/80":"text-muted-foreground"),children:e.description})]}),(0,s.jsx)(eF,{className:(0,ed.cn)("h-5 w-5 transition-all duration-200",t?"text-primary-foreground":"text-muted-foreground")})]})},e.href)}),_[0]=R,_[1]=S,_[2]=D?.level,_[3]=D?.points,_[4]=D?.streak,_[5]=D?.username,_[6]=e,_[7]=t,_[8]=a,_[9]=r,_[10]=c,_[11]=d,_[12]=m,_[13]=f,_[14]=p,_[15]=x,_[16]=g,_[17]=y}else e=_[6],t=_[7],a=_[8],r=_[9],c=_[10],d=_[11],m=_[12],f=_[13],p=_[14],x=_[15],g=_[16],y=_[17];return _[44]!==a||_[45]!==r?(b=(0,s.jsx)("div",{className:a,children:r}),_[44]=a,_[45]=r,_[46]=b):b=_[46],_[47]!==b||_[48]!==c?(v=(0,s.jsx)("div",{className:c,children:b}),_[47]=b,_[48]=c,_[49]=v):v=_[49],_[50]===Symbol.for("react.memo_cache_sentinel")?(j=(0,s.jsx)(eD,{}),_[50]=j):j=_[50],_[51]===Symbol.for("react.memo_cache_sentinel")?(N=(0,s.jsxs)(o.Button,{variant:"outline",className:"h-12 space-x-2",children:[(0,s.jsx)(eU,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Notifications"})]}),_[51]=N):N=_[51],_[52]===Symbol.for("react.memo_cache_sentinel")?(w=(0,s.jsxs)("div",{className:"p-4 border-t space-y-3",children:[j,(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[N,(0,s.jsxs)(o.Button,{variant:"outline",className:"h-12 space-x-2",children:[(0,s.jsx)(eT,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Sign Out"})]})]})]}),_[52]=w):w=_[52],_[53]!==e||_[54]!==v||_[55]!==d||_[56]!==m||_[57]!==f||_[58]!==p?(C=(0,s.jsxs)(e,{side:d,className:m,children:[f,p,v,w]}),_[53]=e,_[54]=v,_[55]=d,_[56]=m,_[57]=f,_[58]=p,_[59]=C):C=_[59],_[60]!==t||_[61]!==C||_[62]!==x||_[63]!==g||_[64]!==y?(k=(0,s.jsxs)(t,{open:x,onOpenChange:g,children:[y,C]}),_[60]=t,_[61]=C,_[62]=x,_[63]=g,_[64]=y,_[65]=k):k=_[65],k}e.s(["Crown",()=>e$],43553);let ez=(0,eC.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>ez],55436);var eL=e.i(4997);function eV(){let e,t,a,r,i,h,f=(0,n.c)(14),{user:p,signOut:x}=(0,m.useAuth)(),{user:g}=(0,u.useUserData)();f[0]!==x?(e=async()=>{await x()},f[0]=x,f[1]=e):e=f[1];let y=e;return f[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)(eH,{}),f[2]=t):t=f[2],f[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[t,(0,s.jsxs)(l.default,{href:"/",className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-linear-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)(eR.BookOpen,{className:"h-3 w-3 sm:h-5 sm:w-5 text-white"})}),(0,s.jsx)("span",{className:"text-lg sm:text-xl font-bold bg-linear-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Journey"})]})]}),f[3]=a):a=f[3],f[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)(o.Button,{variant:"ghost",size:"icon",className:"hidden sm:flex h-8 w-8 sm:h-10 sm:w-10 rounded-full hover:bg-primary/10 transition-all duration-200",children:(0,s.jsx)(ez,{className:"h-4 w-4"})}),f[4]=r):r=f[4],f[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,s.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"relative h-8 w-8 sm:h-10 sm:w-10 rounded-full hover:bg-primary/10 transition-all duration-200",children:[(0,s.jsx)(eU,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"absolute -top-1 -right-1 h-2 w-2 sm:h-3 sm:w-3 bg-red-500 rounded-full border-2 border-background"})]}),f[5]=i):i=f[5],f[6]!==p||f[7]!==y||f[8]!==g?.avatar||f[9]!==g?.level||f[10]!==g?.points||f[11]!==g?.streak||f[12]!==g?.username?(h=(0,s.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60",children:(0,s.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[a,(0,s.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-4",children:[r,i,p?(0,s.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-4",children:[(0,s.jsx)(eD,{}),(0,s.jsxs)(d.Badge,{className:"hidden md:flex items-center space-x-1 px-2 py-1 sm:px-3 sm:py-1.5 bg-linear-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 shadow-sm",children:[(0,s.jsx)(ek,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"font-medium text-xs sm:text-sm",children:g?.points?.toLocaleString()||0})]}),(0,s.jsxs)(d.Badge,{className:"hidden md:flex items-center space-x-1 px-2 py-1 sm:px-3 sm:py-1.5 bg-linear-to-r from-orange-100 to-red-100 text-orange-800 border-orange-200 shadow-sm",children:[(0,s.jsx)(e_,{className:"h-3 w-3"}),(0,s.jsxs)("span",{className:"font-medium text-xs sm:text-sm",children:[g?.streak||0," days"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(c.Avatar,{className:"h-7 w-7 sm:h-9 sm:w-9 md:h-10 md:w-10 ring-2 ring-primary/10",children:[(0,s.jsx)(c.AvatarImage,{src:g?.avatar}),(0,s.jsx)(c.AvatarFallback,{className:"bg-linear-to-br from-blue-400 to-purple-500 text-white font-medium text-sm",children:p.email?.charAt(0).toUpperCase()||"U"})]}),(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-background"})]}),(0,s.jsxs)("div",{className:"hidden md:block",children:[(0,s.jsx)(l.default,{href:"/settings",className:"text-sm font-medium hover:text-primary transition-colors",children:g?.username||p.email?.split("@")[0]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Level ",g?.level||1]}),(0,s.jsxs)("div",{className:"text-xs text-blue-600 font-medium",children:["Ref: ",g?.username||p.email?.split("@")[0]]})]})]})]}),(0,s.jsx)(o.Button,{variant:"ghost",size:"icon",onClick:y,className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full hover:bg-red-50 hover:text-red-600 transition-all duration-200",children:(0,s.jsx)(eT,{className:"h-4 w-4"})})]}):(0,s.jsx)(l.default,{href:"/auth",children:(0,s.jsxs)(o.Button,{className:"h-8 px-3 sm:h-10 sm:px-6 bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg transition-all duration-200 text-xs sm:text-sm",children:[(0,s.jsx)(eL.LogIn,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Sign In"}),(0,s.jsx)("span",{className:"sm:hidden",children:"Login"})]})})]})]})}),f[6]=p,f[7]=y,f[8]=g?.avatar,f[9]=g?.level,f[10]=g?.points,f[11]=g?.streak,f[12]=g?.username,f[13]=h):h=f[13],h}let eY=(0,eC.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var eJ=e.i(79002);let eq=(0,eC.default)("cross",[["path",{d:"M4 9a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4a1 1 0 0 1 1 1v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a1 1 0 0 1 1-1h4a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-4a1 1 0 0 1-1-1V4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4a1 1 0 0 1-1 1z",key:"1xbrqy"}]]);e.s(["Cross",()=>eq],73887);let eG=[{name:"Home",href:"/",icon:eB},{name:"Bible",href:"/bible",icon:eR.BookOpen},{name:"Devotionals",href:"/devotionals",icon:eE.Heart},{name:"Reading Plans",href:"/plans",icon:eP.Calendar},{name:"Virgo AI",href:"/ai-tools",icon:eq},{name:"Community",href:"/community",icon:eA.Users},{name:"Leaderboard",href:"/leaderboard",icon:e$},{name:"Achievements",href:"/achievements",icon:ek},{name:"Referrals",href:"/referrals",icon:eJ.UserPlus},{name:"Donations",href:"/donations",icon:ev.Gift}];function eW(e){let t,a,r,i,c,f,p,x,g,y,b,v,j,N,w,C=(0,n.c)(30),{className:k}=e,_=(0,h.usePathname)(),{user:S}=(0,u.useUserData)(),{user:D}=(0,m.useAuth)(),R=D?.app_metadata?.role==="admin"||D?.app_metadata?.role==="owner";C[0]!==k?(t=(0,ed.cn)("pb-12 w-64 h-screen bg-white border-r border-gray-200 lg:border-r-0",k),C[0]=k,C[1]=t):t=C[1],C[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.jsx)("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:"Journey"}),C[2]=a):a=C[2],C[3]!==_?(r=eG.map(e=>(0,s.jsx)(o.Button,{variant:_===e.href?"secondary":"ghost",className:"w-full justify-start h-10 lg:h-9",asChild:!0,children:(0,s.jsxs)(l.default,{href:e.href,children:[(0,s.jsx)(e.icon,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{className:"hidden lg:inline",children:e.name}),(0,s.jsx)("span",{className:"lg:hidden",children:e.name.split(" ")[0]})]})},e.href)),C[3]=_,C[4]=r):r=C[4],C[5]!==r?(i=(0,s.jsxs)("div",{className:"px-3 py-2",children:[a,(0,s.jsx)("div",{className:"space-y-1",children:r})]}),C[5]=r,C[6]=i):i=C[6],C[7]!==R||C[8]!==_?(c=R&&(0,s.jsxs)("div",{className:"px-3 py-2",children:[(0,s.jsxs)("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:[(0,s.jsx)("span",{className:"hidden lg:inline",children:"Admin"}),(0,s.jsx)("span",{className:"lg:hidden",children:"Adm"})]}),(0,s.jsx)("div",{className:"space-y-1",children:(0,s.jsx)(o.Button,{variant:"/admin"===_?"secondary":"ghost",className:"w-full justify-start h-10 lg:h-9",asChild:!0,children:(0,s.jsxs)(l.default,{href:"/admin",children:[(0,s.jsx)(eY,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{className:"hidden lg:inline",children:"Admin Dashboard"}),(0,s.jsx)("span",{className:"lg:hidden",children:"Admin"})]})})})]}),C[7]=R,C[8]=_,C[9]=c):c=C[9],C[10]===Symbol.for("react.memo_cache_sentinel")?(f=(0,s.jsx)("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:"Your Progress"}),C[10]=f):f=C[10],C[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(e_,{className:"h-4 w-4 text-orange-500"}),(0,s.jsx)("span",{className:"text-sm",children:"Streak"})]}),C[11]=p):p=C[11];let E=S?.streak||0;return C[12]!==E?(x=(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[p,(0,s.jsxs)(d.Badge,{variant:"secondary",children:[E," days"]})]}),C[12]=E,C[13]=x):x=C[13],C[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ek,{className:"h-4 w-4 text-yellow-500"}),(0,s.jsx)("span",{className:"text-sm",children:"Points"})]}),C[14]=g):g=C[14],C[15]!==S?.points?(y=S?.points?.toLocaleString()||0,C[15]=S?.points,C[16]=y):y=C[16],C[17]!==y?(b=(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[g,(0,s.jsx)(d.Badge,{variant:"secondary",children:y})]}),C[17]=y,C[18]=b):b=C[18],C[19]===Symbol.for("react.memo_cache_sentinel")?(v=(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(eR.BookOpen,{className:"h-4 w-4 text-blue-500"}),(0,s.jsx)("span",{className:"text-sm",children:"Chapters Read"})]}),(0,s.jsx)(d.Badge,{variant:"secondary",children:"0"})]}),C[19]=v):v=C[19],C[20]!==b||C[21]!==x?(j=(0,s.jsxs)("div",{className:"px-3 py-2",children:[f,(0,s.jsxs)("div",{className:"space-y-3 px-4",children:[x,b,v]})]}),C[20]=b,C[21]=x,C[22]=j):j=C[22],C[23]!==j||C[24]!==i||C[25]!==c?(N=(0,s.jsxs)("div",{className:"space-y-4 py-4",children:[i,c,j]}),C[23]=j,C[24]=i,C[25]=c,C[26]=N):N=C[26],C[27]!==t||C[28]!==N?(w=(0,s.jsx)("div",{className:t,children:N}),C[27]=t,C[28]=N,C[29]=w):w=C[29],w}let eK=[{name:"Home",href:"/",icon:eB},{name:"Bible",href:"/bible",icon:eR.BookOpen},{name:"Devotionals",href:"/devotionals",icon:eE.Heart},{name:"Plans",href:"/plans",icon:eP.Calendar},{name:"Community",href:"/community",icon:eA.Users},{name:"Leaderboard",href:"/leaderboard",icon:ek}];function eX(){let e,t,a=(0,n.c)(4),r=(0,h.usePathname)();return a[0]!==r?(e=eK.map(e=>{let t=r===e.href;return(0,s.jsxs)(l.default,{href:e.href,className:(0,ed.cn)("flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-colors",t?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,s.jsx)(e.icon,{className:"h-4 w-4 mb-1"}),(0,s.jsx)("span",{className:"text-xs font-medium truncate max-w-full",children:e.name.split(" ")[0]})]},e.href)}),a[0]=r,a[1]=e):e=a[1],a[2]!==e?(t=(0,s.jsx)("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:(0,s.jsx)("div",{className:"grid grid-cols-6 gap-1 py-2",children:e})}),a[2]=e,a[3]=t):t=a[3],t}let eZ=(0,i.createContext)(void 0);function eQ(e){let t,a,r,l,o,c,d,u,h,f=(0,n.c)(26),{children:p}=e,{user:x}=(0,m.useAuth)(),[g,y]=(0,i.useState)(null),[b,v]=(0,i.useState)(!0);f[0]!==x?(t=()=>{x?y({referralCode:`JOURNEY${x.id.slice(-6).toUpperCase()}`,totalReferrals:12,activeReferrals:8,referralEarnings:2450,pendingEarnings:320,referralRank:15,referralBonus:500,referralHistory:[{id:"ref-1",referredUserId:"user-123",referredUsername:"John Doe",referralDate:new Date("2024-01-15"),status:"active",earnings:450,bonusEarned:!0},{id:"ref-2",referredUserId:"user-456",referredUsername:"Jane Smith",referralDate:new Date("2024-02-20"),status:"active",earnings:320,bonusEarned:!0},{id:"ref-3",referredUserId:"user-789",referredUsername:"Mike Johnson",referralDate:new Date("2024-03-10"),status:"pending",earnings:0,bonusEarned:!1}]}):y(null),v(!1)},a=[x],f[0]=x,f[1]=t,f[2]=a):(t=f[1],a=f[2]),(0,i.useEffect)(t,a),f[3]!==x?(r=()=>x?`JOURNEY${x.id.slice(-6).toUpperCase()}`:"JOURNEY123",f[3]=x,f[4]=r):r=f[4];let j=r;f[5]!==g?(l=async()=>{if(!g)return;let e=`https://journey.app/referral/${g.referralCode}`;try{await navigator.clipboard.writeText(e)}catch(e){console.error("Failed to copy referral link:",e)}},f[5]=g,f[6]=l):l=f[6];let N=l;f[7]!==x||f[8]!==g?(o=async e=>{if(!g||!x)return{success:!1,error:"User not authenticated"};try{return console.log("Sending referral invite to:",e),console.log("Referral code:",g.referralCode),{success:!0}}catch(e){return console.error("Failed to send referral invite:",e),{success:!1,error:"Failed to send invitation"}}},f[7]=x,f[8]=g,f[9]=o):o=f[9];let w=o;f[10]!==x||f[11]!==g?(c=async()=>{if(!g||!x)return{success:!1,error:"User not authenticated"};if(0===g.pendingEarnings)return{success:!1,error:"No pending bonuses to claim"};try{return console.log("Claiming referral bonus:",g.pendingEarnings),y(e0),{success:!0}}catch(e){return console.error("Failed to claim referral bonus:",e),{success:!1,error:"Failed to claim bonus"}}},f[10]=x,f[11]=g,f[12]=c):c=f[12];let C=c;f[13]!==g?(d=()=>g,f[13]=g,f[14]=d):d=f[14];let k=d;f[15]!==C||f[16]!==N||f[17]!==j||f[18]!==k||f[19]!==b||f[20]!==g||f[21]!==w?(u={referralData:g,loading:b,generateReferralCode:j,copyReferralLink:N,sendReferralInvite:w,validateReferralCode:e1,claimReferralBonus:C,getReferralStats:k},f[15]=C,f[16]=N,f[17]=j,f[18]=k,f[19]=b,f[20]=g,f[21]=w,f[22]=u):u=f[22];let _=u;return f[23]!==p||f[24]!==_?(h=(0,s.jsx)(eZ.Provider,{value:_,children:p}),f[23]=p,f[24]=_,f[25]=h):h=f[25],h}function e0(e){return e?{...e,referralEarnings:e.referralEarnings+e.pendingEarnings,pendingEarnings:0}:null}async function e1(e){try{return/^JOURNEY[A-Z0-9]{6}$/.test(e)}catch(e){return console.error("Failed to validate referral code:",e),!1}}function e2(e){let t,a,r,l,c,d,h,f,p,x,g,y=(0,n.c)(23),{children:b}=e,[v,j]=(0,i.useState)(!1);y[0]!==v?(t=()=>j(!v),y[0]=v,y[1]=t):t=y[1],y[2]!==v?(a=v?(0,s.jsx)(ec.X,{className:"h-4 w-4"}):(0,s.jsx)(eI,{className:"h-4 w-4"}),y[2]=v,y[3]=a):a=y[3],y[4]!==t||y[5]!==a?(r=(0,s.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,s.jsx)(o.Button,{variant:"outline",size:"sm",onClick:t,className:"bg-white shadow-lg",children:a})}),y[4]=t,y[5]=a,y[6]=r):r=y[6],y[7]!==v?(l=v&&(0,s.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>j(!1)}),y[7]=v,y[8]=l):l=y[8];let N=`
                fixed lg:relative lg:translate-x-0 
                transform -translate-x-full transition-transform duration-300 ease-in-out
                z-40 lg:z-0
                ${v?"translate-x-0":""}
              `;return y[9]===Symbol.for("react.memo_cache_sentinel")?(c=(0,s.jsx)(eW,{}),y[9]=c):c=y[9],y[10]!==N?(d=(0,s.jsx)("div",{className:N,children:c}),y[10]=N,y[11]=d):d=y[11],y[12]===Symbol.for("react.memo_cache_sentinel")?(h=(0,s.jsx)(eV,{}),y[12]=h):h=y[12],y[13]!==b?(f=(0,s.jsxs)("div",{className:"flex-1 flex flex-col lg:ml-0",children:[h,(0,s.jsx)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 pt-16 lg:pt-6 pb-20 lg:pb-8",children:b})]}),y[13]=b,y[14]=f):f=y[14],y[15]!==d||y[16]!==f?(p=(0,s.jsxs)("div",{className:"flex",children:[d,f]}),y[15]=d,y[16]=f,y[17]=p):p=y[17],y[18]===Symbol.for("react.memo_cache_sentinel")?(x=(0,s.jsx)(eX,{}),y[18]=x):x=y[18],y[19]!==p||y[20]!==r||y[21]!==l?(g=(0,s.jsx)(m.AuthProvider,{children:(0,s.jsx)(u.UserDataProvider,{children:(0,s.jsx)(eQ,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[r,l,p,x]})})})}),y[19]=p,y[20]=r,y[21]=l,y[22]=g):g=y[22],g}e.s(["Layout",()=>e2],85665)}]);