module.exports=[65402,97942,83077,16106,37673,21161,23312,50522,86520,87532,3887,a=>{"use strict";let b,c;var d,e=a.i(87924),f=a.i(72131),g=a.i(38246),h=a.i(99570),i=a.i(72233),j=a.i(86304),k=a.i(43897),l=a.i(71641),m=a.i(50944),n=a.i(7554),o=a.i(70121),p=a.i(92843),q=a.i(25152),r=a.i(96743),s=a.i(22297),t=a.i(92616),u=a.i(77192);function v(a){var b;let c,d=(b=a,(c=f.forwardRef((a,b)=>{let{children:c,...d}=a;if(f.isValidElement(c)){var e;let a,g,h=(e=c,(g=(a=Object.getOwnPropertyDescriptor(e.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.ref:(g=(a=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref),i=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(d,c.props);return c.type!==f.Fragment&&(i.ref=b?(0,o.composeRefs)(b,h):h),f.cloneElement(c,i)}return f.Children.count(c)>1?f.Children.only(null):null})).displayName=`${b}.SlotClone`,c),g=f.forwardRef((a,b)=>{let{children:c,...g}=a,h=f.Children.toArray(c),i=h.find(x);if(i){let a=i.props.children,c=h.map(b=>b!==i?b:f.Children.count(a)>1?f.Children.only(null):f.isValidElement(a)?a.props.children:null);return(0,e.jsx)(d,{...g,ref:b,children:f.isValidElement(a)?f.cloneElement(a,void 0,c):null})}return(0,e.jsx)(d,{...g,ref:b,children:c})});return g.displayName=`${a}.Slot`,g}a.i(35112);var w=Symbol("radix.slottable");function x(a){return f.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===w}var y=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,b)=>{let c=v(`Primitive.${b}`),d=f.forwardRef((a,d)=>{let{asChild:f,...g}=a;return(0,e.jsx)(f?c:b,{...g,ref:d})});return d.displayName=`Primitive.${b}`,{...a,[b]:d}},{}),z=a.i(86228),A=a.i(52081),B=a.i(41852),C="Dialog",[D,E]=function(a,b=[]){let c=[],d=()=>{let b=c.map(a=>f.createContext(a));return function(c){let d=c?.[a]||b;return f.useMemo(()=>({[`__scope${a}`]:{...c,[a]:d}}),[c,d])}};return d.scopeName=a,[function(b,d){let g=f.createContext(d),h=c.length;c=[...c,d];let i=b=>{let{scope:c,children:d,...i}=b,j=c?.[a]?.[h]||g,k=f.useMemo(()=>i,Object.values(i));return(0,e.jsx)(j.Provider,{value:k,children:d})};return i.displayName=b+"Provider",[i,function(c,e){let i=e?.[a]?.[h]||g,j=f.useContext(i);if(j)return j;if(void 0!==d)return d;throw Error(`\`${c}\` must be used within \`${b}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let c=()=>{let c=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let d=c.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return f.useMemo(()=>({[`__scope${b.scopeName}`]:d}),[d])}};return c.scopeName=b.scopeName,c}(d,...b)]}(C),[F,G]=D(C),H=a=>{let{__scopeDialog:b,children:c,open:d,defaultOpen:g,onOpenChange:h,modal:i=!0}=a,j=f.useRef(null),k=f.useRef(null),[l,m]=(0,q.useControllableState)({prop:d,defaultProp:g??!1,onChange:h,caller:C});return(0,e.jsx)(F,{scope:b,triggerRef:j,contentRef:k,contentId:(0,p.useId)(),titleId:(0,p.useId)(),descriptionId:(0,p.useId)(),open:l,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(a=>!a),[m]),modal:i,children:c})};H.displayName=C;var I="DialogTrigger",J=f.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,f=G(I,c),g=(0,o.useComposedRefs)(b,f.triggerRef);return(0,e.jsx)(y.button,{type:"button","aria-haspopup":"dialog","aria-expanded":f.open,"aria-controls":f.contentId,"data-state":ab(f.open),...d,ref:g,onClick:(0,n.composeEventHandlers)(a.onClick,f.onOpenToggle)})});J.displayName=I;var K="DialogPortal",[L,M]=D(K,{forceMount:void 0}),N=a=>{let{__scopeDialog:b,forceMount:c,children:d,container:g}=a,h=G(K,b);return(0,e.jsx)(L,{scope:b,forceMount:c,children:f.Children.map(d,a=>(0,e.jsx)(u.Presence,{present:c||h.open,children:(0,e.jsx)(t.Portal,{asChild:!0,container:g,children:a})}))})};N.displayName=K;var O="DialogOverlay",P=f.forwardRef((a,b)=>{let c=M(O,a.__scopeDialog),{forceMount:d=c.forceMount,...f}=a,g=G(O,a.__scopeDialog);return g.modal?(0,e.jsx)(u.Presence,{present:d||g.open,children:(0,e.jsx)(R,{...f,ref:b})}):null});P.displayName=O;var Q=v("DialogOverlay.RemoveScroll"),R=f.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,f=G(O,c);return(0,e.jsx)(A.RemoveScroll,{as:Q,allowPinchZoom:!0,shards:[f.contentRef],children:(0,e.jsx)(y.div,{"data-state":ab(f.open),...d,ref:b,style:{pointerEvents:"auto",...d.style}})})}),S="DialogContent",T=f.forwardRef((a,b)=>{let c=M(S,a.__scopeDialog),{forceMount:d=c.forceMount,...f}=a,g=G(S,a.__scopeDialog);return(0,e.jsx)(u.Presence,{present:d||g.open,children:g.modal?(0,e.jsx)(U,{...f,ref:b}):(0,e.jsx)(V,{...f,ref:b})})});T.displayName=S;var U=f.forwardRef((a,b)=>{let c=G(S,a.__scopeDialog),d=f.useRef(null),g=(0,o.useComposedRefs)(b,c.contentRef,d);return f.useEffect(()=>{let a=d.current;if(a)return(0,B.hideOthers)(a)},[]),(0,e.jsx)(W,{...a,ref:g,trapFocus:c.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),c.triggerRef.current?.focus()}),onPointerDownOutside:(0,n.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;(2===b.button||c)&&a.preventDefault()}),onFocusOutside:(0,n.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault())})}),V=f.forwardRef((a,b)=>{let c=G(S,a.__scopeDialog),d=f.useRef(!1),g=f.useRef(!1);return(0,e.jsx)(W,{...a,ref:b,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(d.current||c.triggerRef.current?.focus(),b.preventDefault()),d.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(d.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let e=b.target;c.triggerRef.current?.contains(e)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),W=f.forwardRef((a,b)=>{let{__scopeDialog:c,trapFocus:d,onOpenAutoFocus:g,onCloseAutoFocus:h,...i}=a,j=G(S,c),k=f.useRef(null),l=(0,o.useComposedRefs)(b,k);return(0,z.useFocusGuards)(),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(s.FocusScope,{asChild:!0,loop:!0,trapped:d,onMountAutoFocus:g,onUnmountAutoFocus:h,children:(0,e.jsx)(r.DismissableLayer,{role:"dialog",id:j.contentId,"aria-describedby":j.descriptionId,"aria-labelledby":j.titleId,"data-state":ab(j.open),...i,ref:l,onDismiss:()=>j.onOpenChange(!1)})}),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(af,{titleId:j.titleId}),(0,e.jsx)(ag,{contentRef:k,descriptionId:j.descriptionId})]})]})}),X="DialogTitle",Y=f.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,f=G(X,c);return(0,e.jsx)(y.h2,{id:f.titleId,...d,ref:b})});Y.displayName=X;var Z="DialogDescription",$=f.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,f=G(Z,c);return(0,e.jsx)(y.p,{id:f.descriptionId,...d,ref:b})});$.displayName=Z;var _="DialogClose",aa=f.forwardRef((a,b)=>{let{__scopeDialog:c,...d}=a,f=G(_,c);return(0,e.jsx)(y.button,{type:"button",...d,ref:b,onClick:(0,n.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})});function ab(a){return a?"open":"closed"}aa.displayName=_;var ac="DialogTitleWarning",[ad,ae]=(d={contentName:S,titleName:X,docsSlug:"dialog"},b=f.createContext(d),(c=a=>{let{children:c,...d}=a,g=f.useMemo(()=>d,Object.values(d));return(0,e.jsx)(b.Provider,{value:g,children:c})}).displayName=ac+"Provider",[c,function(a){let c=f.useContext(b);if(c)return c;if(void 0!==d)return d;throw Error(`\`${a}\` must be used within \`${ac}\``)}]),af=({titleId:a})=>{let b=ae(ac),c=`\`${b.contentName}\` requires a \`${b.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${b.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${b.docsSlug}`;return f.useEffect(()=>{a&&(document.getElementById(a)||console.error(c))},[c,a]),null},ag=({contentRef:a,descriptionId:b})=>{let c=ae("DialogDescriptionWarning"),d=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${c.contentName}}.`;return f.useEffect(()=>{let c=a.current?.getAttribute("aria-describedby");b&&c&&(document.getElementById(b)||console.warn(d))},[d,a,b]),null};a.s(["Close",()=>aa,"Content",()=>T,"Description",()=>$,"Overlay",()=>P,"Portal",()=>N,"Root",()=>H,"Title",()=>Y,"Trigger",()=>J],97942);var ah=a.i(187),ai=a.i(33508),aj=a.i(68114);let ak=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(P,{className:(0,aj.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b,ref:c}));ak.displayName=P.displayName;let al=(0,ah.cva)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),am=f.forwardRef(({side:a="right",className:b,children:c,...d},f)=>(0,e.jsxs)(N,{children:[(0,e.jsx)(ak,{}),(0,e.jsxs)(T,{ref:f,className:(0,aj.cn)(al({side:a}),b),...d,children:[c,(0,e.jsxs)(aa,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,e.jsx)(ai.X,{className:"h-4 w-4"}),(0,e.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));am.displayName=T.displayName;let an=({className:a,...b})=>(0,e.jsx)("div",{className:(0,aj.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...b});an.displayName="SheetHeader";let ao=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(Y,{ref:c,className:(0,aj.cn)("text-lg font-semibold text-foreground",a),...b}));ao.displayName=Y.displayName,f.forwardRef(({className:a,...b},c)=>(0,e.jsx)($,{ref:c,className:(0,aj.cn)("text-sm text-muted-foreground",a),...b})).displayName=$.displayName;var ap=a.i(91119),aq=a.i(3749);let ar=class{static showNotification(a){console.log(`[${a.type.toUpperCase()}] ${a.title}: ${a.message}`)}static showAchievementNotification(a,b){this.showNotification({type:"achievement",title:a,message:`You earned ${b} points!`,icon:"trophy",duration:5e3})}static showStreakNotification(a){this.showNotification({type:"streak",title:"Streak Updated!",message:`You're on a ${a}-day streak!`,icon:"flame",duration:5e3})}};var as=a.i(86130),at=a.i(78138),au=a.i(8406),av=a.i(41710),aw=a.i(16201),ax=a.i(70106);let ay=(0,ax.default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);a.s(["Trophy",()=>ay],83077);let az=(0,ax.default)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]);function aA(){let{user:a}=(0,k.useAuth)(),{user:b,refreshData:c}=(0,l.useUserData)(),[d,g]=(0,f.useState)({canClaim:!1,claimedToday:!1}),[i,m]=(0,f.useState)(!1),[n,o]=(0,f.useState)(new Date),p=async()=>{if(a)try{let c,d=new Date,e=as.supabaseService.getClient(),{data:f,error:h}=await e.from("daily_login_rewards").select("*").eq("user_id",a.id).gte("created_at",new Date(d.getTime()-864e5).toISOString()).order("created_at",{ascending:!1}).limit(1).maybeSingle(),i=!!f;if(i&&f?.created_at){let a=new Date(f.created_at);c=new Date(a.getTime()+864e5)}g({canClaim:!i,claimedToday:i,nextClaimTime:i?c:void 0,pointsAwarded:f?.points_awarded,streak:b?.streak||0})}catch(a){console.error("Error checking claim status:",a),g({canClaim:!0,claimedToday:!1,streak:b?.streak||0})}},q=async()=>{if(a&&d.canClaim&&!i){m(!0);try{let b=await aq.achievementService.trackDailyLogin(a.id);b.pointsAwarded>0&&(await ar.showNotification({type:"achievement",title:"Daily Points Claimed!",message:`You earned ${b.pointsAwarded} points!`,icon:"gift",duration:5e3}),await c(),await p())}catch(a){console.error("Error claiming daily points:",a),await ar.showNotification({type:"error",title:"Claim Failed",message:"Unable to claim daily points. Please try again.",icon:"error",duration:5e3})}finally{m(!1)}}};return((0,f.useEffect)(()=>{a&&p()},[a,b?.streak]),(0,f.useEffect)(()=>{let a=setInterval(()=>{o(new Date)},6e4);return()=>clearInterval(a)},[]),a)?d.claimedToday?(0,e.jsx)("div",{className:"flex items-center space-x-2",children:(0,e.jsxs)(j.Badge,{className:"px-2 py-1 bg-green-100 text-green-800 border-green-200",children:[(0,e.jsx)(aw.CheckCircle,{className:"h-3 w-3 mr-1"}),"Claimed"]})}):(0,e.jsxs)(ap.Card,{className:"bg-linear-to-br from-yellow-50 to-orange-50 border-yellow-200",children:[(0,e.jsxs)(ap.CardHeader,{className:"pb-3",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)("div",{className:"w-8 h-8 bg-linear-to-br from-yellow-400 to-orange-500 rounded-lg flex items-center justify-center",children:(0,e.jsx)(at.Gift,{className:"h-4 w-4 text-white"})}),(0,e.jsx)(ap.CardTitle,{className:"text-lg text-gray-900",children:"Daily Points"})]}),d.streak&&d.streak>0&&(0,e.jsxs)(j.Badge,{className:"bg-orange-100 text-orange-800 border-orange-200",children:[(0,e.jsx)(az,{className:"h-3 w-3 mr-1"}),d.streak," day streak"]})]}),(0,e.jsx)(ap.CardDescription,{className:"text-gray-700 dark:text-gray-300",children:"Claim your daily points and maintain your streak!"})]}),(0,e.jsx)(ap.CardContent,{className:"pt-0",children:d.canClaim?(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsx)(h.Button,{onClick:q,disabled:i,className:"w-full bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white shadow-lg transition-all duration-200 hover:shadow-xl",children:i?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Claiming..."]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(at.Gift,{className:"mr-2 h-4 w-4"}),"Claim Daily Points",(0,e.jsx)(au.Sparkles,{className:"ml-2 h-4 w-4"})]})}),(0,e.jsxs)("div",{className:"text-center text-sm text-gray-700 dark:text-gray-300",children:[(0,e.jsx)(ay,{className:"h-3 w-3 inline mr-1"}),"Earn points and maintain your streak!"]})]}):d.nextClaimTime?(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[(0,e.jsx)(aw.CheckCircle,{className:"h-4 w-4"}),(0,e.jsx)("span",{className:"font-medium",children:"Already claimed today!"})]}),(0,e.jsxs)("div",{className:"text-center text-sm text-muted-foreground",children:[(0,e.jsx)(av.Clock,{className:"h-3 w-3 inline mr-1"}),"Next claim: ",d.nextClaimTime.toLocaleTimeString()]})]}):null})]}):null}function aB(){let{user:a}=(0,k.useAuth)(),{user:b,refreshData:c}=(0,l.useUserData)(),[d,g]=(0,f.useState)({canClaim:!1,claimedToday:!1}),[i,j]=(0,f.useState)(!1),m=async()=>{if(a)try{let c=new Date,d=as.supabaseService.getClient(),{data:e}=await d.from("daily_login_rewards").select("*").eq("user_id",a.id).gte("created_at",new Date(c.getTime()-864e5).toISOString()).order("created_at",{ascending:!1}).limit(1).maybeSingle(),f=!!e;g({canClaim:!f,claimedToday:f,streak:b?.streak||0})}catch(a){g({canClaim:!0,claimedToday:!1,streak:b?.streak||0})}},n=async()=>{if(a&&d.canClaim&&!i){j(!0);try{let b=await aq.achievementService.trackDailyLogin(a.id);b.pointsAwarded>0&&(await ar.showNotification({type:"achievement",title:"Daily Points Claimed!",message:`You earned ${b.pointsAwarded} points!`,icon:"gift",duration:5e3}),await c(),await m())}catch(a){console.error("Error claiming daily points:",a)}finally{j(!1)}}};return((0,f.useEffect)(()=>{a&&m()},[a]),!a||d.claimedToday)?null:(0,e.jsx)(h.Button,{onClick:n,disabled:i,size:"sm",className:"bg-linear-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white shadow-md transition-all duration-200",children:i?(0,e.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(at.Gift,{className:"h-3 w-3 mr-1"}),"Claim"]})})}a.s(["Flame",()=>az],16106),a.s(["DailyPointsClaim",()=>aA,"DailyPointsClaimCompact",()=>aB],37673);var aC=a.i(53722),aD=a.i(76472),aE=a.i(41675),aF=a.i(60246);let aG=(0,ax.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Settings",()=>aG],21161);let aH=(0,ax.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),aI=(0,ax.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),aJ=(0,ax.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);a.s(["Bell",()=>aJ],23312);var aK=a.i(46842);let aL=(0,ax.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),aM=(0,ax.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>aM],50522);let aN=(0,ax.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);function aO(){let a=(0,m.usePathname)(),{user:b}=(0,l.useUserData)(),[c,d]=(0,f.useState)(!1),i=[{name:"Home",href:"/",icon:aH,color:"text-blue-500",bgColor:"bg-blue-50 hover:bg-blue-100",description:"Dashboard & Overview"},{name:"Bible",href:"/bible",icon:aC.BookOpen,color:"text-green-500",bgColor:"bg-linear-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200",description:"Read Scripture"},{name:"Devotionals",href:"/devotionals",icon:aD.Heart,color:"text-pink-500",bgColor:"bg-pink-50 hover:bg-pink-100",description:"Daily Reflections"},{name:"Reading Plans",href:"/plans",icon:aE.Calendar,color:"text-purple-500",bgColor:"bg-purple-50 hover:bg-purple-100",description:"Structured Learning"},{name:"Community",href:"/community",icon:aF.Users,color:"text-orange-500",bgColor:"bg-orange-50 hover:bg-orange-100",description:"Connect & Share"},{name:"Leaderboard",href:"/leaderboard",icon:aN,color:"text-purple-500",bgColor:"bg-purple-50 hover:bg-purple-100",description:"Top Rankings"},{name:"Achievements",href:"/achievements",icon:ay,color:"text-yellow-500",bgColor:"bg-yellow-50 hover:bg-yellow-100",description:"Your Progress"},{name:"Donations",href:"/donations",icon:at.Gift,color:"text-pink-500",bgColor:"bg-pink-50 hover:bg-pink-100",description:"Support & Tokens"},{name:"Settings",href:"/settings",icon:aG,color:"text-gray-500",bgColor:"bg-gray-50 hover:bg-gray-100",description:"Preferences"}],j=()=>d(!1);return(0,e.jsxs)(H,{open:c,onOpenChange:d,children:[(0,e.jsx)(J,{asChild:!0,children:(0,e.jsx)(h.Button,{variant:"ghost",size:"icon",className:"md:hidden h-12 w-12 rounded-full shadow-lg bg-primary/10 hover:bg-primary/20 transition-all duration-200",children:(0,e.jsx)(aI,{className:"h-6 w-6"})})}),(0,e.jsxs)(am,{side:"left",className:"w-80 p-0 overflow-hidden",children:[(0,e.jsx)(an,{className:"p-6 pb-4 border-b",children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,e.jsx)("div",{className:"w-10 h-10 bg-linear-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,e.jsx)(aC.BookOpen,{className:"h-6 w-6 text-white"})}),(0,e.jsxs)("div",{children:[(0,e.jsx)(ao,{className:"text-lg font-bold",children:"Journey"}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your Spiritual Path"})]})]}),(0,e.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:j,children:(0,e.jsx)(ai.X,{className:"h-5 w-5"})})]})}),(0,e.jsx)("div",{className:"p-6 pb-4 border-b",children:(0,e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)("div",{className:"w-12 h-12 bg-linear-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:(0,e.jsx)(aK.User,{className:"h-6 w-6 text-white"})}),(0,e.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-background"})]}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("div",{className:"font-semibold",children:b?.username||"Guest"}),(0,e.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Level ",b?.level||1]})]}),(0,e.jsxs)("div",{className:"text-right",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-1 text-sm font-medium",children:[(0,e.jsx)(ay,{className:"h-4 w-4 text-yellow-500"}),(0,e.jsx)("span",{children:b?.points?.toLocaleString()||0})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[(0,e.jsx)(az,{className:"h-4 w-4 text-orange-500"}),(0,e.jsxs)("span",{children:[b?.streak||0," days"]})]})]})]})}),(0,e.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,e.jsx)("div",{className:"space-y-2",children:i.map(b=>{let c=a===b.href,d=b.icon;return(0,e.jsx)(g.default,{href:b.href,onClick:j,children:(0,e.jsxs)("div",{className:(0,aj.cn)("flex items-center space-x-4 p-4 rounded-xl transition-all duration-200 group",c?"bg-primary text-primary-foreground shadow-lg scale-105":b.bgColor),children:[(0,e.jsx)("div",{className:(0,aj.cn)("w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-200",c?"bg-primary-foreground/20":"bg-white shadow-sm group-hover:shadow-md"),children:(0,e.jsx)(d,{className:(0,aj.cn)("h-6 w-6 transition-all duration-200",c?"text-primary-foreground":b.color)})}),(0,e.jsxs)("div",{className:"flex-1",children:[(0,e.jsx)("div",{className:"font-medium",children:b.name}),(0,e.jsx)("div",{className:(0,aj.cn)("text-sm transition-all duration-200",c?"text-primary-foreground/80":"text-muted-foreground"),children:b.description})]}),(0,e.jsx)(aM,{className:(0,aj.cn)("h-5 w-5 transition-all duration-200",c?"text-primary-foreground":"text-muted-foreground")})]})},b.href)})})}),(0,e.jsxs)("div",{className:"p-4 border-t space-y-3",children:[(0,e.jsx)(aB,{}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,e.jsxs)(h.Button,{variant:"outline",className:"h-12 space-x-2",children:[(0,e.jsx)(aJ,{className:"h-4 w-4"}),(0,e.jsx)("span",{children:"Notifications"})]}),(0,e.jsxs)(h.Button,{variant:"outline",className:"h-12 space-x-2",children:[(0,e.jsx)(aL,{className:"h-4 w-4"}),(0,e.jsx)("span",{children:"Sign Out"})]})]})]})]})]})}a.s(["Crown",()=>aN],86520);let aP=(0,ax.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>aP],87532);var aQ=a.i(31067);function aR(){let{user:a,signOut:b}=(0,k.useAuth)(),{user:c}=(0,l.useUserData)(),d=async()=>{await b()};return(0,e.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60",children:(0,e.jsxs)("div",{className:"container flex h-16 items-center justify-between px-4",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,e.jsx)(aO,{}),(0,e.jsxs)(g.default,{href:"/",className:"flex items-center space-x-2",children:[(0,e.jsx)("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-linear-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,e.jsx)(aC.BookOpen,{className:"h-3 w-3 sm:h-5 sm:w-5 text-white"})}),(0,e.jsx)("span",{className:"text-lg sm:text-xl font-bold bg-linear-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Journey"})]})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-4",children:[(0,e.jsx)(h.Button,{variant:"ghost",size:"icon",className:"hidden sm:flex h-8 w-8 sm:h-10 sm:w-10 rounded-full hover:bg-primary/10 transition-all duration-200",children:(0,e.jsx)(aP,{className:"h-4 w-4"})}),(0,e.jsxs)(h.Button,{variant:"ghost",size:"icon",className:"relative h-8 w-8 sm:h-10 sm:w-10 rounded-full hover:bg-primary/10 transition-all duration-200",children:[(0,e.jsx)(aJ,{className:"h-4 w-4"}),(0,e.jsx)("span",{className:"absolute -top-1 -right-1 h-2 w-2 sm:h-3 sm:w-3 bg-red-500 rounded-full border-2 border-background"})]}),a?(0,e.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2 md:space-x-4",children:[(0,e.jsx)(aB,{}),(0,e.jsxs)(j.Badge,{className:"hidden md:flex items-center space-x-1 px-2 py-1 sm:px-3 sm:py-1.5 bg-linear-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-200 shadow-sm",children:[(0,e.jsx)(ay,{className:"h-3 w-3"}),(0,e.jsx)("span",{className:"font-medium text-xs sm:text-sm",children:c?.points?.toLocaleString()||0})]}),(0,e.jsxs)(j.Badge,{className:"hidden md:flex items-center space-x-1 px-2 py-1 sm:px-3 sm:py-1.5 bg-linear-to-r from-orange-100 to-red-100 text-orange-800 border-orange-200 shadow-sm",children:[(0,e.jsx)(az,{className:"h-3 w-3"}),(0,e.jsxs)("span",{className:"font-medium text-xs sm:text-sm",children:[c?.streak||0," days"]})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsxs)(i.Avatar,{className:"h-7 w-7 sm:h-9 sm:w-9 md:h-10 md:w-10 ring-2 ring-primary/10",children:[(0,e.jsx)(i.AvatarImage,{src:c?.avatar}),(0,e.jsx)(i.AvatarFallback,{className:"bg-linear-to-br from-blue-400 to-purple-500 text-white font-medium text-sm",children:a.email?.charAt(0).toUpperCase()||"U"})]}),(0,e.jsx)("div",{className:"absolute -bottom-1 -right-1 w-2 h-2 sm:w-3 sm:h-3 bg-green-500 rounded-full border-2 border-background"})]}),(0,e.jsxs)("div",{className:"hidden md:block",children:[(0,e.jsx)(g.default,{href:"/settings",className:"text-sm font-medium hover:text-primary transition-colors",children:c?.username||a.email?.split("@")[0]}),(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Level ",c?.level||1]}),(0,e.jsxs)("div",{className:"text-xs text-blue-600 font-medium",children:["Ref: ",c?.username||a.email?.split("@")[0]]})]})]})]}),(0,e.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:d,className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full hover:bg-red-50 hover:text-red-600 transition-all duration-200",children:(0,e.jsx)(aL,{className:"h-4 w-4"})})]}):(0,e.jsx)(g.default,{href:"/auth",children:(0,e.jsxs)(h.Button,{className:"h-8 px-3 sm:h-10 sm:px-6 bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-lg transition-all duration-200 text-xs sm:text-sm",children:[(0,e.jsx)(aQ.LogIn,{className:"mr-1 h-3 w-3 sm:mr-2 sm:h-4 sm:w-4"}),(0,e.jsx)("span",{className:"hidden sm:inline",children:"Sign In"}),(0,e.jsx)("span",{className:"sm:hidden",children:"Login"})]})})]})]})})}let aS=(0,ax.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var aT=a.i(17371);let aU=(0,ax.default)("cross",[["path",{d:"M4 9a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4a1 1 0 0 1 1 1v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a1 1 0 0 1 1-1h4a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-4a1 1 0 0 1-1-1V4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4a1 1 0 0 1-1 1z",key:"1xbrqy"}]]);a.s(["Cross",()=>aU],3887);let aV=[{name:"Home",href:"/",icon:aH},{name:"Bible",href:"/bible",icon:aC.BookOpen},{name:"Devotionals",href:"/devotionals",icon:aD.Heart},{name:"Reading Plans",href:"/plans",icon:aE.Calendar},{name:"Virgo AI",href:"/ai-tools",icon:aU},{name:"Community",href:"/community",icon:aF.Users},{name:"Leaderboard",href:"/leaderboard",icon:aN},{name:"Achievements",href:"/achievements",icon:ay},{name:"Referrals",href:"/referrals",icon:aT.UserPlus},{name:"Donations",href:"/donations",icon:at.Gift}];function aW({className:a}){let b=(0,m.usePathname)(),{user:c}=(0,l.useUserData)(),{user:d}=(0,k.useAuth)(),f=d?.app_metadata?.role==="admin"||d?.app_metadata?.role==="owner";return(0,e.jsx)("div",{className:(0,aj.cn)("pb-12 w-64 h-screen bg-white border-r border-gray-200 lg:border-r-0",a),children:(0,e.jsxs)("div",{className:"space-y-4 py-4",children:[(0,e.jsxs)("div",{className:"px-3 py-2",children:[(0,e.jsx)("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:"Journey"}),(0,e.jsx)("div",{className:"space-y-1",children:aV.map(a=>(0,e.jsx)(h.Button,{variant:b===a.href?"secondary":"ghost",className:"w-full justify-start h-10 lg:h-9",asChild:!0,children:(0,e.jsxs)(g.default,{href:a.href,children:[(0,e.jsx)(a.icon,{className:"mr-2 h-4 w-4"}),(0,e.jsx)("span",{className:"hidden lg:inline",children:a.name}),(0,e.jsx)("span",{className:"lg:hidden",children:a.name.split(" ")[0]})]})},a.href))})]}),f&&(0,e.jsxs)("div",{className:"px-3 py-2",children:[(0,e.jsxs)("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:[(0,e.jsx)("span",{className:"hidden lg:inline",children:"Admin"}),(0,e.jsx)("span",{className:"lg:hidden",children:"Adm"})]}),(0,e.jsx)("div",{className:"space-y-1",children:(0,e.jsx)(h.Button,{variant:"/admin"===b?"secondary":"ghost",className:"w-full justify-start h-10 lg:h-9",asChild:!0,children:(0,e.jsxs)(g.default,{href:"/admin",children:[(0,e.jsx)(aS,{className:"mr-2 h-4 w-4"}),(0,e.jsx)("span",{className:"hidden lg:inline",children:"Admin Dashboard"}),(0,e.jsx)("span",{className:"lg:hidden",children:"Admin"})]})})})]}),(0,e.jsxs)("div",{className:"px-3 py-2",children:[(0,e.jsx)("h2",{className:"mb-2 px-4 text-lg font-semibold tracking-tight",children:"Your Progress"}),(0,e.jsxs)("div",{className:"space-y-3 px-4",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(az,{className:"h-4 w-4 text-orange-500"}),(0,e.jsx)("span",{className:"text-sm",children:"Streak"})]}),(0,e.jsxs)(j.Badge,{variant:"secondary",children:[c?.streak||0," days"]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(ay,{className:"h-4 w-4 text-yellow-500"}),(0,e.jsx)("span",{className:"text-sm",children:"Points"})]}),(0,e.jsx)(j.Badge,{variant:"secondary",children:c?.points?.toLocaleString()||0})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(aC.BookOpen,{className:"h-4 w-4 text-blue-500"}),(0,e.jsx)("span",{className:"text-sm",children:"Chapters Read"})]}),(0,e.jsx)(j.Badge,{variant:"secondary",children:"0"})]})]})]})]})})}let aX=[{name:"Home",href:"/",icon:aH},{name:"Bible",href:"/bible",icon:aC.BookOpen},{name:"Devotionals",href:"/devotionals",icon:aD.Heart},{name:"Plans",href:"/plans",icon:aE.Calendar},{name:"Community",href:"/community",icon:aF.Users},{name:"Leaderboard",href:"/leaderboard",icon:ay}];function aY(){let a=(0,m.usePathname)();return(0,e.jsx)("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50",children:(0,e.jsx)("div",{className:"grid grid-cols-6 gap-1 py-2",children:aX.map(b=>{let c=a===b.href;return(0,e.jsxs)(g.default,{href:b.href,className:(0,aj.cn)("flex flex-col items-center justify-center py-2 px-1 rounded-lg transition-colors",c?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,e.jsx)(b.icon,{className:"h-4 w-4 mb-1"}),(0,e.jsx)("span",{className:"text-xs font-medium truncate max-w-full",children:b.name.split(" ")[0]})]},b.href)})})})}let aZ=(0,f.createContext)(void 0);function a$({children:a}){let{user:b}=(0,k.useAuth)(),[c,d]=(0,f.useState)(null),[g,h]=(0,f.useState)(!0);(0,f.useEffect)(()=>{b?d({referralCode:`JOURNEY${b.id.slice(-6).toUpperCase()}`,totalReferrals:12,activeReferrals:8,referralEarnings:2450,pendingEarnings:320,referralRank:15,referralBonus:500,referralHistory:[{id:"ref-1",referredUserId:"user-123",referredUsername:"John Doe",referralDate:new Date("2024-01-15"),status:"active",earnings:450,bonusEarned:!0},{id:"ref-2",referredUserId:"user-456",referredUsername:"Jane Smith",referralDate:new Date("2024-02-20"),status:"active",earnings:320,bonusEarned:!0},{id:"ref-3",referredUserId:"user-789",referredUsername:"Mike Johnson",referralDate:new Date("2024-03-10"),status:"pending",earnings:0,bonusEarned:!1}]}):d(null),h(!1)},[b]);let i=async()=>{if(!c)return;let a=`https://journey.app/referral/${c.referralCode}`;try{await navigator.clipboard.writeText(a)}catch(a){console.error("Failed to copy referral link:",a)}},j=async a=>{if(!c||!b)return{success:!1,error:"User not authenticated"};try{return console.log("Sending referral invite to:",a),console.log("Referral code:",c.referralCode),{success:!0}}catch(a){return console.error("Failed to send referral invite:",a),{success:!1,error:"Failed to send invitation"}}},l=async a=>{try{return/^JOURNEY[A-Z0-9]{6}$/.test(a)}catch(a){return console.error("Failed to validate referral code:",a),!1}},m=async()=>{if(!c||!b)return{success:!1,error:"User not authenticated"};if(0===c.pendingEarnings)return{success:!1,error:"No pending bonuses to claim"};try{return console.log("Claiming referral bonus:",c.pendingEarnings),d(a=>a?{...a,referralEarnings:a.referralEarnings+a.pendingEarnings,pendingEarnings:0}:null),{success:!0}}catch(a){return console.error("Failed to claim referral bonus:",a),{success:!1,error:"Failed to claim bonus"}}};return(0,e.jsx)(aZ.Provider,{value:{referralData:c,loading:g,generateReferralCode:()=>b?`JOURNEY${b.id.slice(-6).toUpperCase()}`:"JOURNEY123",copyReferralLink:i,sendReferralInvite:j,validateReferralCode:l,claimReferralBonus:m,getReferralStats:()=>c},children:a})}function a_({children:a}){let[b,c]=(0,f.useState)(!1);return(0,e.jsx)(k.AuthProvider,{children:(0,e.jsx)(l.UserDataProvider,{children:(0,e.jsx)(a$,{children:(0,e.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,e.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,e.jsx)(h.Button,{variant:"outline",size:"sm",onClick:()=>c(!b),className:"bg-white shadow-lg",children:b?(0,e.jsx)(ai.X,{className:"h-4 w-4"}):(0,e.jsx)(aI,{className:"h-4 w-4"})})}),b&&(0,e.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>c(!1)}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:`
                fixed lg:relative lg:translate-x-0 
                transform -translate-x-full transition-transform duration-300 ease-in-out
                z-40 lg:z-0
                ${b?"translate-x-0":""}
              `,children:(0,e.jsx)(aW,{})}),(0,e.jsxs)("div",{className:"flex-1 flex flex-col lg:ml-0",children:[(0,e.jsx)(aR,{}),(0,e.jsx)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 pt-16 lg:pt-6 pb-20 lg:pb-8",children:a})]})]}),(0,e.jsx)(aY,{})]})})})})}a.s(["Layout",()=>a_],65402)}];

//# sourceMappingURL=src_components_layout_Layout_tsx_85136d8c._.js.map