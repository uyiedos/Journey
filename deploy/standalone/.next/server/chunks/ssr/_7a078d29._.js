module.exports=[73390,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50104),e=a.i(30553),f="Progress",[g,h]=(0,d.createContextScope)(f),[i,j]=g(f),k=c.forwardRef((a,c)=>{var d,f;let{__scopeProgress:g,value:h=null,max:j,getValueLabel:k=n,...l}=a;(j||0===j)&&!q(j)&&console.error((d=`${j}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=q(j)?j:100;null===h||r(h,m)||console.error((f=`${h}`,`Invalid prop \`value\` of value \`${f}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let s=r(h,m)?h:null,t=p(s)?k(s,m):void 0;return(0,b.jsx)(i,{scope:g,value:s,max:m,children:(0,b.jsx)(e.Primitive.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":p(s)?s:void 0,"aria-valuetext":t,role:"progressbar","data-state":o(s,m),"data-value":s??void 0,"data-max":m,...l,ref:c})})});k.displayName=f;var l="ProgressIndicator",m=c.forwardRef((a,c)=>{let{__scopeProgress:d,...f}=a,g=j(l,d);return(0,b.jsx)(e.Primitive.div,{"data-state":o(g.value,g.max),"data-value":g.value??void 0,"data-max":g.max,...f,ref:c})});function n(a,b){return`${Math.round(a/b*100)}%`}function o(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function p(a){return"number"==typeof a}function q(a){return p(a)&&!isNaN(a)&&a>0}function r(a,b){return p(a)&&!isNaN(a)&&a<=b&&a>=0}m.displayName=l;var s=a.i(68114);let t=c.forwardRef(({className:a,value:c,...d},e)=>(0,b.jsx)(k,{ref:e,className:(0,s.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...d,children:(0,b.jsx)(m,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})}));t.displayName=k.displayName,a.s(["Progress",()=>t],73390)},21374,a=>{"use strict";let b=(0,a.i(70106).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],21374)},28223,a=>{"use strict";var b=a.i(10849);let c=new class{async getPublicReadingPlans(){try{let{data:a,error:c}=await b.supabase.from("reading_plans").select("*").eq("is_public",!0).order("created_at",{ascending:!1});if(c)throw c;return a||[]}catch(a){return console.error("Error fetching reading plans:",a),[]}}async getReadingPlanById(a){if(!a)return console.error("Error: No ID provided to getReadingPlanById"),null;try{console.log(`Fetching reading plan with ID: ${a}`);let{data:c,error:d}=await b.supabase.from("reading_plans").select("*").eq("id",a).single();if(d)throw console.error("Supabase error details:",{message:d.message,details:d.details,hint:d.hint}),d;if(!c)return console.error(`No reading plan found with ID: ${a}`),null;return c}catch(b){return console.error("Error in getReadingPlanById:",{error:b,errorString:String(b),errorObject:JSON.stringify(b,Object.getOwnPropertyNames(b)),planId:a}),null}}async startReadingPlan(a,c){try{let{data:d,error:e}=await b.supabase.from("user_reading_plans").insert([{user_id:a,plan_id:c,started_at:new Date().toISOString(),current_day:1,is_active:!0}]).select().single();if(e)throw e;return await this.awardPoints(a,10,"Started a reading plan"),d}catch(a){throw console.error("Error starting reading plan:",a),a}}async getUserReadingPlans(a){try{let{data:c,error:d}=await b.supabase.from("user_reading_plans").select(`
          *,
          reading_plans (*)
        `).eq("user_id",a).order("started_at",{ascending:!1});if(d)throw d;return c||[]}catch(a){return console.error("Error fetching user reading plans:",a),[]}}async getPlanProgress(a,c){try{let{data:d,error:e}=await b.supabase.from("reading_plan_progress").select("*").eq("user_id",a).eq("plan_id",c).order("day_number",{ascending:!0});if(e)throw e;return d||[]}catch(a){return console.error("Error fetching plan progress:",a),[]}}async completeDay(a,c,d,e){try{let{data:f,error:g}=await b.supabase.from("reading_plan_progress").upsert([{user_id:a,plan_id:c,day:d,completed:!0,completed_at:new Date().toISOString(),notes:e||null,points_earned:5}]).select().single();if(g)throw g;return await this.awardPoints(a,5,"Completed a reading plan day"),await b.supabase.from("user_reading_plans").update({current_day:d+1,updated_at:new Date().toISOString()}).eq("user_id",a).eq("plan_id",c),f}catch(a){throw console.error("Error completing day:",a),a}}async completeReadingPlan(a,c){try{let d=await this.getReadingPlanById(c);if(!d)throw Error("Plan not found");let e=2*d.duration,{data:f,error:g}=await b.supabase.from("user_reading_plans").update({is_active:!1,completed_at:new Date().toISOString()}).eq("user_id",a).eq("plan_id",c).select().single();if(g)throw g;return await this.awardPoints(a,e,"Completed a reading plan"),f}catch(a){throw console.error("Error completing reading plan:",a),a}}async awardPoints(a,c,d){try{let{error:e}=await b.supabase.rpc("increment_user_points",{p_user_id:a,p_points:c});if(e)throw e;let{error:f}=await b.supabase.from("activities").insert([{user_id:a,type:"reading_plan",description:d,points:c,created_at:new Date().toISOString()}]);if(f)throw f}catch(a){console.error("Error awarding points:",a)}}async getPlanStats(a){try{let{data:c,error:d}=await b.supabase.from("user_reading_plans").select("is_completed").eq("plan_id",a);if(d)throw d;let e=c?.length||0,f=c?.filter(a=>a.is_completed).length||0;return{totalParticipants:e,averageCompletion:e>0?f/e*100:0,totalCompletions:f}}catch(a){return console.error("Error fetching plan stats:",a),{totalParticipants:0,averageCompletion:0,totalCompletions:0}}}async createReadingPlan(a){try{let{data:c,error:d}=await b.supabase.from("reading_plans").insert([a]).select().single();if(d)throw d;return c}catch(a){throw console.error("Error creating reading plan:",a),a}}};a.s(["readingPlanService",0,c])},50429,a=>{"use strict";let b=(0,a.i(70106).default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);a.s(["Target",()=>b],50429)},93518,a=>{"use strict";let b=(0,a.i(70106).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);a.s(["Award",()=>b],93518)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},25015,a=>{"use strict";let b=(0,a.i(70106).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);a.s(["Play",()=>b],25015)},1027,a=>{"use strict";let b=(0,a.i(70106).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>b],1027)},15618,69012,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>c],15618);let d=(0,b.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>d],69012)},14548,a=>{"use strict";let b=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)}];

//# sourceMappingURL=_7a078d29._.js.map